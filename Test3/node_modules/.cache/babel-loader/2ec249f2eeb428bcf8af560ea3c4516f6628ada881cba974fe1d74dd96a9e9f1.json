{"ast":null,"code":"import React, { useLayoutEffect, useEffect, useRef, useState, useContext } from 'react';\nimport { useMemo, useCallback } from 'use-memo-one';\nimport _inheritsLoose from '@babel/runtime-corejs2/helpers/esm/inheritsLoose';\nimport _extends from '@babel/runtime-corejs2/helpers/esm/extends';\nimport { createStore as createStore$1, applyMiddleware, compose, bindActionCreators } from 'redux';\nimport { Provider, connect } from 'react-redux';\nimport { getRect, expand, offset, withScroll, getBox, createBox, calculateBox } from 'css-box-model';\nimport memoizeOne from 'memoize-one';\nimport _Object$values from '@babel/runtime-corejs2/core-js/object/values';\nimport _Object$keys from '@babel/runtime-corejs2/core-js/object/keys';\nimport rafSchd from 'raf-schd';\nimport _Date$now from '@babel/runtime-corejs2/core-js/date/now';\nimport _Object$assign from '@babel/runtime-corejs2/core-js/object/assign';\nimport ReactDOM from 'react-dom';\nimport _Number$isInteger from '@babel/runtime-corejs2/core-js/number/is-integer';\nvar isProduction = process.env.NODE_ENV === 'production';\nvar spacesAndTabs = /[ \\t]{2,}/g;\nvar lineStartWithSpaces = /^[ \\t]*/gm;\nvar clean = function clean(value) {\n  return value.replace(spacesAndTabs, ' ').replace(lineStartWithSpaces, '').trim();\n};\nvar getDevMessage = function getDevMessage(message) {\n  return clean(\"\\n  %creact-beautiful-dnd\\n\\n  %c\" + clean(message) + \"\\n\\n  %c\\uD83D\\uDC77\\u200D This is a development only message. It will be removed in production builds.\\n\");\n};\nvar getFormattedMessage = function getFormattedMessage(message) {\n  return [getDevMessage(message), 'color: #00C584; font-size: 1.2em; font-weight: bold;', 'line-height: 1.5', 'color: #723874;'];\n};\nvar isDisabledFlag = '__react-beautiful-dnd-disable-dev-warnings';\nfunction log(type, message) {\n  var _console;\n  if (isProduction) {\n    return;\n  }\n  if (typeof window !== 'undefined' && window[isDisabledFlag]) {\n    return;\n  }\n  (_console = console)[type].apply(_console, getFormattedMessage(message));\n}\nvar warning = log.bind(null, 'warn');\nvar error = log.bind(null, 'error');\nfunction noop() {}\nfunction getOptions(shared, fromBinding) {\n  return _extends({}, shared, fromBinding);\n}\nfunction bindEvents(el, bindings, sharedOptions) {\n  var unbindings = bindings.map(function (binding) {\n    var options = getOptions(sharedOptions, binding.options);\n    el.addEventListener(binding.eventName, binding.fn, options);\n    return function unbind() {\n      el.removeEventListener(binding.eventName, binding.fn, options);\n    };\n  });\n  return function unbindAll() {\n    unbindings.forEach(function (unbind) {\n      unbind();\n    });\n  };\n}\nvar isProduction$1 = process.env.NODE_ENV === 'production';\nvar prefix = 'Invariant failed';\nfunction RbdInvariant(message) {\n  this.message = message;\n}\nRbdInvariant.prototype.toString = function toString() {\n  return this.message;\n};\nfunction invariant(condition, message) {\n  if (condition) {\n    return;\n  }\n  if (isProduction$1) {\n    throw new RbdInvariant(prefix);\n  } else {\n    throw new RbdInvariant(prefix + \": \" + (message || ''));\n  }\n}\nvar ErrorBoundary = function (_React$Component) {\n  _inheritsLoose(ErrorBoundary, _React$Component);\n  function ErrorBoundary() {\n    var _this;\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;\n    _this.callbacks = null;\n    _this.unbind = noop;\n    _this.onWindowError = function (event) {\n      var callbacks = _this.getCallbacks();\n      if (callbacks.isDragging()) {\n        callbacks.tryAbort();\n        process.env.NODE_ENV !== \"production\" ? warning(\"\\n        An error was caught by our window 'error' event listener while a drag was occurring.\\n        The active drag has been aborted.\\n      \") : void 0;\n      }\n      var err = event.error;\n      if (err instanceof RbdInvariant) {\n        event.preventDefault();\n        if (process.env.NODE_ENV !== 'production') {\n          error(err.message);\n        }\n      }\n    };\n    _this.getCallbacks = function () {\n      if (!_this.callbacks) {\n        throw new Error('Unable to find AppCallbacks in <ErrorBoundary/>');\n      }\n      return _this.callbacks;\n    };\n    _this.setCallbacks = function (callbacks) {\n      _this.callbacks = callbacks;\n    };\n    return _this;\n  }\n  var _proto = ErrorBoundary.prototype;\n  _proto.componentDidMount = function componentDidMount() {\n    this.unbind = bindEvents(window, [{\n      eventName: 'error',\n      fn: this.onWindowError\n    }]);\n  };\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    this.unbind();\n  };\n  _proto.componentDidCatch = function componentDidCatch(err) {\n    if (err instanceof RbdInvariant) {\n      if (process.env.NODE_ENV !== 'production') {\n        error(err.message);\n      }\n      this.setState({});\n      return;\n    }\n    throw err;\n  };\n  _proto.render = function render() {\n    return this.props.children(this.setCallbacks);\n  };\n  return ErrorBoundary;\n}(React.Component);\nvar liftInstruction = \"Draggable item. Ensure your screen reader is not in browse mode and then press space bar to lift.\";\nvar position = function position(index) {\n  return index + 1;\n};\nvar onDragStart = function onDragStart(start) {\n  return \"\\n  You have lifted an item in position \" + position(start.source.index) + \".\\n  Use the arrow keys to move, space bar to drop, and escape to cancel.\\n\";\n};\nvar withLocation = function withLocation(source, destination) {\n  var isInHomeList = source.droppableId === destination.droppableId;\n  var startPosition = position(source.index);\n  var endPosition = position(destination.index);\n  if (isInHomeList) {\n    return \"\\n      You have moved the item from position \" + startPosition + \"\\n      to position \" + endPosition + \"\\n    \";\n  }\n  return \"\\n    You have moved the item from position \" + startPosition + \"\\n    in list \" + source.droppableId + \"\\n    to list \" + destination.droppableId + \"\\n    in position \" + endPosition + \"\\n  \";\n};\nvar withCombine = function withCombine(id, source, combine) {\n  var inHomeList = source.droppableId === combine.droppableId;\n  if (inHomeList) {\n    return \"\\n      The item \" + id + \"\\n      has been combined with \" + combine.draggableId;\n  }\n  return \"\\n      The item \" + id + \"\\n      in list \" + source.droppableId + \"\\n      has been combined with \" + combine.draggableId + \"\\n      in list \" + combine.droppableId + \"\\n    \";\n};\nvar onDragUpdate = function onDragUpdate(update) {\n  var location = update.destination;\n  if (location) {\n    return withLocation(update.source, location);\n  }\n  var combine = update.combine;\n  if (combine) {\n    return withCombine(update.draggableId, update.source, combine);\n  }\n  return 'You are over an area that cannot be dropped on';\n};\nvar returnedToStart = function returnedToStart(source) {\n  return \"\\n  The item has returned to its starting position\\n  of \" + position(source.index) + \"\\n\";\n};\nvar onDragEnd = function onDragEnd(result) {\n  if (result.reason === 'CANCEL') {\n    return \"\\n      Movement cancelled.\\n      \" + returnedToStart(result.source) + \"\\n    \";\n  }\n  var location = result.destination;\n  var combine = result.combine;\n  if (location) {\n    return \"\\n      You have dropped the item.\\n      \" + withLocation(result.source, location) + \"\\n    \";\n  }\n  if (combine) {\n    return \"\\n      You have dropped the item.\\n      \" + withCombine(result.draggableId, result.source, combine) + \"\\n    \";\n  }\n  return \"\\n    The item has been dropped while not over a drop area.\\n    \" + returnedToStart(result.source) + \"\\n  \";\n};\nvar preset = {\n  liftInstruction: liftInstruction,\n  onDragStart: onDragStart,\n  onDragUpdate: onDragUpdate,\n  onDragEnd: onDragEnd\n};\nvar origin = {\n  x: 0,\n  y: 0\n};\nvar add = function add(point1, point2) {\n  return {\n    x: point1.x + point2.x,\n    y: point1.y + point2.y\n  };\n};\nvar subtract = function subtract(point1, point2) {\n  return {\n    x: point1.x - point2.x,\n    y: point1.y - point2.y\n  };\n};\nvar isEqual = function isEqual(point1, point2) {\n  return point1.x === point2.x && point1.y === point2.y;\n};\nvar negate = function negate(point) {\n  return {\n    x: point.x !== 0 ? -point.x : 0,\n    y: point.y !== 0 ? -point.y : 0\n  };\n};\nvar patch = function patch(line, value, otherValue) {\n  var _ref;\n  if (otherValue === void 0) {\n    otherValue = 0;\n  }\n  return _ref = {}, _ref[line] = value, _ref[line === 'x' ? 'y' : 'x'] = otherValue, _ref;\n};\nvar distance = function distance(point1, point2) {\n  return Math.sqrt(Math.pow(point2.x - point1.x, 2) + Math.pow(point2.y - point1.y, 2));\n};\nvar closest = function closest(target, points) {\n  return Math.min.apply(Math, points.map(function (point) {\n    return distance(target, point);\n  }));\n};\nvar apply = function apply(fn) {\n  return function (point) {\n    return {\n      x: fn(point.x),\n      y: fn(point.y)\n    };\n  };\n};\nvar executeClip = function executeClip(frame, subject) {\n  var result = getRect({\n    top: Math.max(subject.top, frame.top),\n    right: Math.min(subject.right, frame.right),\n    bottom: Math.min(subject.bottom, frame.bottom),\n    left: Math.max(subject.left, frame.left)\n  });\n  if (result.width <= 0 || result.height <= 0) {\n    return null;\n  }\n  return result;\n};\nvar offsetByPosition = function offsetByPosition(spacing, point) {\n  return {\n    top: spacing.top + point.y,\n    left: spacing.left + point.x,\n    bottom: spacing.bottom + point.y,\n    right: spacing.right + point.x\n  };\n};\nvar getCorners = function getCorners(spacing) {\n  return [{\n    x: spacing.left,\n    y: spacing.top\n  }, {\n    x: spacing.right,\n    y: spacing.top\n  }, {\n    x: spacing.left,\n    y: spacing.bottom\n  }, {\n    x: spacing.right,\n    y: spacing.bottom\n  }];\n};\nvar noSpacing = {\n  top: 0,\n  right: 0,\n  bottom: 0,\n  left: 0\n};\nvar scroll = function scroll(target, frame) {\n  if (!frame) {\n    return target;\n  }\n  return offsetByPosition(target, frame.scroll.diff.displacement);\n};\nvar increase = function increase(target, axis, withPlaceholder) {\n  if (withPlaceholder && withPlaceholder.increasedBy) {\n    var _extends2;\n    return _extends({}, target, (_extends2 = {}, _extends2[axis.end] = target[axis.end] + withPlaceholder.increasedBy[axis.line], _extends2));\n  }\n  return target;\n};\nvar clip = function clip(target, frame) {\n  if (frame && frame.shouldClipSubject) {\n    return executeClip(frame.pageMarginBox, target);\n  }\n  return getRect(target);\n};\nvar getSubject = function getSubject(_ref) {\n  var page = _ref.page,\n    withPlaceholder = _ref.withPlaceholder,\n    axis = _ref.axis,\n    frame = _ref.frame;\n  var scrolled = scroll(page.marginBox, frame);\n  var increased = increase(scrolled, axis, withPlaceholder);\n  var clipped = clip(increased, frame);\n  return {\n    page: page,\n    withPlaceholder: withPlaceholder,\n    active: clipped\n  };\n};\nvar scrollDroppable = function scrollDroppable(droppable, newScroll) {\n  !droppable.frame ? process.env.NODE_ENV !== \"production\" ? invariant(false) : invariant(false) : void 0;\n  var scrollable = droppable.frame;\n  var scrollDiff = subtract(newScroll, scrollable.scroll.initial);\n  var scrollDisplacement = negate(scrollDiff);\n  var frame = _extends({}, scrollable, {\n    scroll: {\n      initial: scrollable.scroll.initial,\n      current: newScroll,\n      diff: {\n        value: scrollDiff,\n        displacement: scrollDisplacement\n      },\n      max: scrollable.scroll.max\n    }\n  });\n  var subject = getSubject({\n    page: droppable.subject.page,\n    withPlaceholder: droppable.subject.withPlaceholder,\n    axis: droppable.axis,\n    frame: frame\n  });\n  var result = _extends({}, droppable, {\n    frame: frame,\n    subject: subject\n  });\n  return result;\n};\nfunction values(map) {\n  return _Object$values(map);\n}\nfunction findIndex(list, predicate) {\n  if (list.findIndex) {\n    return list.findIndex(predicate);\n  }\n  for (var i = 0; i < list.length; i++) {\n    if (predicate(list[i])) {\n      return i;\n    }\n  }\n  return -1;\n}\nfunction find(list, predicate) {\n  if (list.find) {\n    return list.find(predicate);\n  }\n  var index = findIndex(list, predicate);\n  if (index !== -1) {\n    return list[index];\n  }\n  return undefined;\n}\nfunction toArray(list) {\n  return Array.prototype.slice.call(list);\n}\nvar toDroppableMap = memoizeOne(function (droppables) {\n  return droppables.reduce(function (previous, current) {\n    previous[current.descriptor.id] = current;\n    return previous;\n  }, {});\n});\nvar toDraggableMap = memoizeOne(function (draggables) {\n  return draggables.reduce(function (previous, current) {\n    previous[current.descriptor.id] = current;\n    return previous;\n  }, {});\n});\nvar toDroppableList = memoizeOne(function (droppables) {\n  return values(droppables);\n});\nvar toDraggableList = memoizeOne(function (draggables) {\n  return values(draggables);\n});\nvar getDraggablesInsideDroppable = memoizeOne(function (droppableId, draggables) {\n  var result = toDraggableList(draggables).filter(function (draggable) {\n    return droppableId === draggable.descriptor.droppableId;\n  }).sort(function (a, b) {\n    return a.descriptor.index - b.descriptor.index;\n  });\n  return result;\n});\nfunction tryGetDestination(impact) {\n  if (impact.at && impact.at.type === 'REORDER') {\n    return impact.at.destination;\n  }\n  return null;\n}\nfunction tryGetCombine(impact) {\n  if (impact.at && impact.at.type === 'COMBINE') {\n    return impact.at.combine;\n  }\n  return null;\n}\nvar removeDraggableFromList = memoizeOne(function (remove, list) {\n  return list.filter(function (item) {\n    return item.descriptor.id !== remove.descriptor.id;\n  });\n});\nvar moveToNextCombine = function moveToNextCombine(_ref) {\n  var isMovingForward = _ref.isMovingForward,\n    draggable = _ref.draggable,\n    destination = _ref.destination,\n    insideDestination = _ref.insideDestination,\n    previousImpact = _ref.previousImpact;\n  if (!destination.isCombineEnabled) {\n    return null;\n  }\n  var location = tryGetDestination(previousImpact);\n  if (!location) {\n    return null;\n  }\n  function getImpact(target) {\n    var at = {\n      type: 'COMBINE',\n      combine: {\n        draggableId: target,\n        droppableId: destination.descriptor.id\n      }\n    };\n    return _extends({}, previousImpact, {\n      at: at\n    });\n  }\n  var all = previousImpact.displaced.all;\n  var closestId = all.length ? all[0] : null;\n  if (isMovingForward) {\n    return closestId ? getImpact(closestId) : null;\n  }\n  var withoutDraggable = removeDraggableFromList(draggable, insideDestination);\n  if (!closestId) {\n    if (!withoutDraggable.length) {\n      return null;\n    }\n    var last = withoutDraggable[withoutDraggable.length - 1];\n    return getImpact(last.descriptor.id);\n  }\n  var indexOfClosest = findIndex(withoutDraggable, function (d) {\n    return d.descriptor.id === closestId;\n  });\n  !(indexOfClosest !== -1) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Could not find displaced item in set') : invariant(false) : void 0;\n  var proposedIndex = indexOfClosest - 1;\n  if (proposedIndex < 0) {\n    return null;\n  }\n  var before = withoutDraggable[proposedIndex];\n  return getImpact(before.descriptor.id);\n};\nvar isHomeOf = function isHomeOf(draggable, destination) {\n  return draggable.descriptor.droppableId === destination.descriptor.id;\n};\nvar noDisplacedBy = {\n  point: origin,\n  value: 0\n};\nvar emptyGroups = {\n  invisible: {},\n  visible: {},\n  all: []\n};\nvar noImpact = {\n  displaced: emptyGroups,\n  displacedBy: noDisplacedBy,\n  at: null\n};\nvar isWithin = function isWithin(lowerBound, upperBound) {\n  return function (value) {\n    return lowerBound <= value && value <= upperBound;\n  };\n};\nvar isPartiallyVisibleThroughFrame = function isPartiallyVisibleThroughFrame(frame) {\n  var isWithinVertical = isWithin(frame.top, frame.bottom);\n  var isWithinHorizontal = isWithin(frame.left, frame.right);\n  return function (subject) {\n    var isContained = isWithinVertical(subject.top) && isWithinVertical(subject.bottom) && isWithinHorizontal(subject.left) && isWithinHorizontal(subject.right);\n    if (isContained) {\n      return true;\n    }\n    var isPartiallyVisibleVertically = isWithinVertical(subject.top) || isWithinVertical(subject.bottom);\n    var isPartiallyVisibleHorizontally = isWithinHorizontal(subject.left) || isWithinHorizontal(subject.right);\n    var isPartiallyContained = isPartiallyVisibleVertically && isPartiallyVisibleHorizontally;\n    if (isPartiallyContained) {\n      return true;\n    }\n    var isBiggerVertically = subject.top < frame.top && subject.bottom > frame.bottom;\n    var isBiggerHorizontally = subject.left < frame.left && subject.right > frame.right;\n    var isTargetBiggerThanFrame = isBiggerVertically && isBiggerHorizontally;\n    if (isTargetBiggerThanFrame) {\n      return true;\n    }\n    var isTargetBiggerOnOneAxis = isBiggerVertically && isPartiallyVisibleHorizontally || isBiggerHorizontally && isPartiallyVisibleVertically;\n    return isTargetBiggerOnOneAxis;\n  };\n};\nvar isTotallyVisibleThroughFrame = function isTotallyVisibleThroughFrame(frame) {\n  var isWithinVertical = isWithin(frame.top, frame.bottom);\n  var isWithinHorizontal = isWithin(frame.left, frame.right);\n  return function (subject) {\n    var isContained = isWithinVertical(subject.top) && isWithinVertical(subject.bottom) && isWithinHorizontal(subject.left) && isWithinHorizontal(subject.right);\n    return isContained;\n  };\n};\nvar vertical = {\n  direction: 'vertical',\n  line: 'y',\n  crossAxisLine: 'x',\n  start: 'top',\n  end: 'bottom',\n  size: 'height',\n  crossAxisStart: 'left',\n  crossAxisEnd: 'right',\n  crossAxisSize: 'width'\n};\nvar horizontal = {\n  direction: 'horizontal',\n  line: 'x',\n  crossAxisLine: 'y',\n  start: 'left',\n  end: 'right',\n  size: 'width',\n  crossAxisStart: 'top',\n  crossAxisEnd: 'bottom',\n  crossAxisSize: 'height'\n};\nvar isTotallyVisibleThroughFrameOnAxis = function isTotallyVisibleThroughFrameOnAxis(axis) {\n  return function (frame) {\n    var isWithinVertical = isWithin(frame.top, frame.bottom);\n    var isWithinHorizontal = isWithin(frame.left, frame.right);\n    return function (subject) {\n      if (axis === vertical) {\n        return isWithinVertical(subject.top) && isWithinVertical(subject.bottom);\n      }\n      return isWithinHorizontal(subject.left) && isWithinHorizontal(subject.right);\n    };\n  };\n};\nvar getDroppableDisplaced = function getDroppableDisplaced(target, destination) {\n  var displacement = destination.frame ? destination.frame.scroll.diff.displacement : origin;\n  return offsetByPosition(target, displacement);\n};\nvar isVisibleInDroppable = function isVisibleInDroppable(target, destination, isVisibleThroughFrameFn) {\n  if (!destination.subject.active) {\n    return false;\n  }\n  return isVisibleThroughFrameFn(destination.subject.active)(target);\n};\nvar isVisibleInViewport = function isVisibleInViewport(target, viewport, isVisibleThroughFrameFn) {\n  return isVisibleThroughFrameFn(viewport)(target);\n};\nvar isVisible = function isVisible(_ref) {\n  var toBeDisplaced = _ref.target,\n    destination = _ref.destination,\n    viewport = _ref.viewport,\n    withDroppableDisplacement = _ref.withDroppableDisplacement,\n    isVisibleThroughFrameFn = _ref.isVisibleThroughFrameFn;\n  var displacedTarget = withDroppableDisplacement ? getDroppableDisplaced(toBeDisplaced, destination) : toBeDisplaced;\n  return isVisibleInDroppable(displacedTarget, destination, isVisibleThroughFrameFn) && isVisibleInViewport(displacedTarget, viewport, isVisibleThroughFrameFn);\n};\nvar isPartiallyVisible = function isPartiallyVisible(args) {\n  return isVisible(_extends({}, args, {\n    isVisibleThroughFrameFn: isPartiallyVisibleThroughFrame\n  }));\n};\nvar isTotallyVisible = function isTotallyVisible(args) {\n  return isVisible(_extends({}, args, {\n    isVisibleThroughFrameFn: isTotallyVisibleThroughFrame\n  }));\n};\nvar isTotallyVisibleOnAxis = function isTotallyVisibleOnAxis(args) {\n  return isVisible(_extends({}, args, {\n    isVisibleThroughFrameFn: isTotallyVisibleThroughFrameOnAxis(args.destination.axis)\n  }));\n};\nvar getShouldAnimate = function getShouldAnimate(id, last, forceShouldAnimate) {\n  if (typeof forceShouldAnimate === 'boolean') {\n    return forceShouldAnimate;\n  }\n  if (!last) {\n    return true;\n  }\n  var invisible = last.invisible,\n    visible = last.visible;\n  if (invisible[id]) {\n    return false;\n  }\n  var previous = visible[id];\n  return previous ? previous.shouldAnimate : true;\n};\nfunction getTarget(draggable, displacedBy) {\n  var marginBox = draggable.page.marginBox;\n  var expandBy = {\n    top: displacedBy.point.y,\n    right: 0,\n    bottom: 0,\n    left: displacedBy.point.x\n  };\n  return getRect(expand(marginBox, expandBy));\n}\nfunction getDisplacementGroups(_ref) {\n  var afterDragging = _ref.afterDragging,\n    destination = _ref.destination,\n    displacedBy = _ref.displacedBy,\n    viewport = _ref.viewport,\n    forceShouldAnimate = _ref.forceShouldAnimate,\n    last = _ref.last;\n  return afterDragging.reduce(function process(groups, draggable) {\n    var target = getTarget(draggable, displacedBy);\n    var id = draggable.descriptor.id;\n    groups.all.push(id);\n    var isVisible = isPartiallyVisible({\n      target: target,\n      destination: destination,\n      viewport: viewport,\n      withDroppableDisplacement: true\n    });\n    if (!isVisible) {\n      groups.invisible[draggable.descriptor.id] = true;\n      return groups;\n    }\n    var shouldAnimate = getShouldAnimate(id, last, forceShouldAnimate);\n    var displacement = {\n      draggableId: id,\n      shouldAnimate: shouldAnimate\n    };\n    groups.visible[id] = displacement;\n    return groups;\n  }, {\n    all: [],\n    visible: {},\n    invisible: {}\n  });\n}\nfunction getIndexOfLastItem(draggables, options) {\n  if (!draggables.length) {\n    return 0;\n  }\n  var indexOfLastItem = draggables[draggables.length - 1].descriptor.index;\n  return options.inHomeList ? indexOfLastItem : indexOfLastItem + 1;\n}\nfunction goAtEnd(_ref) {\n  var insideDestination = _ref.insideDestination,\n    inHomeList = _ref.inHomeList,\n    displacedBy = _ref.displacedBy,\n    destination = _ref.destination;\n  var newIndex = getIndexOfLastItem(insideDestination, {\n    inHomeList: inHomeList\n  });\n  return {\n    displaced: emptyGroups,\n    displacedBy: displacedBy,\n    at: {\n      type: 'REORDER',\n      destination: {\n        droppableId: destination.descriptor.id,\n        index: newIndex\n      }\n    }\n  };\n}\nfunction calculateReorderImpact(_ref2) {\n  var draggable = _ref2.draggable,\n    insideDestination = _ref2.insideDestination,\n    destination = _ref2.destination,\n    viewport = _ref2.viewport,\n    displacedBy = _ref2.displacedBy,\n    last = _ref2.last,\n    index = _ref2.index,\n    forceShouldAnimate = _ref2.forceShouldAnimate;\n  var inHomeList = isHomeOf(draggable, destination);\n  if (index == null) {\n    return goAtEnd({\n      insideDestination: insideDestination,\n      inHomeList: inHomeList,\n      displacedBy: displacedBy,\n      destination: destination\n    });\n  }\n  var match = find(insideDestination, function (item) {\n    return item.descriptor.index === index;\n  });\n  if (!match) {\n    return goAtEnd({\n      insideDestination: insideDestination,\n      inHomeList: inHomeList,\n      displacedBy: displacedBy,\n      destination: destination\n    });\n  }\n  var withoutDragging = removeDraggableFromList(draggable, insideDestination);\n  var sliceFrom = insideDestination.indexOf(match);\n  var impacted = withoutDragging.slice(sliceFrom);\n  var displaced = getDisplacementGroups({\n    afterDragging: impacted,\n    destination: destination,\n    displacedBy: displacedBy,\n    last: last,\n    viewport: viewport.frame,\n    forceShouldAnimate: forceShouldAnimate\n  });\n  return {\n    displaced: displaced,\n    displacedBy: displacedBy,\n    at: {\n      type: 'REORDER',\n      destination: {\n        droppableId: destination.descriptor.id,\n        index: index\n      }\n    }\n  };\n}\nfunction didStartAfterCritical(draggableId, afterCritical) {\n  return Boolean(afterCritical.effected[draggableId]);\n}\nvar fromCombine = function fromCombine(_ref) {\n  var isMovingForward = _ref.isMovingForward,\n    destination = _ref.destination,\n    draggables = _ref.draggables,\n    combine = _ref.combine,\n    afterCritical = _ref.afterCritical;\n  if (!destination.isCombineEnabled) {\n    return null;\n  }\n  var combineId = combine.draggableId;\n  var combineWith = draggables[combineId];\n  var combineWithIndex = combineWith.descriptor.index;\n  var didCombineWithStartAfterCritical = didStartAfterCritical(combineId, afterCritical);\n  if (didCombineWithStartAfterCritical) {\n    if (isMovingForward) {\n      return combineWithIndex;\n    }\n    return combineWithIndex - 1;\n  }\n  if (isMovingForward) {\n    return combineWithIndex + 1;\n  }\n  return combineWithIndex;\n};\nvar fromReorder = function fromReorder(_ref) {\n  var isMovingForward = _ref.isMovingForward,\n    isInHomeList = _ref.isInHomeList,\n    insideDestination = _ref.insideDestination,\n    location = _ref.location;\n  if (!insideDestination.length) {\n    return null;\n  }\n  var currentIndex = location.index;\n  var proposedIndex = isMovingForward ? currentIndex + 1 : currentIndex - 1;\n  var firstIndex = insideDestination[0].descriptor.index;\n  var lastIndex = insideDestination[insideDestination.length - 1].descriptor.index;\n  var upperBound = isInHomeList ? lastIndex : lastIndex + 1;\n  if (proposedIndex < firstIndex) {\n    return null;\n  }\n  if (proposedIndex > upperBound) {\n    return null;\n  }\n  return proposedIndex;\n};\nvar moveToNextIndex = function moveToNextIndex(_ref) {\n  var isMovingForward = _ref.isMovingForward,\n    isInHomeList = _ref.isInHomeList,\n    draggable = _ref.draggable,\n    draggables = _ref.draggables,\n    destination = _ref.destination,\n    insideDestination = _ref.insideDestination,\n    previousImpact = _ref.previousImpact,\n    viewport = _ref.viewport,\n    afterCritical = _ref.afterCritical;\n  var wasAt = previousImpact.at;\n  !wasAt ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot move in direction without previous impact location') : invariant(false) : void 0;\n  if (wasAt.type === 'REORDER') {\n    var _newIndex = fromReorder({\n      isMovingForward: isMovingForward,\n      isInHomeList: isInHomeList,\n      location: wasAt.destination,\n      insideDestination: insideDestination\n    });\n    if (_newIndex == null) {\n      return null;\n    }\n    return calculateReorderImpact({\n      draggable: draggable,\n      insideDestination: insideDestination,\n      destination: destination,\n      viewport: viewport,\n      last: previousImpact.displaced,\n      displacedBy: previousImpact.displacedBy,\n      index: _newIndex\n    });\n  }\n  var newIndex = fromCombine({\n    isMovingForward: isMovingForward,\n    destination: destination,\n    displaced: previousImpact.displaced,\n    draggables: draggables,\n    combine: wasAt.combine,\n    afterCritical: afterCritical\n  });\n  if (newIndex == null) {\n    return null;\n  }\n  return calculateReorderImpact({\n    draggable: draggable,\n    insideDestination: insideDestination,\n    destination: destination,\n    viewport: viewport,\n    last: previousImpact.displaced,\n    displacedBy: previousImpact.displacedBy,\n    index: newIndex\n  });\n};\nvar getCombinedItemDisplacement = function getCombinedItemDisplacement(_ref) {\n  var displaced = _ref.displaced,\n    afterCritical = _ref.afterCritical,\n    combineWith = _ref.combineWith,\n    displacedBy = _ref.displacedBy;\n  var isDisplaced = Boolean(displaced.visible[combineWith] || displaced.invisible[combineWith]);\n  if (didStartAfterCritical(combineWith, afterCritical)) {\n    return isDisplaced ? origin : negate(displacedBy.point);\n  }\n  return isDisplaced ? displacedBy.point : origin;\n};\nvar whenCombining = function whenCombining(_ref) {\n  var afterCritical = _ref.afterCritical,\n    impact = _ref.impact,\n    draggables = _ref.draggables;\n  var combine = tryGetCombine(impact);\n  !combine ? process.env.NODE_ENV !== \"production\" ? invariant(false) : invariant(false) : void 0;\n  var combineWith = combine.draggableId;\n  var center = draggables[combineWith].page.borderBox.center;\n  var displaceBy = getCombinedItemDisplacement({\n    displaced: impact.displaced,\n    afterCritical: afterCritical,\n    combineWith: combineWith,\n    displacedBy: impact.displacedBy\n  });\n  return add(center, displaceBy);\n};\nvar distanceFromStartToBorderBoxCenter = function distanceFromStartToBorderBoxCenter(axis, box) {\n  return box.margin[axis.start] + box.borderBox[axis.size] / 2;\n};\nvar distanceFromEndToBorderBoxCenter = function distanceFromEndToBorderBoxCenter(axis, box) {\n  return box.margin[axis.end] + box.borderBox[axis.size] / 2;\n};\nvar getCrossAxisBorderBoxCenter = function getCrossAxisBorderBoxCenter(axis, target, isMoving) {\n  return target[axis.crossAxisStart] + isMoving.margin[axis.crossAxisStart] + isMoving.borderBox[axis.crossAxisSize] / 2;\n};\nvar goAfter = function goAfter(_ref) {\n  var axis = _ref.axis,\n    moveRelativeTo = _ref.moveRelativeTo,\n    isMoving = _ref.isMoving;\n  return patch(axis.line, moveRelativeTo.marginBox[axis.end] + distanceFromStartToBorderBoxCenter(axis, isMoving), getCrossAxisBorderBoxCenter(axis, moveRelativeTo.marginBox, isMoving));\n};\nvar goBefore = function goBefore(_ref2) {\n  var axis = _ref2.axis,\n    moveRelativeTo = _ref2.moveRelativeTo,\n    isMoving = _ref2.isMoving;\n  return patch(axis.line, moveRelativeTo.marginBox[axis.start] - distanceFromEndToBorderBoxCenter(axis, isMoving), getCrossAxisBorderBoxCenter(axis, moveRelativeTo.marginBox, isMoving));\n};\nvar goIntoStart = function goIntoStart(_ref3) {\n  var axis = _ref3.axis,\n    moveInto = _ref3.moveInto,\n    isMoving = _ref3.isMoving;\n  return patch(axis.line, moveInto.contentBox[axis.start] + distanceFromStartToBorderBoxCenter(axis, isMoving), getCrossAxisBorderBoxCenter(axis, moveInto.contentBox, isMoving));\n};\nvar whenReordering = function whenReordering(_ref) {\n  var impact = _ref.impact,\n    draggable = _ref.draggable,\n    draggables = _ref.draggables,\n    droppable = _ref.droppable,\n    afterCritical = _ref.afterCritical;\n  var insideDestination = getDraggablesInsideDroppable(droppable.descriptor.id, draggables);\n  var draggablePage = draggable.page;\n  var axis = droppable.axis;\n  if (!insideDestination.length) {\n    return goIntoStart({\n      axis: axis,\n      moveInto: droppable.page,\n      isMoving: draggablePage\n    });\n  }\n  var displaced = impact.displaced,\n    displacedBy = impact.displacedBy;\n  var closestAfter = displaced.all[0];\n  if (closestAfter) {\n    var closest = draggables[closestAfter];\n    if (didStartAfterCritical(closestAfter, afterCritical)) {\n      return goBefore({\n        axis: axis,\n        moveRelativeTo: closest.page,\n        isMoving: draggablePage\n      });\n    }\n    var withDisplacement = offset(closest.page, displacedBy.point);\n    return goBefore({\n      axis: axis,\n      moveRelativeTo: withDisplacement,\n      isMoving: draggablePage\n    });\n  }\n  var last = insideDestination[insideDestination.length - 1];\n  if (last.descriptor.id === draggable.descriptor.id) {\n    return draggablePage.borderBox.center;\n  }\n  if (didStartAfterCritical(last.descriptor.id, afterCritical)) {\n    var page = offset(last.page, negate(afterCritical.displacedBy.point));\n    return goAfter({\n      axis: axis,\n      moveRelativeTo: page,\n      isMoving: draggablePage\n    });\n  }\n  return goAfter({\n    axis: axis,\n    moveRelativeTo: last.page,\n    isMoving: draggablePage\n  });\n};\nvar withDroppableDisplacement = function withDroppableDisplacement(droppable, point) {\n  var frame = droppable.frame;\n  if (!frame) {\n    return point;\n  }\n  return add(point, frame.scroll.diff.displacement);\n};\nvar getResultWithoutDroppableDisplacement = function getResultWithoutDroppableDisplacement(_ref) {\n  var impact = _ref.impact,\n    draggable = _ref.draggable,\n    droppable = _ref.droppable,\n    draggables = _ref.draggables,\n    afterCritical = _ref.afterCritical;\n  var original = draggable.page.borderBox.center;\n  var at = impact.at;\n  if (!droppable) {\n    return original;\n  }\n  if (!at) {\n    return original;\n  }\n  if (at.type === 'REORDER') {\n    return whenReordering({\n      impact: impact,\n      draggable: draggable,\n      draggables: draggables,\n      droppable: droppable,\n      afterCritical: afterCritical\n    });\n  }\n  return whenCombining({\n    impact: impact,\n    draggables: draggables,\n    afterCritical: afterCritical\n  });\n};\nvar getPageBorderBoxCenterFromImpact = function getPageBorderBoxCenterFromImpact(args) {\n  var withoutDisplacement = getResultWithoutDroppableDisplacement(args);\n  var droppable = args.droppable;\n  var withDisplacement = droppable ? withDroppableDisplacement(droppable, withoutDisplacement) : withoutDisplacement;\n  return withDisplacement;\n};\nvar scrollViewport = function scrollViewport(viewport, newScroll) {\n  var diff = subtract(newScroll, viewport.scroll.initial);\n  var displacement = negate(diff);\n  var frame = getRect({\n    top: newScroll.y,\n    bottom: newScroll.y + viewport.frame.height,\n    left: newScroll.x,\n    right: newScroll.x + viewport.frame.width\n  });\n  var updated = {\n    frame: frame,\n    scroll: {\n      initial: viewport.scroll.initial,\n      max: viewport.scroll.max,\n      current: newScroll,\n      diff: {\n        value: diff,\n        displacement: displacement\n      }\n    }\n  };\n  return updated;\n};\nfunction getDraggables(ids, draggables) {\n  return ids.map(function (id) {\n    return draggables[id];\n  });\n}\nfunction tryGetVisible(id, groups) {\n  for (var i = 0; i < groups.length; i++) {\n    var displacement = groups[i].visible[id];\n    if (displacement) {\n      return displacement;\n    }\n  }\n  return null;\n}\nvar speculativelyIncrease = function speculativelyIncrease(_ref) {\n  var impact = _ref.impact,\n    viewport = _ref.viewport,\n    destination = _ref.destination,\n    draggables = _ref.draggables,\n    maxScrollChange = _ref.maxScrollChange;\n  var scrolledViewport = scrollViewport(viewport, add(viewport.scroll.current, maxScrollChange));\n  var scrolledDroppable = destination.frame ? scrollDroppable(destination, add(destination.frame.scroll.current, maxScrollChange)) : destination;\n  var last = impact.displaced;\n  var withViewportScroll = getDisplacementGroups({\n    afterDragging: getDraggables(last.all, draggables),\n    destination: destination,\n    displacedBy: impact.displacedBy,\n    viewport: scrolledViewport.frame,\n    last: last,\n    forceShouldAnimate: false\n  });\n  var withDroppableScroll = getDisplacementGroups({\n    afterDragging: getDraggables(last.all, draggables),\n    destination: scrolledDroppable,\n    displacedBy: impact.displacedBy,\n    viewport: viewport.frame,\n    last: last,\n    forceShouldAnimate: false\n  });\n  var invisible = {};\n  var visible = {};\n  var groups = [last, withViewportScroll, withDroppableScroll];\n  last.all.forEach(function (id) {\n    var displacement = tryGetVisible(id, groups);\n    if (displacement) {\n      visible[id] = displacement;\n      return;\n    }\n    invisible[id] = true;\n  });\n  var newImpact = _extends({}, impact, {\n    displaced: {\n      all: last.all,\n      invisible: invisible,\n      visible: visible\n    }\n  });\n  return newImpact;\n};\nvar withViewportDisplacement = function withViewportDisplacement(viewport, point) {\n  return add(viewport.scroll.diff.displacement, point);\n};\nvar getClientFromPageBorderBoxCenter = function getClientFromPageBorderBoxCenter(_ref) {\n  var pageBorderBoxCenter = _ref.pageBorderBoxCenter,\n    draggable = _ref.draggable,\n    viewport = _ref.viewport;\n  var withoutPageScrollChange = withViewportDisplacement(viewport, pageBorderBoxCenter);\n  var offset = subtract(withoutPageScrollChange, draggable.page.borderBox.center);\n  return add(draggable.client.borderBox.center, offset);\n};\nvar isTotallyVisibleInNewLocation = function isTotallyVisibleInNewLocation(_ref) {\n  var draggable = _ref.draggable,\n    destination = _ref.destination,\n    newPageBorderBoxCenter = _ref.newPageBorderBoxCenter,\n    viewport = _ref.viewport,\n    withDroppableDisplacement = _ref.withDroppableDisplacement,\n    _ref$onlyOnMainAxis = _ref.onlyOnMainAxis,\n    onlyOnMainAxis = _ref$onlyOnMainAxis === void 0 ? false : _ref$onlyOnMainAxis;\n  var changeNeeded = subtract(newPageBorderBoxCenter, draggable.page.borderBox.center);\n  var shifted = offsetByPosition(draggable.page.borderBox, changeNeeded);\n  var args = {\n    target: shifted,\n    destination: destination,\n    withDroppableDisplacement: withDroppableDisplacement,\n    viewport: viewport\n  };\n  return onlyOnMainAxis ? isTotallyVisibleOnAxis(args) : isTotallyVisible(args);\n};\nvar moveToNextPlace = function moveToNextPlace(_ref) {\n  var isMovingForward = _ref.isMovingForward,\n    draggable = _ref.draggable,\n    destination = _ref.destination,\n    draggables = _ref.draggables,\n    previousImpact = _ref.previousImpact,\n    viewport = _ref.viewport,\n    previousPageBorderBoxCenter = _ref.previousPageBorderBoxCenter,\n    previousClientSelection = _ref.previousClientSelection,\n    afterCritical = _ref.afterCritical;\n  if (!destination.isEnabled) {\n    return null;\n  }\n  var insideDestination = getDraggablesInsideDroppable(destination.descriptor.id, draggables);\n  var isInHomeList = isHomeOf(draggable, destination);\n  var impact = moveToNextCombine({\n    isMovingForward: isMovingForward,\n    draggable: draggable,\n    destination: destination,\n    insideDestination: insideDestination,\n    previousImpact: previousImpact\n  }) || moveToNextIndex({\n    isMovingForward: isMovingForward,\n    isInHomeList: isInHomeList,\n    draggable: draggable,\n    draggables: draggables,\n    destination: destination,\n    insideDestination: insideDestination,\n    previousImpact: previousImpact,\n    viewport: viewport,\n    afterCritical: afterCritical\n  });\n  if (!impact) {\n    return null;\n  }\n  var pageBorderBoxCenter = getPageBorderBoxCenterFromImpact({\n    impact: impact,\n    draggable: draggable,\n    droppable: destination,\n    draggables: draggables,\n    afterCritical: afterCritical\n  });\n  var isVisibleInNewLocation = isTotallyVisibleInNewLocation({\n    draggable: draggable,\n    destination: destination,\n    newPageBorderBoxCenter: pageBorderBoxCenter,\n    viewport: viewport.frame,\n    withDroppableDisplacement: false,\n    onlyOnMainAxis: true\n  });\n  if (isVisibleInNewLocation) {\n    var clientSelection = getClientFromPageBorderBoxCenter({\n      pageBorderBoxCenter: pageBorderBoxCenter,\n      draggable: draggable,\n      viewport: viewport\n    });\n    return {\n      clientSelection: clientSelection,\n      impact: impact,\n      scrollJumpRequest: null\n    };\n  }\n  var distance = subtract(pageBorderBoxCenter, previousPageBorderBoxCenter);\n  var cautious = speculativelyIncrease({\n    impact: impact,\n    viewport: viewport,\n    destination: destination,\n    draggables: draggables,\n    maxScrollChange: distance\n  });\n  return {\n    clientSelection: previousClientSelection,\n    impact: cautious,\n    scrollJumpRequest: distance\n  };\n};\nvar getKnownActive = function getKnownActive(droppable) {\n  var rect = droppable.subject.active;\n  !rect ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot get clipped area from droppable') : invariant(false) : void 0;\n  return rect;\n};\nvar getBestCrossAxisDroppable = function getBestCrossAxisDroppable(_ref) {\n  var isMovingForward = _ref.isMovingForward,\n    pageBorderBoxCenter = _ref.pageBorderBoxCenter,\n    source = _ref.source,\n    droppables = _ref.droppables,\n    viewport = _ref.viewport;\n  var active = source.subject.active;\n  if (!active) {\n    return null;\n  }\n  var axis = source.axis;\n  var isBetweenSourceClipped = isWithin(active[axis.start], active[axis.end]);\n  var candidates = toDroppableList(droppables).filter(function (droppable) {\n    return droppable !== source;\n  }).filter(function (droppable) {\n    return droppable.isEnabled;\n  }).filter(function (droppable) {\n    return Boolean(droppable.subject.active);\n  }).filter(function (droppable) {\n    return isPartiallyVisibleThroughFrame(viewport.frame)(getKnownActive(droppable));\n  }).filter(function (droppable) {\n    var activeOfTarget = getKnownActive(droppable);\n    if (isMovingForward) {\n      return active[axis.crossAxisEnd] < activeOfTarget[axis.crossAxisEnd];\n    }\n    return activeOfTarget[axis.crossAxisStart] < active[axis.crossAxisStart];\n  }).filter(function (droppable) {\n    var activeOfTarget = getKnownActive(droppable);\n    var isBetweenDestinationClipped = isWithin(activeOfTarget[axis.start], activeOfTarget[axis.end]);\n    return isBetweenSourceClipped(activeOfTarget[axis.start]) || isBetweenSourceClipped(activeOfTarget[axis.end]) || isBetweenDestinationClipped(active[axis.start]) || isBetweenDestinationClipped(active[axis.end]);\n  }).sort(function (a, b) {\n    var first = getKnownActive(a)[axis.crossAxisStart];\n    var second = getKnownActive(b)[axis.crossAxisStart];\n    if (isMovingForward) {\n      return first - second;\n    }\n    return second - first;\n  }).filter(function (droppable, index, array) {\n    return getKnownActive(droppable)[axis.crossAxisStart] === getKnownActive(array[0])[axis.crossAxisStart];\n  });\n  if (!candidates.length) {\n    return null;\n  }\n  if (candidates.length === 1) {\n    return candidates[0];\n  }\n  var contains = candidates.filter(function (droppable) {\n    var isWithinDroppable = isWithin(getKnownActive(droppable)[axis.start], getKnownActive(droppable)[axis.end]);\n    return isWithinDroppable(pageBorderBoxCenter[axis.line]);\n  });\n  if (contains.length === 1) {\n    return contains[0];\n  }\n  if (contains.length > 1) {\n    return contains.sort(function (a, b) {\n      return getKnownActive(a)[axis.start] - getKnownActive(b)[axis.start];\n    })[0];\n  }\n  return candidates.sort(function (a, b) {\n    var first = closest(pageBorderBoxCenter, getCorners(getKnownActive(a)));\n    var second = closest(pageBorderBoxCenter, getCorners(getKnownActive(b)));\n    if (first !== second) {\n      return first - second;\n    }\n    return getKnownActive(a)[axis.start] - getKnownActive(b)[axis.start];\n  })[0];\n};\nvar getCurrentPageBorderBoxCenter = function getCurrentPageBorderBoxCenter(draggable, afterCritical) {\n  var original = draggable.page.borderBox.center;\n  return didStartAfterCritical(draggable.descriptor.id, afterCritical) ? subtract(original, afterCritical.displacedBy.point) : original;\n};\nvar getCurrentPageBorderBox = function getCurrentPageBorderBox(draggable, afterCritical) {\n  var original = draggable.page.borderBox;\n  return didStartAfterCritical(draggable.descriptor.id, afterCritical) ? offsetByPosition(original, negate(afterCritical.displacedBy.point)) : original;\n};\nvar getClosestDraggable = function getClosestDraggable(_ref) {\n  var pageBorderBoxCenter = _ref.pageBorderBoxCenter,\n    viewport = _ref.viewport,\n    destination = _ref.destination,\n    insideDestination = _ref.insideDestination,\n    afterCritical = _ref.afterCritical;\n  var sorted = insideDestination.filter(function (draggable) {\n    return isTotallyVisible({\n      target: getCurrentPageBorderBox(draggable, afterCritical),\n      destination: destination,\n      viewport: viewport.frame,\n      withDroppableDisplacement: true\n    });\n  }).sort(function (a, b) {\n    var distanceToA = distance(pageBorderBoxCenter, withDroppableDisplacement(destination, getCurrentPageBorderBoxCenter(a, afterCritical)));\n    var distanceToB = distance(pageBorderBoxCenter, withDroppableDisplacement(destination, getCurrentPageBorderBoxCenter(b, afterCritical)));\n    if (distanceToA < distanceToB) {\n      return -1;\n    }\n    if (distanceToB < distanceToA) {\n      return 1;\n    }\n    return a.descriptor.index - b.descriptor.index;\n  });\n  return sorted[0] || null;\n};\nvar getDisplacedBy = memoizeOne(function getDisplacedBy(axis, displaceBy) {\n  var displacement = displaceBy[axis.line];\n  return {\n    value: displacement,\n    point: patch(axis.line, displacement)\n  };\n});\nvar getRequiredGrowthForPlaceholder = function getRequiredGrowthForPlaceholder(droppable, placeholderSize, draggables) {\n  var axis = droppable.axis;\n  if (droppable.descriptor.mode === 'virtual') {\n    return patch(axis.line, placeholderSize[axis.line]);\n  }\n  var availableSpace = droppable.subject.page.contentBox[axis.size];\n  var insideDroppable = getDraggablesInsideDroppable(droppable.descriptor.id, draggables);\n  var spaceUsed = insideDroppable.reduce(function (sum, dimension) {\n    return sum + dimension.client.marginBox[axis.size];\n  }, 0);\n  var requiredSpace = spaceUsed + placeholderSize[axis.line];\n  var needsToGrowBy = requiredSpace - availableSpace;\n  if (needsToGrowBy <= 0) {\n    return null;\n  }\n  return patch(axis.line, needsToGrowBy);\n};\nvar withMaxScroll = function withMaxScroll(frame, max) {\n  return _extends({}, frame, {\n    scroll: _extends({}, frame.scroll, {\n      max: max\n    })\n  });\n};\nvar addPlaceholder = function addPlaceholder(droppable, draggable, draggables) {\n  var frame = droppable.frame;\n  !!isHomeOf(draggable, droppable) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Should not add placeholder space to home list') : invariant(false) : void 0;\n  !!droppable.subject.withPlaceholder ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot add placeholder size to a subject when it already has one') : invariant(false) : void 0;\n  var placeholderSize = getDisplacedBy(droppable.axis, draggable.displaceBy).point;\n  var requiredGrowth = getRequiredGrowthForPlaceholder(droppable, placeholderSize, draggables);\n  var added = {\n    placeholderSize: placeholderSize,\n    increasedBy: requiredGrowth,\n    oldFrameMaxScroll: droppable.frame ? droppable.frame.scroll.max : null\n  };\n  if (!frame) {\n    var _subject = getSubject({\n      page: droppable.subject.page,\n      withPlaceholder: added,\n      axis: droppable.axis,\n      frame: droppable.frame\n    });\n    return _extends({}, droppable, {\n      subject: _subject\n    });\n  }\n  var maxScroll = requiredGrowth ? add(frame.scroll.max, requiredGrowth) : frame.scroll.max;\n  var newFrame = withMaxScroll(frame, maxScroll);\n  var subject = getSubject({\n    page: droppable.subject.page,\n    withPlaceholder: added,\n    axis: droppable.axis,\n    frame: newFrame\n  });\n  return _extends({}, droppable, {\n    subject: subject,\n    frame: newFrame\n  });\n};\nvar removePlaceholder = function removePlaceholder(droppable) {\n  var added = droppable.subject.withPlaceholder;\n  !added ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot remove placeholder form subject when there was none') : invariant(false) : void 0;\n  var frame = droppable.frame;\n  if (!frame) {\n    var _subject2 = getSubject({\n      page: droppable.subject.page,\n      axis: droppable.axis,\n      frame: null,\n      withPlaceholder: null\n    });\n    return _extends({}, droppable, {\n      subject: _subject2\n    });\n  }\n  var oldMaxScroll = added.oldFrameMaxScroll;\n  !oldMaxScroll ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Expected droppable with frame to have old max frame scroll when removing placeholder') : invariant(false) : void 0;\n  var newFrame = withMaxScroll(frame, oldMaxScroll);\n  var subject = getSubject({\n    page: droppable.subject.page,\n    axis: droppable.axis,\n    frame: newFrame,\n    withPlaceholder: null\n  });\n  return _extends({}, droppable, {\n    subject: subject,\n    frame: newFrame\n  });\n};\nvar moveToNewDroppable = function moveToNewDroppable(_ref) {\n  var previousPageBorderBoxCenter = _ref.previousPageBorderBoxCenter,\n    moveRelativeTo = _ref.moveRelativeTo,\n    insideDestination = _ref.insideDestination,\n    draggable = _ref.draggable,\n    draggables = _ref.draggables,\n    destination = _ref.destination,\n    viewport = _ref.viewport,\n    afterCritical = _ref.afterCritical;\n  if (!moveRelativeTo) {\n    if (insideDestination.length) {\n      return null;\n    }\n    var proposed = {\n      displaced: emptyGroups,\n      displacedBy: noDisplacedBy,\n      at: {\n        type: 'REORDER',\n        destination: {\n          droppableId: destination.descriptor.id,\n          index: 0\n        }\n      }\n    };\n    var proposedPageBorderBoxCenter = getPageBorderBoxCenterFromImpact({\n      impact: proposed,\n      draggable: draggable,\n      droppable: destination,\n      draggables: draggables,\n      afterCritical: afterCritical\n    });\n    var withPlaceholder = isHomeOf(draggable, destination) ? destination : addPlaceholder(destination, draggable, draggables);\n    var isVisibleInNewLocation = isTotallyVisibleInNewLocation({\n      draggable: draggable,\n      destination: withPlaceholder,\n      newPageBorderBoxCenter: proposedPageBorderBoxCenter,\n      viewport: viewport.frame,\n      withDroppableDisplacement: false,\n      onlyOnMainAxis: true\n    });\n    return isVisibleInNewLocation ? proposed : null;\n  }\n  var isGoingBeforeTarget = Boolean(previousPageBorderBoxCenter[destination.axis.line] <= moveRelativeTo.page.borderBox.center[destination.axis.line]);\n  var proposedIndex = function () {\n    var relativeTo = moveRelativeTo.descriptor.index;\n    if (moveRelativeTo.descriptor.id === draggable.descriptor.id) {\n      return relativeTo;\n    }\n    if (isGoingBeforeTarget) {\n      return relativeTo;\n    }\n    return relativeTo + 1;\n  }();\n  var displacedBy = getDisplacedBy(destination.axis, draggable.displaceBy);\n  return calculateReorderImpact({\n    draggable: draggable,\n    insideDestination: insideDestination,\n    destination: destination,\n    viewport: viewport,\n    displacedBy: displacedBy,\n    last: emptyGroups,\n    index: proposedIndex\n  });\n};\nvar moveCrossAxis = function moveCrossAxis(_ref) {\n  var isMovingForward = _ref.isMovingForward,\n    previousPageBorderBoxCenter = _ref.previousPageBorderBoxCenter,\n    draggable = _ref.draggable,\n    isOver = _ref.isOver,\n    draggables = _ref.draggables,\n    droppables = _ref.droppables,\n    viewport = _ref.viewport,\n    afterCritical = _ref.afterCritical;\n  var destination = getBestCrossAxisDroppable({\n    isMovingForward: isMovingForward,\n    pageBorderBoxCenter: previousPageBorderBoxCenter,\n    source: isOver,\n    droppables: droppables,\n    viewport: viewport\n  });\n  if (!destination) {\n    return null;\n  }\n  var insideDestination = getDraggablesInsideDroppable(destination.descriptor.id, draggables);\n  var moveRelativeTo = getClosestDraggable({\n    pageBorderBoxCenter: previousPageBorderBoxCenter,\n    viewport: viewport,\n    destination: destination,\n    insideDestination: insideDestination,\n    afterCritical: afterCritical\n  });\n  var impact = moveToNewDroppable({\n    previousPageBorderBoxCenter: previousPageBorderBoxCenter,\n    destination: destination,\n    draggable: draggable,\n    draggables: draggables,\n    moveRelativeTo: moveRelativeTo,\n    insideDestination: insideDestination,\n    viewport: viewport,\n    afterCritical: afterCritical\n  });\n  if (!impact) {\n    return null;\n  }\n  var pageBorderBoxCenter = getPageBorderBoxCenterFromImpact({\n    impact: impact,\n    draggable: draggable,\n    droppable: destination,\n    draggables: draggables,\n    afterCritical: afterCritical\n  });\n  var clientSelection = getClientFromPageBorderBoxCenter({\n    pageBorderBoxCenter: pageBorderBoxCenter,\n    draggable: draggable,\n    viewport: viewport\n  });\n  return {\n    clientSelection: clientSelection,\n    impact: impact,\n    scrollJumpRequest: null\n  };\n};\nvar whatIsDraggedOver = function whatIsDraggedOver(impact) {\n  var at = impact.at;\n  if (!at) {\n    return null;\n  }\n  if (at.type === 'REORDER') {\n    return at.destination.droppableId;\n  }\n  return at.combine.droppableId;\n};\nvar getDroppableOver = function getDroppableOver(impact, droppables) {\n  var id = whatIsDraggedOver(impact);\n  return id ? droppables[id] : null;\n};\nvar moveInDirection = function moveInDirection(_ref) {\n  var state = _ref.state,\n    type = _ref.type;\n  var isActuallyOver = getDroppableOver(state.impact, state.dimensions.droppables);\n  var isMainAxisMovementAllowed = Boolean(isActuallyOver);\n  var home = state.dimensions.droppables[state.critical.droppable.id];\n  var isOver = isActuallyOver || home;\n  var direction = isOver.axis.direction;\n  var isMovingOnMainAxis = direction === 'vertical' && (type === 'MOVE_UP' || type === 'MOVE_DOWN') || direction === 'horizontal' && (type === 'MOVE_LEFT' || type === 'MOVE_RIGHT');\n  if (isMovingOnMainAxis && !isMainAxisMovementAllowed) {\n    return null;\n  }\n  var isMovingForward = type === 'MOVE_DOWN' || type === 'MOVE_RIGHT';\n  var draggable = state.dimensions.draggables[state.critical.draggable.id];\n  var previousPageBorderBoxCenter = state.current.page.borderBoxCenter;\n  var _state$dimensions = state.dimensions,\n    draggables = _state$dimensions.draggables,\n    droppables = _state$dimensions.droppables;\n  return isMovingOnMainAxis ? moveToNextPlace({\n    isMovingForward: isMovingForward,\n    previousPageBorderBoxCenter: previousPageBorderBoxCenter,\n    draggable: draggable,\n    destination: isOver,\n    draggables: draggables,\n    viewport: state.viewport,\n    previousClientSelection: state.current.client.selection,\n    previousImpact: state.impact,\n    afterCritical: state.afterCritical\n  }) : moveCrossAxis({\n    isMovingForward: isMovingForward,\n    previousPageBorderBoxCenter: previousPageBorderBoxCenter,\n    draggable: draggable,\n    isOver: isOver,\n    draggables: draggables,\n    droppables: droppables,\n    viewport: state.viewport,\n    afterCritical: state.afterCritical\n  });\n};\nfunction isMovementAllowed(state) {\n  return state.phase === 'DRAGGING' || state.phase === 'COLLECTING';\n}\nfunction isPositionInFrame(frame) {\n  var isWithinVertical = isWithin(frame.top, frame.bottom);\n  var isWithinHorizontal = isWithin(frame.left, frame.right);\n  return function run(point) {\n    return isWithinVertical(point.y) && isWithinHorizontal(point.x);\n  };\n}\nfunction getHasOverlap(first, second) {\n  return first.left < second.right && first.right > second.left && first.top < second.bottom && first.bottom > second.top;\n}\nfunction getFurthestAway(_ref) {\n  var pageBorderBox = _ref.pageBorderBox,\n    draggable = _ref.draggable,\n    candidates = _ref.candidates;\n  var startCenter = draggable.page.borderBox.center;\n  var sorted = candidates.map(function (candidate) {\n    var axis = candidate.axis;\n    var target = patch(candidate.axis.line, pageBorderBox.center[axis.line], candidate.page.borderBox.center[axis.crossAxisLine]);\n    return {\n      id: candidate.descriptor.id,\n      distance: distance(startCenter, target)\n    };\n  }).sort(function (a, b) {\n    return b.distance - a.distance;\n  });\n  return sorted[0] ? sorted[0].id : null;\n}\nfunction getDroppableOver$1(_ref2) {\n  var pageBorderBox = _ref2.pageBorderBox,\n    draggable = _ref2.draggable,\n    droppables = _ref2.droppables;\n  var candidates = toDroppableList(droppables).filter(function (item) {\n    if (!item.isEnabled) {\n      return false;\n    }\n    var active = item.subject.active;\n    if (!active) {\n      return false;\n    }\n    if (!getHasOverlap(pageBorderBox, active)) {\n      return false;\n    }\n    if (isPositionInFrame(active)(pageBorderBox.center)) {\n      return true;\n    }\n    var axis = item.axis;\n    var childCenter = active.center[axis.crossAxisLine];\n    var crossAxisStart = pageBorderBox[axis.crossAxisStart];\n    var crossAxisEnd = pageBorderBox[axis.crossAxisEnd];\n    var isContained = isWithin(active[axis.crossAxisStart], active[axis.crossAxisEnd]);\n    var isStartContained = isContained(crossAxisStart);\n    var isEndContained = isContained(crossAxisEnd);\n    if (!isStartContained && !isEndContained) {\n      return true;\n    }\n    if (isStartContained) {\n      return crossAxisStart < childCenter;\n    }\n    return crossAxisEnd > childCenter;\n  });\n  if (!candidates.length) {\n    return null;\n  }\n  if (candidates.length === 1) {\n    return candidates[0].descriptor.id;\n  }\n  return getFurthestAway({\n    pageBorderBox: pageBorderBox,\n    draggable: draggable,\n    candidates: candidates\n  });\n}\nvar offsetRectByPosition = function offsetRectByPosition(rect, point) {\n  return getRect(offsetByPosition(rect, point));\n};\nvar withDroppableScroll = function withDroppableScroll(droppable, area) {\n  var frame = droppable.frame;\n  if (!frame) {\n    return area;\n  }\n  return offsetRectByPosition(area, frame.scroll.diff.value);\n};\nfunction getIsDisplaced(_ref) {\n  var displaced = _ref.displaced,\n    id = _ref.id;\n  return Boolean(displaced.visible[id] || displaced.invisible[id]);\n}\nfunction atIndex(_ref) {\n  var draggable = _ref.draggable,\n    closest = _ref.closest,\n    inHomeList = _ref.inHomeList;\n  if (!closest) {\n    return null;\n  }\n  if (!inHomeList) {\n    return closest.descriptor.index;\n  }\n  if (closest.descriptor.index > draggable.descriptor.index) {\n    return closest.descriptor.index - 1;\n  }\n  return closest.descriptor.index;\n}\nvar getReorderImpact = function getReorderImpact(_ref2) {\n  var targetRect = _ref2.pageBorderBoxWithDroppableScroll,\n    draggable = _ref2.draggable,\n    destination = _ref2.destination,\n    insideDestination = _ref2.insideDestination,\n    last = _ref2.last,\n    viewport = _ref2.viewport,\n    afterCritical = _ref2.afterCritical;\n  var axis = destination.axis;\n  var displacedBy = getDisplacedBy(destination.axis, draggable.displaceBy);\n  var displacement = displacedBy.value;\n  var targetStart = targetRect[axis.start];\n  var targetEnd = targetRect[axis.end];\n  var withoutDragging = removeDraggableFromList(draggable, insideDestination);\n  var closest = find(withoutDragging, function (child) {\n    var id = child.descriptor.id;\n    var childCenter = child.page.borderBox.center[axis.line];\n    var didStartAfterCritical$1 = didStartAfterCritical(id, afterCritical);\n    var isDisplaced = getIsDisplaced({\n      displaced: last,\n      id: id\n    });\n    if (didStartAfterCritical$1) {\n      if (isDisplaced) {\n        return targetEnd <= childCenter;\n      }\n      return targetStart < childCenter - displacement;\n    }\n    if (isDisplaced) {\n      return targetEnd <= childCenter + displacement;\n    }\n    return targetStart < childCenter;\n  });\n  var newIndex = atIndex({\n    draggable: draggable,\n    closest: closest,\n    inHomeList: isHomeOf(draggable, destination)\n  });\n  return calculateReorderImpact({\n    draggable: draggable,\n    insideDestination: insideDestination,\n    destination: destination,\n    viewport: viewport,\n    last: last,\n    displacedBy: displacedBy,\n    index: newIndex\n  });\n};\nvar combineThresholdDivisor = 4;\nvar getCombineImpact = function getCombineImpact(_ref) {\n  var draggable = _ref.draggable,\n    targetRect = _ref.pageBorderBoxWithDroppableScroll,\n    previousImpact = _ref.previousImpact,\n    destination = _ref.destination,\n    insideDestination = _ref.insideDestination,\n    afterCritical = _ref.afterCritical;\n  if (!destination.isCombineEnabled) {\n    return null;\n  }\n  var axis = destination.axis;\n  var displacedBy = getDisplacedBy(destination.axis, draggable.displaceBy);\n  var displacement = displacedBy.value;\n  var targetStart = targetRect[axis.start];\n  var targetEnd = targetRect[axis.end];\n  var withoutDragging = removeDraggableFromList(draggable, insideDestination);\n  var combineWith = find(withoutDragging, function (child) {\n    var id = child.descriptor.id;\n    var childRect = child.page.borderBox;\n    var childSize = childRect[axis.size];\n    var threshold = childSize / combineThresholdDivisor;\n    var didStartAfterCritical$1 = didStartAfterCritical(id, afterCritical);\n    var isDisplaced = getIsDisplaced({\n      displaced: previousImpact.displaced,\n      id: id\n    });\n    if (didStartAfterCritical$1) {\n      if (isDisplaced) {\n        return targetEnd > childRect[axis.start] + threshold && targetEnd < childRect[axis.end] - threshold;\n      }\n      return targetStart > childRect[axis.start] - displacement + threshold && targetStart < childRect[axis.end] - displacement - threshold;\n    }\n    if (isDisplaced) {\n      return targetEnd > childRect[axis.start] + displacement + threshold && targetEnd < childRect[axis.end] + displacement - threshold;\n    }\n    return targetStart > childRect[axis.start] + threshold && targetStart < childRect[axis.end] - threshold;\n  });\n  if (!combineWith) {\n    return null;\n  }\n  var impact = {\n    displacedBy: displacedBy,\n    displaced: previousImpact.displaced,\n    at: {\n      type: 'COMBINE',\n      combine: {\n        draggableId: combineWith.descriptor.id,\n        droppableId: destination.descriptor.id\n      }\n    }\n  };\n  return impact;\n};\nvar getDragImpact = function getDragImpact(_ref) {\n  var pageOffset = _ref.pageOffset,\n    draggable = _ref.draggable,\n    draggables = _ref.draggables,\n    droppables = _ref.droppables,\n    previousImpact = _ref.previousImpact,\n    viewport = _ref.viewport,\n    afterCritical = _ref.afterCritical;\n  var pageBorderBox = offsetRectByPosition(draggable.page.borderBox, pageOffset);\n  var destinationId = getDroppableOver$1({\n    pageBorderBox: pageBorderBox,\n    draggable: draggable,\n    droppables: droppables\n  });\n  if (!destinationId) {\n    return noImpact;\n  }\n  var destination = droppables[destinationId];\n  var insideDestination = getDraggablesInsideDroppable(destination.descriptor.id, draggables);\n  var pageBorderBoxWithDroppableScroll = withDroppableScroll(destination, pageBorderBox);\n  return getCombineImpact({\n    pageBorderBoxWithDroppableScroll: pageBorderBoxWithDroppableScroll,\n    draggable: draggable,\n    previousImpact: previousImpact,\n    destination: destination,\n    insideDestination: insideDestination,\n    afterCritical: afterCritical\n  }) || getReorderImpact({\n    pageBorderBoxWithDroppableScroll: pageBorderBoxWithDroppableScroll,\n    draggable: draggable,\n    destination: destination,\n    insideDestination: insideDestination,\n    last: previousImpact.displaced,\n    viewport: viewport,\n    afterCritical: afterCritical\n  });\n};\nvar patchDroppableMap = function patchDroppableMap(droppables, updated) {\n  var _extends2;\n  return _extends({}, droppables, (_extends2 = {}, _extends2[updated.descriptor.id] = updated, _extends2));\n};\nvar clearUnusedPlaceholder = function clearUnusedPlaceholder(_ref) {\n  var previousImpact = _ref.previousImpact,\n    impact = _ref.impact,\n    droppables = _ref.droppables;\n  var last = whatIsDraggedOver(previousImpact);\n  var now = whatIsDraggedOver(impact);\n  if (!last) {\n    return droppables;\n  }\n  if (last === now) {\n    return droppables;\n  }\n  var lastDroppable = droppables[last];\n  if (!lastDroppable.subject.withPlaceholder) {\n    return droppables;\n  }\n  var updated = removePlaceholder(lastDroppable);\n  return patchDroppableMap(droppables, updated);\n};\nvar recomputePlaceholders = function recomputePlaceholders(_ref2) {\n  var draggable = _ref2.draggable,\n    draggables = _ref2.draggables,\n    droppables = _ref2.droppables,\n    previousImpact = _ref2.previousImpact,\n    impact = _ref2.impact;\n  var cleaned = clearUnusedPlaceholder({\n    previousImpact: previousImpact,\n    impact: impact,\n    droppables: droppables\n  });\n  var isOver = whatIsDraggedOver(impact);\n  if (!isOver) {\n    return cleaned;\n  }\n  var droppable = droppables[isOver];\n  if (isHomeOf(draggable, droppable)) {\n    return cleaned;\n  }\n  if (droppable.subject.withPlaceholder) {\n    return cleaned;\n  }\n  var patched = addPlaceholder(droppable, draggable, draggables);\n  return patchDroppableMap(cleaned, patched);\n};\nvar update = function update(_ref) {\n  var state = _ref.state,\n    forcedClientSelection = _ref.clientSelection,\n    forcedDimensions = _ref.dimensions,\n    forcedViewport = _ref.viewport,\n    forcedImpact = _ref.impact,\n    scrollJumpRequest = _ref.scrollJumpRequest;\n  var viewport = forcedViewport || state.viewport;\n  var dimensions = forcedDimensions || state.dimensions;\n  var clientSelection = forcedClientSelection || state.current.client.selection;\n  var offset = subtract(clientSelection, state.initial.client.selection);\n  var client = {\n    offset: offset,\n    selection: clientSelection,\n    borderBoxCenter: add(state.initial.client.borderBoxCenter, offset)\n  };\n  var page = {\n    selection: add(client.selection, viewport.scroll.current),\n    borderBoxCenter: add(client.borderBoxCenter, viewport.scroll.current),\n    offset: add(client.offset, viewport.scroll.diff.value)\n  };\n  var current = {\n    client: client,\n    page: page\n  };\n  if (state.phase === 'COLLECTING') {\n    return _extends({\n      phase: 'COLLECTING'\n    }, state, {\n      dimensions: dimensions,\n      viewport: viewport,\n      current: current\n    });\n  }\n  var draggable = dimensions.draggables[state.critical.draggable.id];\n  var newImpact = forcedImpact || getDragImpact({\n    pageOffset: page.offset,\n    draggable: draggable,\n    draggables: dimensions.draggables,\n    droppables: dimensions.droppables,\n    previousImpact: state.impact,\n    viewport: viewport,\n    afterCritical: state.afterCritical\n  });\n  var withUpdatedPlaceholders = recomputePlaceholders({\n    draggable: draggable,\n    impact: newImpact,\n    previousImpact: state.impact,\n    draggables: dimensions.draggables,\n    droppables: dimensions.droppables\n  });\n  var result = _extends({}, state, {\n    current: current,\n    dimensions: {\n      draggables: dimensions.draggables,\n      droppables: withUpdatedPlaceholders\n    },\n    impact: newImpact,\n    viewport: viewport,\n    scrollJumpRequest: scrollJumpRequest || null,\n    forceShouldAnimate: scrollJumpRequest ? false : null\n  });\n  return result;\n};\nfunction getDraggables$1(ids, draggables) {\n  return ids.map(function (id) {\n    return draggables[id];\n  });\n}\nvar recompute = function recompute(_ref) {\n  var impact = _ref.impact,\n    viewport = _ref.viewport,\n    draggables = _ref.draggables,\n    destination = _ref.destination,\n    forceShouldAnimate = _ref.forceShouldAnimate;\n  var last = impact.displaced;\n  var afterDragging = getDraggables$1(last.all, draggables);\n  var displaced = getDisplacementGroups({\n    afterDragging: afterDragging,\n    destination: destination,\n    displacedBy: impact.displacedBy,\n    viewport: viewport.frame,\n    forceShouldAnimate: forceShouldAnimate,\n    last: last\n  });\n  return _extends({}, impact, {\n    displaced: displaced\n  });\n};\nvar getClientBorderBoxCenter = function getClientBorderBoxCenter(_ref) {\n  var impact = _ref.impact,\n    draggable = _ref.draggable,\n    droppable = _ref.droppable,\n    draggables = _ref.draggables,\n    viewport = _ref.viewport,\n    afterCritical = _ref.afterCritical;\n  var pageBorderBoxCenter = getPageBorderBoxCenterFromImpact({\n    impact: impact,\n    draggable: draggable,\n    draggables: draggables,\n    droppable: droppable,\n    afterCritical: afterCritical\n  });\n  return getClientFromPageBorderBoxCenter({\n    pageBorderBoxCenter: pageBorderBoxCenter,\n    draggable: draggable,\n    viewport: viewport\n  });\n};\nvar refreshSnap = function refreshSnap(_ref) {\n  var state = _ref.state,\n    forcedDimensions = _ref.dimensions,\n    forcedViewport = _ref.viewport;\n  !(state.movementMode === 'SNAP') ? process.env.NODE_ENV !== \"production\" ? invariant(false) : invariant(false) : void 0;\n  var needsVisibilityCheck = state.impact;\n  var viewport = forcedViewport || state.viewport;\n  var dimensions = forcedDimensions || state.dimensions;\n  var draggables = dimensions.draggables,\n    droppables = dimensions.droppables;\n  var draggable = draggables[state.critical.draggable.id];\n  var isOver = whatIsDraggedOver(needsVisibilityCheck);\n  !isOver ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Must be over a destination in SNAP movement mode') : invariant(false) : void 0;\n  var destination = droppables[isOver];\n  var impact = recompute({\n    impact: needsVisibilityCheck,\n    viewport: viewport,\n    destination: destination,\n    draggables: draggables\n  });\n  var clientSelection = getClientBorderBoxCenter({\n    impact: impact,\n    draggable: draggable,\n    droppable: destination,\n    draggables: draggables,\n    viewport: viewport,\n    afterCritical: state.afterCritical\n  });\n  return update({\n    impact: impact,\n    clientSelection: clientSelection,\n    state: state,\n    dimensions: dimensions,\n    viewport: viewport\n  });\n};\nvar getHomeLocation = function getHomeLocation(descriptor) {\n  return {\n    index: descriptor.index,\n    droppableId: descriptor.droppableId\n  };\n};\nvar getLiftEffect = function getLiftEffect(_ref) {\n  var draggable = _ref.draggable,\n    home = _ref.home,\n    draggables = _ref.draggables,\n    viewport = _ref.viewport;\n  var displacedBy = getDisplacedBy(home.axis, draggable.displaceBy);\n  var insideHome = getDraggablesInsideDroppable(home.descriptor.id, draggables);\n  var rawIndex = insideHome.indexOf(draggable);\n  !(rawIndex !== -1) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Expected draggable to be inside home list') : invariant(false) : void 0;\n  var afterDragging = insideHome.slice(rawIndex + 1);\n  var effected = afterDragging.reduce(function (previous, item) {\n    previous[item.descriptor.id] = true;\n    return previous;\n  }, {});\n  var afterCritical = {\n    inVirtualList: home.descriptor.mode === 'virtual',\n    displacedBy: displacedBy,\n    effected: effected\n  };\n  var displaced = getDisplacementGroups({\n    afterDragging: afterDragging,\n    destination: home,\n    displacedBy: displacedBy,\n    last: null,\n    viewport: viewport.frame,\n    forceShouldAnimate: false\n  });\n  var impact = {\n    displaced: displaced,\n    displacedBy: displacedBy,\n    at: {\n      type: 'REORDER',\n      destination: getHomeLocation(draggable.descriptor)\n    }\n  };\n  return {\n    impact: impact,\n    afterCritical: afterCritical\n  };\n};\nvar patchDimensionMap = function patchDimensionMap(dimensions, updated) {\n  return {\n    draggables: dimensions.draggables,\n    droppables: patchDroppableMap(dimensions.droppables, updated)\n  };\n};\nvar records = {};\nvar isEnabled = false;\nvar isTimingsEnabled = function isTimingsEnabled() {\n  return isEnabled;\n};\nvar start = function start(key) {\n  if (process.env.NODE_ENV !== 'production') {\n    if (!isTimingsEnabled()) {\n      return;\n    }\n    var now = performance.now();\n    records[key] = now;\n  }\n};\nvar finish = function finish(key) {\n  if (process.env.NODE_ENV !== 'production') {\n    if (!isTimingsEnabled()) {\n      return;\n    }\n    var now = performance.now();\n    var previous = records[key];\n    if (!previous) {\n      console.warn('cannot finish timing as no previous time found', key);\n      return;\n    }\n    var result = now - previous;\n    var rounded = result.toFixed(2);\n    var style = function () {\n      if (result < 12) {\n        return {\n          textColor: 'green',\n          symbol: ''\n        };\n      }\n      if (result < 40) {\n        return {\n          textColor: 'orange',\n          symbol: ''\n        };\n      }\n      return {\n        textColor: 'red',\n        symbol: ''\n      };\n    }();\n    console.log(style.symbol + \" %cTiming %c\" + rounded + \" %cms %c\" + key, 'color: blue; font-weight: bold;', \"color: \" + style.textColor + \"; font-size: 1.1em;\", 'color: grey;', 'color: purple; font-weight: bold;');\n  }\n};\nvar offsetDraggable = function offsetDraggable(_ref) {\n  var draggable = _ref.draggable,\n    offset$1 = _ref.offset,\n    initialWindowScroll = _ref.initialWindowScroll;\n  var client = offset(draggable.client, offset$1);\n  var page = withScroll(client, initialWindowScroll);\n  var moved = _extends({}, draggable, {\n    placeholder: _extends({}, draggable.placeholder, {\n      client: client\n    }),\n    client: client,\n    page: page\n  });\n  return moved;\n};\nvar getFrame = function getFrame(droppable) {\n  var frame = droppable.frame;\n  !frame ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Expected Droppable to have a frame') : invariant(false) : void 0;\n  return frame;\n};\nvar adjustAdditionsForScrollChanges = function adjustAdditionsForScrollChanges(_ref) {\n  var additions = _ref.additions,\n    updatedDroppables = _ref.updatedDroppables,\n    viewport = _ref.viewport;\n  var windowScrollChange = viewport.scroll.diff.value;\n  return additions.map(function (draggable) {\n    var droppableId = draggable.descriptor.droppableId;\n    var modified = updatedDroppables[droppableId];\n    var frame = getFrame(modified);\n    var droppableScrollChange = frame.scroll.diff.value;\n    var totalChange = add(windowScrollChange, droppableScrollChange);\n    var moved = offsetDraggable({\n      draggable: draggable,\n      offset: totalChange,\n      initialWindowScroll: viewport.scroll.initial\n    });\n    return moved;\n  });\n};\nvar timingsKey = 'Processing dynamic changes';\nvar publishWhileDraggingInVirtual = function publishWhileDraggingInVirtual(_ref) {\n  var _extends2, _extends3;\n  var state = _ref.state,\n    published = _ref.published;\n  start(timingsKey);\n  var withScrollChange = published.modified.map(function (update) {\n    var existing = state.dimensions.droppables[update.droppableId];\n    var scrolled = scrollDroppable(existing, update.scroll);\n    return scrolled;\n  });\n  var droppables = _extends({}, state.dimensions.droppables, toDroppableMap(withScrollChange));\n  var updatedAdditions = toDraggableMap(adjustAdditionsForScrollChanges({\n    additions: published.additions,\n    updatedDroppables: droppables,\n    viewport: state.viewport\n  }));\n  var draggables = _extends({}, state.dimensions.draggables, updatedAdditions);\n  published.removals.forEach(function (id) {\n    delete draggables[id];\n  });\n  var dimensions = {\n    droppables: droppables,\n    draggables: draggables\n  };\n  var wasOverId = whatIsDraggedOver(state.impact);\n  var wasOver = wasOverId ? dimensions.droppables[wasOverId] : null;\n  var draggable = dimensions.draggables[state.critical.draggable.id];\n  var home = dimensions.droppables[state.critical.droppable.id];\n  var _getLiftEffect = getLiftEffect({\n      draggable: draggable,\n      home: home,\n      draggables: draggables,\n      viewport: state.viewport\n    }),\n    onLiftImpact = _getLiftEffect.impact,\n    afterCritical = _getLiftEffect.afterCritical;\n  var previousImpact = wasOver && wasOver.isCombineEnabled ? state.impact : onLiftImpact;\n  var impact = getDragImpact({\n    pageOffset: state.current.page.offset,\n    draggable: dimensions.draggables[state.critical.draggable.id],\n    draggables: dimensions.draggables,\n    droppables: dimensions.droppables,\n    previousImpact: previousImpact,\n    viewport: state.viewport,\n    afterCritical: afterCritical\n  });\n  finish(timingsKey);\n  var draggingState = _extends({\n    phase: 'DRAGGING'\n  }, state, (_extends2 = {}, _extends2[\"phase\"] = 'DRAGGING', _extends2.impact = impact, _extends2.onLiftImpact = onLiftImpact, _extends2.dimensions = dimensions, _extends2.afterCritical = afterCritical, _extends2.forceShouldAnimate = false, _extends2));\n  if (state.phase === 'COLLECTING') {\n    return draggingState;\n  }\n  var dropPending = _extends({\n    phase: 'DROP_PENDING'\n  }, draggingState, (_extends3 = {}, _extends3[\"phase\"] = 'DROP_PENDING', _extends3.reason = state.reason, _extends3.isWaiting = false, _extends3));\n  return dropPending;\n};\nvar isSnapping = function isSnapping(state) {\n  return state.movementMode === 'SNAP';\n};\nvar postDroppableChange = function postDroppableChange(state, updated, isEnabledChanging) {\n  var dimensions = patchDimensionMap(state.dimensions, updated);\n  if (!isSnapping(state) || isEnabledChanging) {\n    return update({\n      state: state,\n      dimensions: dimensions\n    });\n  }\n  return refreshSnap({\n    state: state,\n    dimensions: dimensions\n  });\n};\nfunction removeScrollJumpRequest(state) {\n  if (state.isDragging && state.movementMode === 'SNAP') {\n    return _extends({\n      phase: 'DRAGGING'\n    }, state, {\n      scrollJumpRequest: null\n    });\n  }\n  return state;\n}\nvar idle = {\n  phase: 'IDLE',\n  completed: null,\n  shouldFlush: false\n};\nvar reducer = function reducer(state, action) {\n  if (state === void 0) {\n    state = idle;\n  }\n  if (action.type === 'FLUSH') {\n    return _extends({}, idle, {\n      shouldFlush: true\n    });\n  }\n  if (action.type === 'INITIAL_PUBLISH') {\n    !(state.phase === 'IDLE') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'INITIAL_PUBLISH must come after a IDLE phase') : invariant(false) : void 0;\n    var _action$payload = action.payload,\n      critical = _action$payload.critical,\n      clientSelection = _action$payload.clientSelection,\n      viewport = _action$payload.viewport,\n      dimensions = _action$payload.dimensions,\n      movementMode = _action$payload.movementMode;\n    var draggable = dimensions.draggables[critical.draggable.id];\n    var home = dimensions.droppables[critical.droppable.id];\n    var client = {\n      selection: clientSelection,\n      borderBoxCenter: draggable.client.borderBox.center,\n      offset: origin\n    };\n    var initial = {\n      client: client,\n      page: {\n        selection: add(client.selection, viewport.scroll.initial),\n        borderBoxCenter: add(client.selection, viewport.scroll.initial),\n        offset: add(client.selection, viewport.scroll.diff.value)\n      }\n    };\n    var isWindowScrollAllowed = toDroppableList(dimensions.droppables).every(function (item) {\n      return !item.isFixedOnPage;\n    });\n    var _getLiftEffect = getLiftEffect({\n        draggable: draggable,\n        home: home,\n        draggables: dimensions.draggables,\n        viewport: viewport\n      }),\n      impact = _getLiftEffect.impact,\n      afterCritical = _getLiftEffect.afterCritical;\n    var result = {\n      phase: 'DRAGGING',\n      isDragging: true,\n      critical: critical,\n      movementMode: movementMode,\n      dimensions: dimensions,\n      initial: initial,\n      current: initial,\n      isWindowScrollAllowed: isWindowScrollAllowed,\n      impact: impact,\n      afterCritical: afterCritical,\n      onLiftImpact: impact,\n      viewport: viewport,\n      scrollJumpRequest: null,\n      forceShouldAnimate: null\n    };\n    return result;\n  }\n  if (action.type === 'COLLECTION_STARTING') {\n    var _extends2;\n    if (state.phase === 'COLLECTING' || state.phase === 'DROP_PENDING') {\n      return state;\n    }\n    !(state.phase === 'DRAGGING') ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Collection cannot start from phase \" + state.phase) : invariant(false) : void 0;\n    var _result = _extends({\n      phase: 'COLLECTING'\n    }, state, (_extends2 = {}, _extends2[\"phase\"] = 'COLLECTING', _extends2));\n    return _result;\n  }\n  if (action.type === 'PUBLISH_WHILE_DRAGGING') {\n    !(state.phase === 'COLLECTING' || state.phase === 'DROP_PENDING') ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Unexpected \" + action.type + \" received in phase \" + state.phase) : invariant(false) : void 0;\n    return publishWhileDraggingInVirtual({\n      state: state,\n      published: action.payload\n    });\n  }\n  if (action.type === 'MOVE') {\n    if (state.phase === 'DROP_PENDING') {\n      return state;\n    }\n    !isMovementAllowed(state) ? process.env.NODE_ENV !== \"production\" ? invariant(false, action.type + \" not permitted in phase \" + state.phase) : invariant(false) : void 0;\n    var _clientSelection = action.payload.client;\n    if (isEqual(_clientSelection, state.current.client.selection)) {\n      return state;\n    }\n    return update({\n      state: state,\n      clientSelection: _clientSelection,\n      impact: isSnapping(state) ? state.impact : null\n    });\n  }\n  if (action.type === 'UPDATE_DROPPABLE_SCROLL') {\n    if (state.phase === 'DROP_PENDING') {\n      return removeScrollJumpRequest(state);\n    }\n    if (state.phase === 'COLLECTING') {\n      return removeScrollJumpRequest(state);\n    }\n    !isMovementAllowed(state) ? process.env.NODE_ENV !== \"production\" ? invariant(false, action.type + \" not permitted in phase \" + state.phase) : invariant(false) : void 0;\n    var _action$payload2 = action.payload,\n      id = _action$payload2.id,\n      newScroll = _action$payload2.newScroll;\n    var target = state.dimensions.droppables[id];\n    if (!target) {\n      return state;\n    }\n    var scrolled = scrollDroppable(target, newScroll);\n    return postDroppableChange(state, scrolled, false);\n  }\n  if (action.type === 'UPDATE_DROPPABLE_IS_ENABLED') {\n    if (state.phase === 'DROP_PENDING') {\n      return state;\n    }\n    !isMovementAllowed(state) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Attempting to move in an unsupported phase \" + state.phase) : invariant(false) : void 0;\n    var _action$payload3 = action.payload,\n      _id = _action$payload3.id,\n      isEnabled = _action$payload3.isEnabled;\n    var _target = state.dimensions.droppables[_id];\n    !_target ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot find Droppable[id: \" + _id + \"] to toggle its enabled state\") : invariant(false) : void 0;\n    !(_target.isEnabled !== isEnabled) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Trying to set droppable isEnabled to \" + String(isEnabled) + \"\\n      but it is already \" + String(_target.isEnabled)) : invariant(false) : void 0;\n    var updated = _extends({}, _target, {\n      isEnabled: isEnabled\n    });\n    return postDroppableChange(state, updated, true);\n  }\n  if (action.type === 'UPDATE_DROPPABLE_IS_COMBINE_ENABLED') {\n    if (state.phase === 'DROP_PENDING') {\n      return state;\n    }\n    !isMovementAllowed(state) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Attempting to move in an unsupported phase \" + state.phase) : invariant(false) : void 0;\n    var _action$payload4 = action.payload,\n      _id2 = _action$payload4.id,\n      isCombineEnabled = _action$payload4.isCombineEnabled;\n    var _target2 = state.dimensions.droppables[_id2];\n    !_target2 ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot find Droppable[id: \" + _id2 + \"] to toggle its isCombineEnabled state\") : invariant(false) : void 0;\n    !(_target2.isCombineEnabled !== isCombineEnabled) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Trying to set droppable isCombineEnabled to \" + String(isCombineEnabled) + \"\\n      but it is already \" + String(_target2.isCombineEnabled)) : invariant(false) : void 0;\n    var _updated = _extends({}, _target2, {\n      isCombineEnabled: isCombineEnabled\n    });\n    return postDroppableChange(state, _updated, true);\n  }\n  if (action.type === 'MOVE_BY_WINDOW_SCROLL') {\n    if (state.phase === 'DROP_PENDING' || state.phase === 'DROP_ANIMATING') {\n      return state;\n    }\n    !isMovementAllowed(state) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot move by window in phase \" + state.phase) : invariant(false) : void 0;\n    !state.isWindowScrollAllowed ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Window scrolling is currently not supported for fixed lists') : invariant(false) : void 0;\n    var _newScroll = action.payload.newScroll;\n    if (isEqual(state.viewport.scroll.current, _newScroll)) {\n      return removeScrollJumpRequest(state);\n    }\n    var _viewport = scrollViewport(state.viewport, _newScroll);\n    if (isSnapping(state)) {\n      return refreshSnap({\n        state: state,\n        viewport: _viewport\n      });\n    }\n    return update({\n      state: state,\n      viewport: _viewport\n    });\n  }\n  if (action.type === 'UPDATE_VIEWPORT_MAX_SCROLL') {\n    if (!isMovementAllowed(state)) {\n      return state;\n    }\n    var maxScroll = action.payload.maxScroll;\n    if (isEqual(maxScroll, state.viewport.scroll.max)) {\n      return state;\n    }\n    var withMaxScroll = _extends({}, state.viewport, {\n      scroll: _extends({}, state.viewport.scroll, {\n        max: maxScroll\n      })\n    });\n    return _extends({\n      phase: 'DRAGGING'\n    }, state, {\n      viewport: withMaxScroll\n    });\n  }\n  if (action.type === 'MOVE_UP' || action.type === 'MOVE_DOWN' || action.type === 'MOVE_LEFT' || action.type === 'MOVE_RIGHT') {\n    if (state.phase === 'COLLECTING' || state.phase === 'DROP_PENDING') {\n      return state;\n    }\n    !(state.phase === 'DRAGGING') ? process.env.NODE_ENV !== \"production\" ? invariant(false, action.type + \" received while not in DRAGGING phase\") : invariant(false) : void 0;\n    var _result2 = moveInDirection({\n      state: state,\n      type: action.type\n    });\n    if (!_result2) {\n      return state;\n    }\n    return update({\n      state: state,\n      impact: _result2.impact,\n      clientSelection: _result2.clientSelection,\n      scrollJumpRequest: _result2.scrollJumpRequest\n    });\n  }\n  if (action.type === 'DROP_PENDING') {\n    var _extends3;\n    var reason = action.payload.reason;\n    !(state.phase === 'COLLECTING') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Can only move into the DROP_PENDING phase from the COLLECTING phase') : invariant(false) : void 0;\n    var newState = _extends({\n      phase: 'DROP_PENDING'\n    }, state, (_extends3 = {}, _extends3[\"phase\"] = 'DROP_PENDING', _extends3.isWaiting = true, _extends3.reason = reason, _extends3));\n    return newState;\n  }\n  if (action.type === 'DROP_ANIMATE') {\n    var _action$payload5 = action.payload,\n      completed = _action$payload5.completed,\n      dropDuration = _action$payload5.dropDuration,\n      newHomeClientOffset = _action$payload5.newHomeClientOffset;\n    !(state.phase === 'DRAGGING' || state.phase === 'DROP_PENDING') ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot animate drop from phase \" + state.phase) : invariant(false) : void 0;\n    var _result3 = {\n      phase: 'DROP_ANIMATING',\n      completed: completed,\n      dropDuration: dropDuration,\n      newHomeClientOffset: newHomeClientOffset,\n      dimensions: state.dimensions\n    };\n    return _result3;\n  }\n  if (action.type === 'DROP_COMPLETE') {\n    var _completed = action.payload.completed;\n    return {\n      phase: 'IDLE',\n      completed: _completed,\n      shouldFlush: false\n    };\n  }\n  return state;\n};\nvar beforeInitialCapture = function beforeInitialCapture(args) {\n  return {\n    type: 'BEFORE_INITIAL_CAPTURE',\n    payload: args\n  };\n};\nvar lift = function lift(args) {\n  return {\n    type: 'LIFT',\n    payload: args\n  };\n};\nvar initialPublish = function initialPublish(args) {\n  return {\n    type: 'INITIAL_PUBLISH',\n    payload: args\n  };\n};\nvar publishWhileDragging = function publishWhileDragging(args) {\n  return {\n    type: 'PUBLISH_WHILE_DRAGGING',\n    payload: args\n  };\n};\nvar collectionStarting = function collectionStarting() {\n  return {\n    type: 'COLLECTION_STARTING',\n    payload: null\n  };\n};\nvar updateDroppableScroll = function updateDroppableScroll(args) {\n  return {\n    type: 'UPDATE_DROPPABLE_SCROLL',\n    payload: args\n  };\n};\nvar updateDroppableIsEnabled = function updateDroppableIsEnabled(args) {\n  return {\n    type: 'UPDATE_DROPPABLE_IS_ENABLED',\n    payload: args\n  };\n};\nvar updateDroppableIsCombineEnabled = function updateDroppableIsCombineEnabled(args) {\n  return {\n    type: 'UPDATE_DROPPABLE_IS_COMBINE_ENABLED',\n    payload: args\n  };\n};\nvar move = function move(args) {\n  return {\n    type: 'MOVE',\n    payload: args\n  };\n};\nvar moveByWindowScroll = function moveByWindowScroll(args) {\n  return {\n    type: 'MOVE_BY_WINDOW_SCROLL',\n    payload: args\n  };\n};\nvar updateViewportMaxScroll = function updateViewportMaxScroll(args) {\n  return {\n    type: 'UPDATE_VIEWPORT_MAX_SCROLL',\n    payload: args\n  };\n};\nvar moveUp = function moveUp() {\n  return {\n    type: 'MOVE_UP',\n    payload: null\n  };\n};\nvar moveDown = function moveDown() {\n  return {\n    type: 'MOVE_DOWN',\n    payload: null\n  };\n};\nvar moveRight = function moveRight() {\n  return {\n    type: 'MOVE_RIGHT',\n    payload: null\n  };\n};\nvar moveLeft = function moveLeft() {\n  return {\n    type: 'MOVE_LEFT',\n    payload: null\n  };\n};\nvar flush = function flush() {\n  return {\n    type: 'FLUSH',\n    payload: null\n  };\n};\nvar animateDrop = function animateDrop(args) {\n  return {\n    type: 'DROP_ANIMATE',\n    payload: args\n  };\n};\nvar completeDrop = function completeDrop(args) {\n  return {\n    type: 'DROP_COMPLETE',\n    payload: args\n  };\n};\nvar drop = function drop(args) {\n  return {\n    type: 'DROP',\n    payload: args\n  };\n};\nvar dropPending = function dropPending(args) {\n  return {\n    type: 'DROP_PENDING',\n    payload: args\n  };\n};\nvar dropAnimationFinished = function dropAnimationFinished() {\n  return {\n    type: 'DROP_ANIMATION_FINISHED',\n    payload: null\n  };\n};\nfunction checkIndexes(insideDestination) {\n  if (insideDestination.length <= 1) {\n    return;\n  }\n  var indexes = insideDestination.map(function (d) {\n    return d.descriptor.index;\n  });\n  var errors = {};\n  for (var i = 1; i < indexes.length; i++) {\n    var current = indexes[i];\n    var previous = indexes[i - 1];\n    if (current !== previous + 1) {\n      errors[current] = true;\n    }\n  }\n  if (!_Object$keys(errors).length) {\n    return;\n  }\n  var formatted = indexes.map(function (index) {\n    var hasError = Boolean(errors[index]);\n    return hasError ? \"[\\uD83D\\uDD25\" + index + \"]\" : \"\" + index;\n  }).join(', ');\n  process.env.NODE_ENV !== \"production\" ? warning(\"\\n    Detected non-consecutive <Draggable /> indexes.\\n\\n    (This can cause unexpected bugs)\\n\\n    \" + formatted + \"\\n  \") : void 0;\n}\nfunction validateDimensions(critical, dimensions) {\n  if (process.env.NODE_ENV !== 'production') {\n    var insideDestination = getDraggablesInsideDroppable(critical.droppable.id, dimensions.draggables);\n    checkIndexes(insideDestination);\n  }\n}\nvar lift$1 = function lift$1(marshal) {\n  return function (_ref) {\n    var getState = _ref.getState,\n      dispatch = _ref.dispatch;\n    return function (next) {\n      return function (action) {\n        if (action.type !== 'LIFT') {\n          next(action);\n          return;\n        }\n        var _action$payload = action.payload,\n          id = _action$payload.id,\n          clientSelection = _action$payload.clientSelection,\n          movementMode = _action$payload.movementMode;\n        var initial = getState();\n        if (initial.phase === 'DROP_ANIMATING') {\n          dispatch(completeDrop({\n            completed: initial.completed\n          }));\n        }\n        !(getState().phase === 'IDLE') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Unexpected phase to start a drag') : invariant(false) : void 0;\n        dispatch(flush());\n        dispatch(beforeInitialCapture({\n          draggableId: id,\n          movementMode: movementMode\n        }));\n        var scrollOptions = {\n          shouldPublishImmediately: movementMode === 'SNAP'\n        };\n        var request = {\n          draggableId: id,\n          scrollOptions: scrollOptions\n        };\n        var _marshal$startPublish = marshal.startPublishing(request),\n          critical = _marshal$startPublish.critical,\n          dimensions = _marshal$startPublish.dimensions,\n          viewport = _marshal$startPublish.viewport;\n        validateDimensions(critical, dimensions);\n        dispatch(initialPublish({\n          critical: critical,\n          dimensions: dimensions,\n          clientSelection: clientSelection,\n          movementMode: movementMode,\n          viewport: viewport\n        }));\n      };\n    };\n  };\n};\nvar style = function style(marshal) {\n  return function () {\n    return function (next) {\n      return function (action) {\n        if (action.type === 'INITIAL_PUBLISH') {\n          marshal.dragging();\n        }\n        if (action.type === 'DROP_ANIMATE') {\n          marshal.dropping(action.payload.completed.result.reason);\n        }\n        if (action.type === 'FLUSH' || action.type === 'DROP_COMPLETE') {\n          marshal.resting();\n        }\n        next(action);\n      };\n    };\n  };\n};\nvar curves = {\n  outOfTheWay: 'cubic-bezier(0.2, 0, 0, 1)',\n  drop: 'cubic-bezier(.2,1,.1,1)'\n};\nvar combine = {\n  opacity: {\n    drop: 0,\n    combining: 0.7\n  },\n  scale: {\n    drop: 0.75\n  }\n};\nvar timings = {\n  outOfTheWay: 0.2,\n  minDropTime: 0.33,\n  maxDropTime: 0.55\n};\nvar outOfTheWayTiming = timings.outOfTheWay + \"s \" + curves.outOfTheWay;\nvar transitions = {\n  fluid: \"opacity \" + outOfTheWayTiming,\n  snap: \"transform \" + outOfTheWayTiming + \", opacity \" + outOfTheWayTiming,\n  drop: function drop(duration) {\n    var timing = duration + \"s \" + curves.drop;\n    return \"transform \" + timing + \", opacity \" + timing;\n  },\n  outOfTheWay: \"transform \" + outOfTheWayTiming,\n  placeholder: \"height \" + outOfTheWayTiming + \", width \" + outOfTheWayTiming + \", margin \" + outOfTheWayTiming\n};\nvar moveTo = function moveTo(offset) {\n  return isEqual(offset, origin) ? null : \"translate(\" + offset.x + \"px, \" + offset.y + \"px)\";\n};\nvar transforms = {\n  moveTo: moveTo,\n  drop: function drop(offset, isCombining) {\n    var translate = moveTo(offset);\n    if (!translate) {\n      return null;\n    }\n    if (!isCombining) {\n      return translate;\n    }\n    return translate + \" scale(\" + combine.scale.drop + \")\";\n  }\n};\nvar minDropTime = timings.minDropTime,\n  maxDropTime = timings.maxDropTime;\nvar dropTimeRange = maxDropTime - minDropTime;\nvar maxDropTimeAtDistance = 1500;\nvar cancelDropModifier = 0.6;\nvar getDropDuration = function getDropDuration(_ref) {\n  var current = _ref.current,\n    destination = _ref.destination,\n    reason = _ref.reason;\n  var distance$1 = distance(current, destination);\n  if (distance$1 <= 0) {\n    return minDropTime;\n  }\n  if (distance$1 >= maxDropTimeAtDistance) {\n    return maxDropTime;\n  }\n  var percentage = distance$1 / maxDropTimeAtDistance;\n  var duration = minDropTime + dropTimeRange * percentage;\n  var withDuration = reason === 'CANCEL' ? duration * cancelDropModifier : duration;\n  return Number(withDuration.toFixed(2));\n};\nvar getNewHomeClientOffset = function getNewHomeClientOffset(_ref) {\n  var impact = _ref.impact,\n    draggable = _ref.draggable,\n    dimensions = _ref.dimensions,\n    viewport = _ref.viewport,\n    afterCritical = _ref.afterCritical;\n  var draggables = dimensions.draggables,\n    droppables = dimensions.droppables;\n  var droppableId = whatIsDraggedOver(impact);\n  var destination = droppableId ? droppables[droppableId] : null;\n  var home = droppables[draggable.descriptor.droppableId];\n  var newClientCenter = getClientBorderBoxCenter({\n    impact: impact,\n    draggable: draggable,\n    draggables: draggables,\n    afterCritical: afterCritical,\n    droppable: destination || home,\n    viewport: viewport\n  });\n  var offset = subtract(newClientCenter, draggable.client.borderBox.center);\n  return offset;\n};\nvar getDropImpact = function getDropImpact(_ref) {\n  var draggables = _ref.draggables,\n    reason = _ref.reason,\n    lastImpact = _ref.lastImpact,\n    home = _ref.home,\n    viewport = _ref.viewport,\n    onLiftImpact = _ref.onLiftImpact;\n  if (!lastImpact.at || reason !== 'DROP') {\n    var recomputedHomeImpact = recompute({\n      draggables: draggables,\n      impact: onLiftImpact,\n      destination: home,\n      viewport: viewport,\n      forceShouldAnimate: true\n    });\n    return {\n      impact: recomputedHomeImpact,\n      didDropInsideDroppable: false\n    };\n  }\n  if (lastImpact.at.type === 'REORDER') {\n    return {\n      impact: lastImpact,\n      didDropInsideDroppable: true\n    };\n  }\n  var withoutMovement = _extends({}, lastImpact, {\n    displaced: emptyGroups\n  });\n  return {\n    impact: withoutMovement,\n    didDropInsideDroppable: true\n  };\n};\nvar drop$1 = function drop$1(_ref) {\n  var getState = _ref.getState,\n    dispatch = _ref.dispatch;\n  return function (next) {\n    return function (action) {\n      if (action.type !== 'DROP') {\n        next(action);\n        return;\n      }\n      var state = getState();\n      var reason = action.payload.reason;\n      if (state.phase === 'COLLECTING') {\n        dispatch(dropPending({\n          reason: reason\n        }));\n        return;\n      }\n      if (state.phase === 'IDLE') {\n        return;\n      }\n      var isWaitingForDrop = state.phase === 'DROP_PENDING' && state.isWaiting;\n      !!isWaitingForDrop ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'A DROP action occurred while DROP_PENDING and still waiting') : invariant(false) : void 0;\n      !(state.phase === 'DRAGGING' || state.phase === 'DROP_PENDING') ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot drop in phase: \" + state.phase) : invariant(false) : void 0;\n      var critical = state.critical;\n      var dimensions = state.dimensions;\n      var draggable = dimensions.draggables[state.critical.draggable.id];\n      var _getDropImpact = getDropImpact({\n          reason: reason,\n          lastImpact: state.impact,\n          afterCritical: state.afterCritical,\n          onLiftImpact: state.onLiftImpact,\n          home: state.dimensions.droppables[state.critical.droppable.id],\n          viewport: state.viewport,\n          draggables: state.dimensions.draggables\n        }),\n        impact = _getDropImpact.impact,\n        didDropInsideDroppable = _getDropImpact.didDropInsideDroppable;\n      var destination = didDropInsideDroppable ? tryGetDestination(impact) : null;\n      var combine = didDropInsideDroppable ? tryGetCombine(impact) : null;\n      var source = {\n        index: critical.draggable.index,\n        droppableId: critical.droppable.id\n      };\n      var result = {\n        draggableId: draggable.descriptor.id,\n        type: draggable.descriptor.type,\n        source: source,\n        reason: reason,\n        mode: state.movementMode,\n        destination: destination,\n        combine: combine\n      };\n      var newHomeClientOffset = getNewHomeClientOffset({\n        impact: impact,\n        draggable: draggable,\n        dimensions: dimensions,\n        viewport: state.viewport,\n        afterCritical: state.afterCritical\n      });\n      var completed = {\n        critical: state.critical,\n        afterCritical: state.afterCritical,\n        result: result,\n        impact: impact\n      };\n      var isAnimationRequired = !isEqual(state.current.client.offset, newHomeClientOffset) || Boolean(result.combine);\n      if (!isAnimationRequired) {\n        dispatch(completeDrop({\n          completed: completed\n        }));\n        return;\n      }\n      var dropDuration = getDropDuration({\n        current: state.current.client.offset,\n        destination: newHomeClientOffset,\n        reason: reason\n      });\n      var args = {\n        newHomeClientOffset: newHomeClientOffset,\n        dropDuration: dropDuration,\n        completed: completed\n      };\n      dispatch(animateDrop(args));\n    };\n  };\n};\nvar getWindowScroll = function getWindowScroll() {\n  return {\n    x: window.pageXOffset,\n    y: window.pageYOffset\n  };\n};\nfunction getWindowScrollBinding(update) {\n  return {\n    eventName: 'scroll',\n    options: {\n      passive: true,\n      capture: false\n    },\n    fn: function fn(event) {\n      if (event.target !== window && event.target !== window.document) {\n        return;\n      }\n      update();\n    }\n  };\n}\nfunction getScrollListener(_ref) {\n  var onWindowScroll = _ref.onWindowScroll;\n  function updateScroll() {\n    onWindowScroll(getWindowScroll());\n  }\n  var scheduled = rafSchd(updateScroll);\n  var binding = getWindowScrollBinding(scheduled);\n  var unbind = noop;\n  function isActive() {\n    return unbind !== noop;\n  }\n  function start() {\n    !!isActive() ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot start scroll listener when already active') : invariant(false) : void 0;\n    unbind = bindEvents(window, [binding]);\n  }\n  function stop() {\n    !isActive() ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot stop scroll listener when not active') : invariant(false) : void 0;\n    scheduled.cancel();\n    unbind();\n    unbind = noop;\n  }\n  return {\n    start: start,\n    stop: stop,\n    isActive: isActive\n  };\n}\nvar shouldEnd = function shouldEnd(action) {\n  return action.type === 'DROP_COMPLETE' || action.type === 'DROP_ANIMATE' || action.type === 'FLUSH';\n};\nvar scrollListener = function scrollListener(store) {\n  var listener = getScrollListener({\n    onWindowScroll: function onWindowScroll(newScroll) {\n      store.dispatch(moveByWindowScroll({\n        newScroll: newScroll\n      }));\n    }\n  });\n  return function (next) {\n    return function (action) {\n      if (!listener.isActive() && action.type === 'INITIAL_PUBLISH') {\n        listener.start();\n      }\n      if (listener.isActive() && shouldEnd(action)) {\n        listener.stop();\n      }\n      next(action);\n    };\n  };\n};\nvar getExpiringAnnounce = function getExpiringAnnounce(announce) {\n  var wasCalled = false;\n  var isExpired = false;\n  var timeoutId = setTimeout(function () {\n    isExpired = true;\n  });\n  var result = function result(message) {\n    if (wasCalled) {\n      process.env.NODE_ENV !== \"production\" ? warning('Announcement already made. Not making a second announcement') : void 0;\n      return;\n    }\n    if (isExpired) {\n      process.env.NODE_ENV !== \"production\" ? warning(\"\\n        Announcements cannot be made asynchronously.\\n        Default message has already been announced.\\n      \") : void 0;\n      return;\n    }\n    wasCalled = true;\n    announce(message);\n    clearTimeout(timeoutId);\n  };\n  result.wasCalled = function () {\n    return wasCalled;\n  };\n  return result;\n};\nvar getAsyncMarshal = function getAsyncMarshal() {\n  var entries = [];\n  var execute = function execute(timerId) {\n    var index = findIndex(entries, function (item) {\n      return item.timerId === timerId;\n    });\n    !(index !== -1) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Could not find timer') : invariant(false) : void 0;\n    var _entries$splice = entries.splice(index, 1),\n      entry = _entries$splice[0];\n    entry.callback();\n  };\n  var add = function add(fn) {\n    var timerId = setTimeout(function () {\n      return execute(timerId);\n    });\n    var entry = {\n      timerId: timerId,\n      callback: fn\n    };\n    entries.push(entry);\n  };\n  var flush = function flush() {\n    if (!entries.length) {\n      return;\n    }\n    var shallow = [].concat(entries);\n    entries.length = 0;\n    shallow.forEach(function (entry) {\n      clearTimeout(entry.timerId);\n      entry.callback();\n    });\n  };\n  return {\n    add: add,\n    flush: flush\n  };\n};\nvar areLocationsEqual = function areLocationsEqual(first, second) {\n  if (first == null && second == null) {\n    return true;\n  }\n  if (first == null || second == null) {\n    return false;\n  }\n  return first.droppableId === second.droppableId && first.index === second.index;\n};\nvar isCombineEqual = function isCombineEqual(first, second) {\n  if (first == null && second == null) {\n    return true;\n  }\n  if (first == null || second == null) {\n    return false;\n  }\n  return first.draggableId === second.draggableId && first.droppableId === second.droppableId;\n};\nvar isCriticalEqual = function isCriticalEqual(first, second) {\n  if (first === second) {\n    return true;\n  }\n  var isDraggableEqual = first.draggable.id === second.draggable.id && first.draggable.droppableId === second.draggable.droppableId && first.draggable.type === second.draggable.type && first.draggable.index === second.draggable.index;\n  var isDroppableEqual = first.droppable.id === second.droppable.id && first.droppable.type === second.droppable.type;\n  return isDraggableEqual && isDroppableEqual;\n};\nvar withTimings = function withTimings(key, fn) {\n  start(key);\n  fn();\n  finish(key);\n};\nvar getDragStart = function getDragStart(critical, mode) {\n  return {\n    draggableId: critical.draggable.id,\n    type: critical.droppable.type,\n    source: {\n      droppableId: critical.droppable.id,\n      index: critical.draggable.index\n    },\n    mode: mode\n  };\n};\nvar execute = function execute(responder, data, announce, getDefaultMessage) {\n  if (!responder) {\n    announce(getDefaultMessage(data));\n    return;\n  }\n  var willExpire = getExpiringAnnounce(announce);\n  var provided = {\n    announce: willExpire\n  };\n  responder(data, provided);\n  if (!willExpire.wasCalled()) {\n    announce(getDefaultMessage(data));\n  }\n};\nvar getPublisher = function getPublisher(getResponders, announce) {\n  var asyncMarshal = getAsyncMarshal();\n  var dragging = null;\n  var beforeCapture = function beforeCapture(draggableId, mode) {\n    !!dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot fire onBeforeCapture as a drag start has already been published') : invariant(false) : void 0;\n    withTimings('onBeforeCapture', function () {\n      var fn = getResponders().onBeforeCapture;\n      if (fn) {\n        var before = {\n          draggableId: draggableId,\n          mode: mode\n        };\n        fn(before);\n      }\n    });\n  };\n  var beforeStart = function beforeStart(critical, mode) {\n    !!dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot fire onBeforeDragStart as a drag start has already been published') : invariant(false) : void 0;\n    withTimings('onBeforeDragStart', function () {\n      var fn = getResponders().onBeforeDragStart;\n      if (fn) {\n        fn(getDragStart(critical, mode));\n      }\n    });\n  };\n  var start = function start(critical, mode) {\n    !!dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot fire onBeforeDragStart as a drag start has already been published') : invariant(false) : void 0;\n    var data = getDragStart(critical, mode);\n    dragging = {\n      mode: mode,\n      lastCritical: critical,\n      lastLocation: data.source,\n      lastCombine: null\n    };\n    asyncMarshal.add(function () {\n      withTimings('onDragStart', function () {\n        return execute(getResponders().onDragStart, data, announce, preset.onDragStart);\n      });\n    });\n  };\n  var update = function update(critical, impact) {\n    var location = tryGetDestination(impact);\n    var combine = tryGetCombine(impact);\n    !dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot fire onDragMove when onDragStart has not been called') : invariant(false) : void 0;\n    var hasCriticalChanged = !isCriticalEqual(critical, dragging.lastCritical);\n    if (hasCriticalChanged) {\n      dragging.lastCritical = critical;\n    }\n    var hasLocationChanged = !areLocationsEqual(dragging.lastLocation, location);\n    if (hasLocationChanged) {\n      dragging.lastLocation = location;\n    }\n    var hasGroupingChanged = !isCombineEqual(dragging.lastCombine, combine);\n    if (hasGroupingChanged) {\n      dragging.lastCombine = combine;\n    }\n    if (!hasCriticalChanged && !hasLocationChanged && !hasGroupingChanged) {\n      return;\n    }\n    var data = _extends({}, getDragStart(critical, dragging.mode), {\n      combine: combine,\n      destination: location\n    });\n    asyncMarshal.add(function () {\n      withTimings('onDragUpdate', function () {\n        return execute(getResponders().onDragUpdate, data, announce, preset.onDragUpdate);\n      });\n    });\n  };\n  var flush = function flush() {\n    !dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Can only flush responders while dragging') : invariant(false) : void 0;\n    asyncMarshal.flush();\n  };\n  var drop = function drop(result) {\n    !dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot fire onDragEnd when there is no matching onDragStart') : invariant(false) : void 0;\n    dragging = null;\n    withTimings('onDragEnd', function () {\n      return execute(getResponders().onDragEnd, result, announce, preset.onDragEnd);\n    });\n  };\n  var abort = function abort() {\n    if (!dragging) {\n      return;\n    }\n    var result = _extends({}, getDragStart(dragging.lastCritical, dragging.mode), {\n      combine: null,\n      destination: null,\n      reason: 'CANCEL'\n    });\n    drop(result);\n  };\n  return {\n    beforeCapture: beforeCapture,\n    beforeStart: beforeStart,\n    start: start,\n    update: update,\n    flush: flush,\n    drop: drop,\n    abort: abort\n  };\n};\nvar responders = function responders(getResponders, announce) {\n  var publisher = getPublisher(getResponders, announce);\n  return function (store) {\n    return function (next) {\n      return function (action) {\n        if (action.type === 'BEFORE_INITIAL_CAPTURE') {\n          publisher.beforeCapture(action.payload.draggableId, action.payload.movementMode);\n          return;\n        }\n        if (action.type === 'INITIAL_PUBLISH') {\n          var critical = action.payload.critical;\n          publisher.beforeStart(critical, action.payload.movementMode);\n          next(action);\n          publisher.start(critical, action.payload.movementMode);\n          return;\n        }\n        if (action.type === 'DROP_COMPLETE') {\n          var result = action.payload.completed.result;\n          publisher.flush();\n          next(action);\n          publisher.drop(result);\n          return;\n        }\n        next(action);\n        if (action.type === 'FLUSH') {\n          publisher.abort();\n          return;\n        }\n        var state = store.getState();\n        if (state.phase === 'DRAGGING') {\n          publisher.update(state.critical, state.impact);\n        }\n      };\n    };\n  };\n};\nvar dropAnimationFinish = function dropAnimationFinish(store) {\n  return function (next) {\n    return function (action) {\n      if (action.type !== 'DROP_ANIMATION_FINISHED') {\n        next(action);\n        return;\n      }\n      var state = store.getState();\n      !(state.phase === 'DROP_ANIMATING') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot finish a drop animating when no drop is occurring') : invariant(false) : void 0;\n      store.dispatch(completeDrop({\n        completed: state.completed\n      }));\n    };\n  };\n};\nvar dropAnimationFlushOnScroll = function dropAnimationFlushOnScroll(store) {\n  var unbind = null;\n  var frameId = null;\n  function clear() {\n    if (frameId) {\n      cancelAnimationFrame(frameId);\n      frameId = null;\n    }\n    if (unbind) {\n      unbind();\n      unbind = null;\n    }\n  }\n  return function (next) {\n    return function (action) {\n      if (action.type === 'FLUSH' || action.type === 'DROP_COMPLETE' || action.type === 'DROP_ANIMATION_FINISHED') {\n        clear();\n      }\n      next(action);\n      if (action.type !== 'DROP_ANIMATE') {\n        return;\n      }\n      var binding = {\n        eventName: 'scroll',\n        options: {\n          capture: true,\n          passive: false,\n          once: true\n        },\n        fn: function flushDropAnimation() {\n          var state = store.getState();\n          if (state.phase === 'DROP_ANIMATING') {\n            store.dispatch(dropAnimationFinished());\n          }\n        }\n      };\n      frameId = requestAnimationFrame(function () {\n        frameId = null;\n        unbind = bindEvents(window, [binding]);\n      });\n    };\n  };\n};\nvar dimensionMarshalStopper = function dimensionMarshalStopper(marshal) {\n  return function () {\n    return function (next) {\n      return function (action) {\n        if (action.type === 'DROP_COMPLETE' || action.type === 'FLUSH' || action.type === 'DROP_ANIMATE') {\n          marshal.stopPublishing();\n        }\n        next(action);\n      };\n    };\n  };\n};\nvar focus = function focus(marshal) {\n  var isWatching = false;\n  return function () {\n    return function (next) {\n      return function (action) {\n        if (action.type === 'INITIAL_PUBLISH') {\n          isWatching = true;\n          marshal.tryRecordFocus(action.payload.critical.draggable.id);\n          next(action);\n          marshal.tryRestoreFocusRecorded();\n          return;\n        }\n        next(action);\n        if (!isWatching) {\n          return;\n        }\n        if (action.type === 'FLUSH') {\n          isWatching = false;\n          marshal.tryRestoreFocusRecorded();\n          return;\n        }\n        if (action.type === 'DROP_COMPLETE') {\n          isWatching = false;\n          var result = action.payload.completed.result;\n          if (result.combine) {\n            marshal.tryShiftRecord(result.draggableId, result.combine.draggableId);\n          }\n          marshal.tryRestoreFocusRecorded();\n        }\n      };\n    };\n  };\n};\nvar shouldStop = function shouldStop(action) {\n  return action.type === 'DROP_COMPLETE' || action.type === 'DROP_ANIMATE' || action.type === 'FLUSH';\n};\nvar autoScroll = function autoScroll(autoScroller) {\n  return function (store) {\n    return function (next) {\n      return function (action) {\n        if (shouldStop(action)) {\n          autoScroller.stop();\n          next(action);\n          return;\n        }\n        if (action.type === 'INITIAL_PUBLISH') {\n          next(action);\n          var state = store.getState();\n          !(state.phase === 'DRAGGING') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Expected phase to be DRAGGING after INITIAL_PUBLISH') : invariant(false) : void 0;\n          autoScroller.start(state);\n          return;\n        }\n        next(action);\n        autoScroller.scroll(store.getState());\n      };\n    };\n  };\n};\nvar pendingDrop = function pendingDrop(store) {\n  return function (next) {\n    return function (action) {\n      next(action);\n      if (action.type !== 'PUBLISH_WHILE_DRAGGING') {\n        return;\n      }\n      var postActionState = store.getState();\n      if (postActionState.phase !== 'DROP_PENDING') {\n        return;\n      }\n      if (postActionState.isWaiting) {\n        return;\n      }\n      store.dispatch(drop({\n        reason: postActionState.reason\n      }));\n    };\n  };\n};\nvar composeEnhancers = process.env.NODE_ENV !== 'production' && typeof window !== 'undefined' && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ : compose;\nvar createStore = function createStore(_ref) {\n  var dimensionMarshal = _ref.dimensionMarshal,\n    focusMarshal = _ref.focusMarshal,\n    styleMarshal = _ref.styleMarshal,\n    getResponders = _ref.getResponders,\n    announce = _ref.announce,\n    autoScroller = _ref.autoScroller;\n  return createStore$1(reducer, composeEnhancers(applyMiddleware(style(styleMarshal), dimensionMarshalStopper(dimensionMarshal), lift$1(dimensionMarshal), drop$1, dropAnimationFinish, dropAnimationFlushOnScroll, pendingDrop, autoScroll(autoScroller), scrollListener, focus(focusMarshal), responders(getResponders, announce))));\n};\nvar clean$1 = function clean() {\n  return {\n    additions: {},\n    removals: {},\n    modified: {}\n  };\n};\nvar timingKey = 'Publish collection from DOM';\nfunction createPublisher(_ref) {\n  var registry = _ref.registry,\n    callbacks = _ref.callbacks;\n  var staging = clean$1();\n  var frameId = null;\n  var collect = function collect() {\n    if (frameId) {\n      return;\n    }\n    callbacks.collectionStarting();\n    frameId = requestAnimationFrame(function () {\n      frameId = null;\n      start(timingKey);\n      var _staging = staging,\n        additions = _staging.additions,\n        removals = _staging.removals,\n        modified = _staging.modified;\n      var added = _Object$keys(additions).map(function (id) {\n        return registry.draggable.getById(id).getDimension(origin);\n      }).sort(function (a, b) {\n        return a.descriptor.index - b.descriptor.index;\n      });\n      var updated = _Object$keys(modified).map(function (id) {\n        var entry = registry.droppable.getById(id);\n        var scroll = entry.callbacks.getScrollWhileDragging();\n        return {\n          droppableId: id,\n          scroll: scroll\n        };\n      });\n      var result = {\n        additions: added,\n        removals: _Object$keys(removals),\n        modified: updated\n      };\n      staging = clean$1();\n      finish(timingKey);\n      callbacks.publish(result);\n    });\n  };\n  var add = function add(entry) {\n    var id = entry.descriptor.id;\n    staging.additions[id] = entry;\n    staging.modified[entry.descriptor.droppableId] = true;\n    if (staging.removals[id]) {\n      delete staging.removals[id];\n    }\n    collect();\n  };\n  var remove = function remove(entry) {\n    var descriptor = entry.descriptor;\n    staging.removals[descriptor.id] = true;\n    staging.modified[descriptor.droppableId] = true;\n    if (staging.additions[descriptor.id]) {\n      delete staging.additions[descriptor.id];\n    }\n    collect();\n  };\n  var stop = function stop() {\n    if (!frameId) {\n      return;\n    }\n    cancelAnimationFrame(frameId);\n    frameId = null;\n    staging = clean$1();\n  };\n  return {\n    add: add,\n    remove: remove,\n    stop: stop\n  };\n}\nvar getMaxScroll = function getMaxScroll(_ref) {\n  var scrollHeight = _ref.scrollHeight,\n    scrollWidth = _ref.scrollWidth,\n    height = _ref.height,\n    width = _ref.width;\n  var maxScroll = subtract({\n    x: scrollWidth,\n    y: scrollHeight\n  }, {\n    x: width,\n    y: height\n  });\n  var adjustedMaxScroll = {\n    x: Math.max(0, maxScroll.x),\n    y: Math.max(0, maxScroll.y)\n  };\n  return adjustedMaxScroll;\n};\nvar getDocumentElement = function getDocumentElement() {\n  var doc = document.documentElement;\n  !doc ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot find document.documentElement') : invariant(false) : void 0;\n  return doc;\n};\nvar getMaxWindowScroll = function getMaxWindowScroll() {\n  var doc = getDocumentElement();\n  var maxScroll = getMaxScroll({\n    scrollHeight: doc.scrollHeight,\n    scrollWidth: doc.scrollWidth,\n    width: doc.clientWidth,\n    height: doc.clientHeight\n  });\n  return maxScroll;\n};\nvar getViewport = function getViewport() {\n  var scroll = getWindowScroll();\n  var maxScroll = getMaxWindowScroll();\n  var top = scroll.y;\n  var left = scroll.x;\n  var doc = getDocumentElement();\n  var width = doc.clientWidth;\n  var height = doc.clientHeight;\n  var right = left + width;\n  var bottom = top + height;\n  var frame = getRect({\n    top: top,\n    left: left,\n    right: right,\n    bottom: bottom\n  });\n  var viewport = {\n    frame: frame,\n    scroll: {\n      initial: scroll,\n      current: scroll,\n      max: maxScroll,\n      diff: {\n        value: origin,\n        displacement: origin\n      }\n    }\n  };\n  return viewport;\n};\nvar getInitialPublish = function getInitialPublish(_ref) {\n  var critical = _ref.critical,\n    scrollOptions = _ref.scrollOptions,\n    registry = _ref.registry;\n  var timingKey = 'Initial collection from DOM';\n  start(timingKey);\n  var viewport = getViewport();\n  var windowScroll = viewport.scroll.current;\n  var home = critical.droppable;\n  var droppables = registry.droppable.getAllByType(home.type).map(function (entry) {\n    return entry.callbacks.getDimensionAndWatchScroll(windowScroll, scrollOptions);\n  });\n  var draggables = registry.draggable.getAllByType(critical.draggable.type).map(function (entry) {\n    return entry.getDimension(windowScroll);\n  });\n  var dimensions = {\n    draggables: toDraggableMap(draggables),\n    droppables: toDroppableMap(droppables)\n  };\n  finish(timingKey);\n  var result = {\n    dimensions: dimensions,\n    critical: critical,\n    viewport: viewport\n  };\n  return result;\n};\nfunction shouldPublishUpdate(registry, dragging, entry) {\n  if (entry.descriptor.id === dragging.id) {\n    return false;\n  }\n  if (entry.descriptor.type !== dragging.type) {\n    return false;\n  }\n  var home = registry.droppable.getById(entry.descriptor.droppableId);\n  if (home.descriptor.mode !== 'virtual') {\n    process.env.NODE_ENV !== \"production\" ? warning(\"\\n      You are attempting to add or remove a Draggable [id: \" + entry.descriptor.id + \"]\\n      while a drag is occurring. This is only supported for virtual lists.\\n\\n      See https://github.com/atlassian/react-beautiful-dnd/blob/master/docs/patterns/virtual-lists.md\\n    \") : void 0;\n    return false;\n  }\n  return true;\n}\nvar createDimensionMarshal = function createDimensionMarshal(registry, callbacks) {\n  var collection = null;\n  var publisher = createPublisher({\n    callbacks: {\n      publish: callbacks.publishWhileDragging,\n      collectionStarting: callbacks.collectionStarting\n    },\n    registry: registry\n  });\n  var updateDroppableIsEnabled = function updateDroppableIsEnabled(id, isEnabled) {\n    !registry.droppable.exists(id) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot update is enabled flag of Droppable \" + id + \" as it is not registered\") : invariant(false) : void 0;\n    if (!collection) {\n      return;\n    }\n    callbacks.updateDroppableIsEnabled({\n      id: id,\n      isEnabled: isEnabled\n    });\n  };\n  var updateDroppableIsCombineEnabled = function updateDroppableIsCombineEnabled(id, isCombineEnabled) {\n    if (!collection) {\n      return;\n    }\n    !registry.droppable.exists(id) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot update isCombineEnabled flag of Droppable \" + id + \" as it is not registered\") : invariant(false) : void 0;\n    callbacks.updateDroppableIsCombineEnabled({\n      id: id,\n      isCombineEnabled: isCombineEnabled\n    });\n  };\n  var updateDroppableScroll = function updateDroppableScroll(id, newScroll) {\n    if (!collection) {\n      return;\n    }\n    !registry.droppable.exists(id) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot update the scroll on Droppable \" + id + \" as it is not registered\") : invariant(false) : void 0;\n    callbacks.updateDroppableScroll({\n      id: id,\n      newScroll: newScroll\n    });\n  };\n  var scrollDroppable = function scrollDroppable(id, change) {\n    if (!collection) {\n      return;\n    }\n    registry.droppable.getById(id).callbacks.scroll(change);\n  };\n  var stopPublishing = function stopPublishing() {\n    if (!collection) {\n      return;\n    }\n    publisher.stop();\n    var home = collection.critical.droppable;\n    registry.droppable.getAllByType(home.type).forEach(function (entry) {\n      return entry.callbacks.dragStopped();\n    });\n    collection.unsubscribe();\n    collection = null;\n  };\n  var subscriber = function subscriber(event) {\n    !collection ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Should only be subscribed when a collection is occurring') : invariant(false) : void 0;\n    var dragging = collection.critical.draggable;\n    if (event.type === 'ADDITION') {\n      if (shouldPublishUpdate(registry, dragging, event.value)) {\n        publisher.add(event.value);\n      }\n    }\n    if (event.type === 'REMOVAL') {\n      if (shouldPublishUpdate(registry, dragging, event.value)) {\n        publisher.remove(event.value);\n      }\n    }\n  };\n  var startPublishing = function startPublishing(request) {\n    !!collection ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot start capturing critical dimensions as there is already a collection') : invariant(false) : void 0;\n    var entry = registry.draggable.getById(request.draggableId);\n    var home = registry.droppable.getById(entry.descriptor.droppableId);\n    var critical = {\n      draggable: entry.descriptor,\n      droppable: home.descriptor\n    };\n    var unsubscribe = registry.subscribe(subscriber);\n    collection = {\n      critical: critical,\n      unsubscribe: unsubscribe\n    };\n    return getInitialPublish({\n      critical: critical,\n      registry: registry,\n      scrollOptions: request.scrollOptions\n    });\n  };\n  var marshal = {\n    updateDroppableIsEnabled: updateDroppableIsEnabled,\n    updateDroppableIsCombineEnabled: updateDroppableIsCombineEnabled,\n    scrollDroppable: scrollDroppable,\n    updateDroppableScroll: updateDroppableScroll,\n    startPublishing: startPublishing,\n    stopPublishing: stopPublishing\n  };\n  return marshal;\n};\nvar canStartDrag = function canStartDrag(state, id) {\n  if (state.phase === 'IDLE') {\n    return true;\n  }\n  if (state.phase !== 'DROP_ANIMATING') {\n    return false;\n  }\n  if (state.completed.result.draggableId === id) {\n    return false;\n  }\n  return state.completed.result.reason === 'DROP';\n};\nvar scrollWindow = function scrollWindow(change) {\n  window.scrollBy(change.x, change.y);\n};\nvar getScrollableDroppables = memoizeOne(function (droppables) {\n  return toDroppableList(droppables).filter(function (droppable) {\n    if (!droppable.isEnabled) {\n      return false;\n    }\n    if (!droppable.frame) {\n      return false;\n    }\n    return true;\n  });\n});\nvar getScrollableDroppableOver = function getScrollableDroppableOver(target, droppables) {\n  var maybe = find(getScrollableDroppables(droppables), function (droppable) {\n    !droppable.frame ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Invalid result') : invariant(false) : void 0;\n    return isPositionInFrame(droppable.frame.pageMarginBox)(target);\n  });\n  return maybe;\n};\nvar getBestScrollableDroppable = function getBestScrollableDroppable(_ref) {\n  var center = _ref.center,\n    destination = _ref.destination,\n    droppables = _ref.droppables;\n  if (destination) {\n    var _dimension = droppables[destination];\n    if (!_dimension.frame) {\n      return null;\n    }\n    return _dimension;\n  }\n  var dimension = getScrollableDroppableOver(center, droppables);\n  return dimension;\n};\nvar config = {\n  startFromPercentage: 0.25,\n  maxScrollAtPercentage: 0.05,\n  maxPixelScroll: 28,\n  ease: function ease(percentage) {\n    return Math.pow(percentage, 2);\n  },\n  durationDampening: {\n    stopDampeningAt: 1200,\n    accelerateAt: 360\n  }\n};\nvar getDistanceThresholds = function getDistanceThresholds(container, axis) {\n  var startScrollingFrom = container[axis.size] * config.startFromPercentage;\n  var maxScrollValueAt = container[axis.size] * config.maxScrollAtPercentage;\n  var thresholds = {\n    startScrollingFrom: startScrollingFrom,\n    maxScrollValueAt: maxScrollValueAt\n  };\n  return thresholds;\n};\nvar getPercentage = function getPercentage(_ref) {\n  var startOfRange = _ref.startOfRange,\n    endOfRange = _ref.endOfRange,\n    current = _ref.current;\n  var range = endOfRange - startOfRange;\n  if (range === 0) {\n    process.env.NODE_ENV !== \"production\" ? warning(\"\\n      Detected distance range of 0 in the fluid auto scroller\\n      This is unexpected and would cause a divide by 0 issue.\\n      Not allowing an auto scroll\\n    \") : void 0;\n    return 0;\n  }\n  var currentInRange = current - startOfRange;\n  var percentage = currentInRange / range;\n  return percentage;\n};\nvar minScroll = 1;\nvar getValueFromDistance = function getValueFromDistance(distanceToEdge, thresholds) {\n  if (distanceToEdge > thresholds.startScrollingFrom) {\n    return 0;\n  }\n  if (distanceToEdge <= thresholds.maxScrollValueAt) {\n    return config.maxPixelScroll;\n  }\n  if (distanceToEdge === thresholds.startScrollingFrom) {\n    return minScroll;\n  }\n  var percentageFromMaxScrollValueAt = getPercentage({\n    startOfRange: thresholds.maxScrollValueAt,\n    endOfRange: thresholds.startScrollingFrom,\n    current: distanceToEdge\n  });\n  var percentageFromStartScrollingFrom = 1 - percentageFromMaxScrollValueAt;\n  var scroll = config.maxPixelScroll * config.ease(percentageFromStartScrollingFrom);\n  return Math.ceil(scroll);\n};\nvar accelerateAt = config.durationDampening.accelerateAt;\nvar stopAt = config.durationDampening.stopDampeningAt;\nvar dampenValueByTime = function dampenValueByTime(proposedScroll, dragStartTime) {\n  var startOfRange = dragStartTime;\n  var endOfRange = stopAt;\n  var now = _Date$now();\n  var runTime = now - startOfRange;\n  if (runTime >= stopAt) {\n    return proposedScroll;\n  }\n  if (runTime < accelerateAt) {\n    return minScroll;\n  }\n  var betweenAccelerateAtAndStopAtPercentage = getPercentage({\n    startOfRange: accelerateAt,\n    endOfRange: endOfRange,\n    current: runTime\n  });\n  var scroll = proposedScroll * config.ease(betweenAccelerateAtAndStopAtPercentage);\n  return Math.ceil(scroll);\n};\nvar getValue = function getValue(_ref) {\n  var distanceToEdge = _ref.distanceToEdge,\n    thresholds = _ref.thresholds,\n    dragStartTime = _ref.dragStartTime,\n    shouldUseTimeDampening = _ref.shouldUseTimeDampening;\n  var scroll = getValueFromDistance(distanceToEdge, thresholds);\n  if (scroll === 0) {\n    return 0;\n  }\n  if (!shouldUseTimeDampening) {\n    return scroll;\n  }\n  return Math.max(dampenValueByTime(scroll, dragStartTime), minScroll);\n};\nvar getScrollOnAxis = function getScrollOnAxis(_ref) {\n  var container = _ref.container,\n    distanceToEdges = _ref.distanceToEdges,\n    dragStartTime = _ref.dragStartTime,\n    axis = _ref.axis,\n    shouldUseTimeDampening = _ref.shouldUseTimeDampening;\n  var thresholds = getDistanceThresholds(container, axis);\n  var isCloserToEnd = distanceToEdges[axis.end] < distanceToEdges[axis.start];\n  if (isCloserToEnd) {\n    return getValue({\n      distanceToEdge: distanceToEdges[axis.end],\n      thresholds: thresholds,\n      dragStartTime: dragStartTime,\n      shouldUseTimeDampening: shouldUseTimeDampening\n    });\n  }\n  return -1 * getValue({\n    distanceToEdge: distanceToEdges[axis.start],\n    thresholds: thresholds,\n    dragStartTime: dragStartTime,\n    shouldUseTimeDampening: shouldUseTimeDampening\n  });\n};\nvar adjustForSizeLimits = function adjustForSizeLimits(_ref) {\n  var container = _ref.container,\n    subject = _ref.subject,\n    proposedScroll = _ref.proposedScroll;\n  var isTooBigVertically = subject.height > container.height;\n  var isTooBigHorizontally = subject.width > container.width;\n  if (!isTooBigHorizontally && !isTooBigVertically) {\n    return proposedScroll;\n  }\n  if (isTooBigHorizontally && isTooBigVertically) {\n    return null;\n  }\n  return {\n    x: isTooBigHorizontally ? 0 : proposedScroll.x,\n    y: isTooBigVertically ? 0 : proposedScroll.y\n  };\n};\nvar clean$2 = apply(function (value) {\n  return value === 0 ? 0 : value;\n});\nvar getScroll = function getScroll(_ref) {\n  var dragStartTime = _ref.dragStartTime,\n    container = _ref.container,\n    subject = _ref.subject,\n    center = _ref.center,\n    shouldUseTimeDampening = _ref.shouldUseTimeDampening;\n  var distanceToEdges = {\n    top: center.y - container.top,\n    right: container.right - center.x,\n    bottom: container.bottom - center.y,\n    left: center.x - container.left\n  };\n  var y = getScrollOnAxis({\n    container: container,\n    distanceToEdges: distanceToEdges,\n    dragStartTime: dragStartTime,\n    axis: vertical,\n    shouldUseTimeDampening: shouldUseTimeDampening\n  });\n  var x = getScrollOnAxis({\n    container: container,\n    distanceToEdges: distanceToEdges,\n    dragStartTime: dragStartTime,\n    axis: horizontal,\n    shouldUseTimeDampening: shouldUseTimeDampening\n  });\n  var required = clean$2({\n    x: x,\n    y: y\n  });\n  if (isEqual(required, origin)) {\n    return null;\n  }\n  var limited = adjustForSizeLimits({\n    container: container,\n    subject: subject,\n    proposedScroll: required\n  });\n  if (!limited) {\n    return null;\n  }\n  return isEqual(limited, origin) ? null : limited;\n};\nvar smallestSigned = apply(function (value) {\n  if (value === 0) {\n    return 0;\n  }\n  return value > 0 ? 1 : -1;\n});\nvar getOverlap = function () {\n  var getRemainder = function getRemainder(target, max) {\n    if (target < 0) {\n      return target;\n    }\n    if (target > max) {\n      return target - max;\n    }\n    return 0;\n  };\n  return function (_ref) {\n    var current = _ref.current,\n      max = _ref.max,\n      change = _ref.change;\n    var targetScroll = add(current, change);\n    var overlap = {\n      x: getRemainder(targetScroll.x, max.x),\n      y: getRemainder(targetScroll.y, max.y)\n    };\n    if (isEqual(overlap, origin)) {\n      return null;\n    }\n    return overlap;\n  };\n}();\nvar canPartiallyScroll = function canPartiallyScroll(_ref2) {\n  var rawMax = _ref2.max,\n    current = _ref2.current,\n    change = _ref2.change;\n  var max = {\n    x: Math.max(current.x, rawMax.x),\n    y: Math.max(current.y, rawMax.y)\n  };\n  var smallestChange = smallestSigned(change);\n  var overlap = getOverlap({\n    max: max,\n    current: current,\n    change: smallestChange\n  });\n  if (!overlap) {\n    return true;\n  }\n  if (smallestChange.x !== 0 && overlap.x === 0) {\n    return true;\n  }\n  if (smallestChange.y !== 0 && overlap.y === 0) {\n    return true;\n  }\n  return false;\n};\nvar canScrollWindow = function canScrollWindow(viewport, change) {\n  return canPartiallyScroll({\n    current: viewport.scroll.current,\n    max: viewport.scroll.max,\n    change: change\n  });\n};\nvar getWindowOverlap = function getWindowOverlap(viewport, change) {\n  if (!canScrollWindow(viewport, change)) {\n    return null;\n  }\n  var max = viewport.scroll.max;\n  var current = viewport.scroll.current;\n  return getOverlap({\n    current: current,\n    max: max,\n    change: change\n  });\n};\nvar canScrollDroppable = function canScrollDroppable(droppable, change) {\n  var frame = droppable.frame;\n  if (!frame) {\n    return false;\n  }\n  return canPartiallyScroll({\n    current: frame.scroll.current,\n    max: frame.scroll.max,\n    change: change\n  });\n};\nvar getDroppableOverlap = function getDroppableOverlap(droppable, change) {\n  var frame = droppable.frame;\n  if (!frame) {\n    return null;\n  }\n  if (!canScrollDroppable(droppable, change)) {\n    return null;\n  }\n  return getOverlap({\n    current: frame.scroll.current,\n    max: frame.scroll.max,\n    change: change\n  });\n};\nvar getWindowScrollChange = function getWindowScrollChange(_ref) {\n  var viewport = _ref.viewport,\n    subject = _ref.subject,\n    center = _ref.center,\n    dragStartTime = _ref.dragStartTime,\n    shouldUseTimeDampening = _ref.shouldUseTimeDampening;\n  var scroll = getScroll({\n    dragStartTime: dragStartTime,\n    container: viewport.frame,\n    subject: subject,\n    center: center,\n    shouldUseTimeDampening: shouldUseTimeDampening\n  });\n  return scroll && canScrollWindow(viewport, scroll) ? scroll : null;\n};\nvar getDroppableScrollChange = function getDroppableScrollChange(_ref) {\n  var droppable = _ref.droppable,\n    subject = _ref.subject,\n    center = _ref.center,\n    dragStartTime = _ref.dragStartTime,\n    shouldUseTimeDampening = _ref.shouldUseTimeDampening;\n  var frame = droppable.frame;\n  if (!frame) {\n    return null;\n  }\n  var scroll = getScroll({\n    dragStartTime: dragStartTime,\n    container: frame.pageMarginBox,\n    subject: subject,\n    center: center,\n    shouldUseTimeDampening: shouldUseTimeDampening\n  });\n  return scroll && canScrollDroppable(droppable, scroll) ? scroll : null;\n};\nvar scroll$1 = function scroll$1(_ref) {\n  var state = _ref.state,\n    dragStartTime = _ref.dragStartTime,\n    shouldUseTimeDampening = _ref.shouldUseTimeDampening,\n    scrollWindow = _ref.scrollWindow,\n    scrollDroppable = _ref.scrollDroppable;\n  var center = state.current.page.borderBoxCenter;\n  var draggable = state.dimensions.draggables[state.critical.draggable.id];\n  var subject = draggable.page.marginBox;\n  if (state.isWindowScrollAllowed) {\n    var viewport = state.viewport;\n    var _change = getWindowScrollChange({\n      dragStartTime: dragStartTime,\n      viewport: viewport,\n      subject: subject,\n      center: center,\n      shouldUseTimeDampening: shouldUseTimeDampening\n    });\n    if (_change) {\n      scrollWindow(_change);\n      return;\n    }\n  }\n  var droppable = getBestScrollableDroppable({\n    center: center,\n    destination: whatIsDraggedOver(state.impact),\n    droppables: state.dimensions.droppables\n  });\n  if (!droppable) {\n    return;\n  }\n  var change = getDroppableScrollChange({\n    dragStartTime: dragStartTime,\n    droppable: droppable,\n    subject: subject,\n    center: center,\n    shouldUseTimeDampening: shouldUseTimeDampening\n  });\n  if (change) {\n    scrollDroppable(droppable.descriptor.id, change);\n  }\n};\nvar createFluidScroller = function createFluidScroller(_ref) {\n  var scrollWindow = _ref.scrollWindow,\n    scrollDroppable = _ref.scrollDroppable;\n  var scheduleWindowScroll = rafSchd(scrollWindow);\n  var scheduleDroppableScroll = rafSchd(scrollDroppable);\n  var dragging = null;\n  var tryScroll = function tryScroll(state) {\n    !dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot fluid scroll if not dragging') : invariant(false) : void 0;\n    var _dragging = dragging,\n      shouldUseTimeDampening = _dragging.shouldUseTimeDampening,\n      dragStartTime = _dragging.dragStartTime;\n    scroll$1({\n      state: state,\n      scrollWindow: scheduleWindowScroll,\n      scrollDroppable: scheduleDroppableScroll,\n      dragStartTime: dragStartTime,\n      shouldUseTimeDampening: shouldUseTimeDampening\n    });\n  };\n  var start$1 = function start$1(state) {\n    start('starting fluid scroller');\n    !!dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot start auto scrolling when already started') : invariant(false) : void 0;\n    var dragStartTime = _Date$now();\n    var wasScrollNeeded = false;\n    var fakeScrollCallback = function fakeScrollCallback() {\n      wasScrollNeeded = true;\n    };\n    scroll$1({\n      state: state,\n      dragStartTime: 0,\n      shouldUseTimeDampening: false,\n      scrollWindow: fakeScrollCallback,\n      scrollDroppable: fakeScrollCallback\n    });\n    dragging = {\n      dragStartTime: dragStartTime,\n      shouldUseTimeDampening: wasScrollNeeded\n    };\n    finish('starting fluid scroller');\n    if (wasScrollNeeded) {\n      tryScroll(state);\n    }\n  };\n  var stop = function stop() {\n    if (!dragging) {\n      return;\n    }\n    scheduleWindowScroll.cancel();\n    scheduleDroppableScroll.cancel();\n    dragging = null;\n  };\n  return {\n    start: start$1,\n    stop: stop,\n    scroll: tryScroll\n  };\n};\nvar createJumpScroller = function createJumpScroller(_ref) {\n  var move = _ref.move,\n    scrollDroppable = _ref.scrollDroppable,\n    scrollWindow = _ref.scrollWindow;\n  var moveByOffset = function moveByOffset(state, offset) {\n    var client = add(state.current.client.selection, offset);\n    move({\n      client: client\n    });\n  };\n  var scrollDroppableAsMuchAsItCan = function scrollDroppableAsMuchAsItCan(droppable, change) {\n    if (!canScrollDroppable(droppable, change)) {\n      return change;\n    }\n    var overlap = getDroppableOverlap(droppable, change);\n    if (!overlap) {\n      scrollDroppable(droppable.descriptor.id, change);\n      return null;\n    }\n    var whatTheDroppableCanScroll = subtract(change, overlap);\n    scrollDroppable(droppable.descriptor.id, whatTheDroppableCanScroll);\n    var remainder = subtract(change, whatTheDroppableCanScroll);\n    return remainder;\n  };\n  var scrollWindowAsMuchAsItCan = function scrollWindowAsMuchAsItCan(isWindowScrollAllowed, viewport, change) {\n    if (!isWindowScrollAllowed) {\n      return change;\n    }\n    if (!canScrollWindow(viewport, change)) {\n      return change;\n    }\n    var overlap = getWindowOverlap(viewport, change);\n    if (!overlap) {\n      scrollWindow(change);\n      return null;\n    }\n    var whatTheWindowCanScroll = subtract(change, overlap);\n    scrollWindow(whatTheWindowCanScroll);\n    var remainder = subtract(change, whatTheWindowCanScroll);\n    return remainder;\n  };\n  var jumpScroller = function jumpScroller(state) {\n    var request = state.scrollJumpRequest;\n    if (!request) {\n      return;\n    }\n    var destination = whatIsDraggedOver(state.impact);\n    !destination ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot perform a jump scroll when there is no destination') : invariant(false) : void 0;\n    var droppableRemainder = scrollDroppableAsMuchAsItCan(state.dimensions.droppables[destination], request);\n    if (!droppableRemainder) {\n      return;\n    }\n    var viewport = state.viewport;\n    var windowRemainder = scrollWindowAsMuchAsItCan(state.isWindowScrollAllowed, viewport, droppableRemainder);\n    if (!windowRemainder) {\n      return;\n    }\n    moveByOffset(state, windowRemainder);\n  };\n  return jumpScroller;\n};\nvar createAutoScroller = function createAutoScroller(_ref) {\n  var scrollDroppable = _ref.scrollDroppable,\n    scrollWindow = _ref.scrollWindow,\n    move = _ref.move;\n  var fluidScroller = createFluidScroller({\n    scrollWindow: scrollWindow,\n    scrollDroppable: scrollDroppable\n  });\n  var jumpScroll = createJumpScroller({\n    move: move,\n    scrollWindow: scrollWindow,\n    scrollDroppable: scrollDroppable\n  });\n  var scroll = function scroll(state) {\n    if (state.phase !== 'DRAGGING') {\n      return;\n    }\n    if (state.movementMode === 'FLUID') {\n      fluidScroller.scroll(state);\n      return;\n    }\n    if (!state.scrollJumpRequest) {\n      return;\n    }\n    jumpScroll(state);\n  };\n  var scroller = {\n    scroll: scroll,\n    start: fluidScroller.start,\n    stop: fluidScroller.stop\n  };\n  return scroller;\n};\nvar prefix$1 = 'data-rbd';\nvar dragHandle = function () {\n  var base = prefix$1 + \"-drag-handle\";\n  return {\n    base: base,\n    draggableId: base + \"-draggable-id\",\n    contextId: base + \"-context-id\"\n  };\n}();\nvar draggable = function () {\n  var base = prefix$1 + \"-draggable\";\n  return {\n    base: base,\n    contextId: base + \"-context-id\",\n    id: base + \"-id\"\n  };\n}();\nvar droppable = function () {\n  var base = prefix$1 + \"-droppable\";\n  return {\n    base: base,\n    contextId: base + \"-context-id\",\n    id: base + \"-id\"\n  };\n}();\nvar scrollContainer = {\n  contextId: prefix$1 + \"-scroll-container-context-id\"\n};\nvar makeGetSelector = function makeGetSelector(context) {\n  return function (attribute) {\n    return \"[\" + attribute + \"=\\\"\" + context + \"\\\"]\";\n  };\n};\nvar getStyles = function getStyles(rules, property) {\n  return rules.map(function (rule) {\n    var value = rule.styles[property];\n    if (!value) {\n      return '';\n    }\n    return rule.selector + \" { \" + value + \" }\";\n  }).join(' ');\n};\nvar noPointerEvents = 'pointer-events: none;';\nvar getStyles$1 = function getStyles$1(contextId) {\n  var getSelector = makeGetSelector(contextId);\n  var dragHandle$1 = function () {\n    var grabCursor = \"\\n      cursor: -webkit-grab;\\n      cursor: grab;\\n    \";\n    return {\n      selector: getSelector(dragHandle.contextId),\n      styles: {\n        always: \"\\n          -webkit-touch-callout: none;\\n          -webkit-tap-highlight-color: rgba(0,0,0,0);\\n          touch-action: manipulation;\\n        \",\n        resting: grabCursor,\n        dragging: noPointerEvents,\n        dropAnimating: grabCursor\n      }\n    };\n  }();\n  var draggable$1 = function () {\n    var transition = \"\\n      transition: \" + transitions.outOfTheWay + \";\\n    \";\n    return {\n      selector: getSelector(draggable.contextId),\n      styles: {\n        dragging: transition,\n        dropAnimating: transition,\n        userCancel: transition\n      }\n    };\n  }();\n  var droppable$1 = {\n    selector: getSelector(droppable.contextId),\n    styles: {\n      always: \"overflow-anchor: none;\"\n    }\n  };\n  var body = {\n    selector: 'body',\n    styles: {\n      dragging: \"\\n        cursor: grabbing;\\n        cursor: -webkit-grabbing;\\n        user-select: none;\\n        -webkit-user-select: none;\\n        -moz-user-select: none;\\n        -ms-user-select: none;\\n        overflow-anchor: none;\\n      \"\n    }\n  };\n  var rules = [draggable$1, dragHandle$1, droppable$1, body];\n  return {\n    always: getStyles(rules, 'always'),\n    resting: getStyles(rules, 'resting'),\n    dragging: getStyles(rules, 'dragging'),\n    dropAnimating: getStyles(rules, 'dropAnimating'),\n    userCancel: getStyles(rules, 'userCancel')\n  };\n};\nvar useIsomorphicLayoutEffect = typeof window !== 'undefined' && typeof window.document !== 'undefined' && typeof window.document.createElement !== 'undefined' ? useLayoutEffect : useEffect;\nvar getHead = function getHead() {\n  var head = document.querySelector('head');\n  !head ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot find the head to append a style to') : invariant(false) : void 0;\n  return head;\n};\nvar createStyleEl = function createStyleEl(nonce) {\n  var el = document.createElement('style');\n  if (nonce) {\n    el.setAttribute('nonce', nonce);\n  }\n  el.type = 'text/css';\n  return el;\n};\nfunction useStyleMarshal(contextId, nonce) {\n  var styles = useMemo(function () {\n    return getStyles$1(contextId);\n  }, [contextId]);\n  var alwaysRef = useRef(null);\n  var dynamicRef = useRef(null);\n  var setDynamicStyle = useCallback(memoizeOne(function (proposed) {\n    var el = dynamicRef.current;\n    !el ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot set dynamic style element if it is not set') : invariant(false) : void 0;\n    el.textContent = proposed;\n  }), []);\n  var setAlwaysStyle = useCallback(function (proposed) {\n    var el = alwaysRef.current;\n    !el ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot set dynamic style element if it is not set') : invariant(false) : void 0;\n    el.textContent = proposed;\n  }, []);\n  useIsomorphicLayoutEffect(function () {\n    !(!alwaysRef.current && !dynamicRef.current) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'style elements already mounted') : invariant(false) : void 0;\n    var always = createStyleEl(nonce);\n    var dynamic = createStyleEl(nonce);\n    alwaysRef.current = always;\n    dynamicRef.current = dynamic;\n    always.setAttribute(prefix$1 + \"-always\", contextId);\n    dynamic.setAttribute(prefix$1 + \"-dynamic\", contextId);\n    getHead().appendChild(always);\n    getHead().appendChild(dynamic);\n    setAlwaysStyle(styles.always);\n    setDynamicStyle(styles.resting);\n    return function () {\n      var remove = function remove(ref) {\n        var current = ref.current;\n        !current ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot unmount ref as it is not set') : invariant(false) : void 0;\n        getHead().removeChild(current);\n        ref.current = null;\n      };\n      remove(alwaysRef);\n      remove(dynamicRef);\n    };\n  }, [nonce, setAlwaysStyle, setDynamicStyle, styles.always, styles.resting, contextId]);\n  var dragging = useCallback(function () {\n    return setDynamicStyle(styles.dragging);\n  }, [setDynamicStyle, styles.dragging]);\n  var dropping = useCallback(function (reason) {\n    if (reason === 'DROP') {\n      setDynamicStyle(styles.dropAnimating);\n      return;\n    }\n    setDynamicStyle(styles.userCancel);\n  }, [setDynamicStyle, styles.dropAnimating, styles.userCancel]);\n  var resting = useCallback(function () {\n    if (!dynamicRef.current) {\n      return;\n    }\n    setDynamicStyle(styles.resting);\n  }, [setDynamicStyle, styles.resting]);\n  var marshal = useMemo(function () {\n    return {\n      dragging: dragging,\n      dropping: dropping,\n      resting: resting\n    };\n  }, [dragging, dropping, resting]);\n  return marshal;\n}\nvar getWindowFromEl = function getWindowFromEl(el) {\n  return el && el.ownerDocument ? el.ownerDocument.defaultView : window;\n};\nfunction isHtmlElement(el) {\n  return el instanceof getWindowFromEl(el).HTMLElement;\n}\nfunction findDragHandle(contextId, draggableId) {\n  var selector = \"[\" + dragHandle.contextId + \"=\\\"\" + contextId + \"\\\"]\";\n  var possible = toArray(document.querySelectorAll(selector));\n  if (!possible.length) {\n    process.env.NODE_ENV !== \"production\" ? warning(\"Unable to find any drag handles in the context \\\"\" + contextId + \"\\\"\") : void 0;\n    return null;\n  }\n  var handle = find(possible, function (el) {\n    return el.getAttribute(dragHandle.draggableId) === draggableId;\n  });\n  if (!handle) {\n    process.env.NODE_ENV !== \"production\" ? warning(\"Unable to find drag handle with id \\\"\" + draggableId + \"\\\" as no handle with a matching id was found\") : void 0;\n    return null;\n  }\n  if (!isHtmlElement(handle)) {\n    process.env.NODE_ENV !== \"production\" ? warning('drag handle needs to be a HTMLElement') : void 0;\n    return null;\n  }\n  return handle;\n}\nfunction useFocusMarshal(contextId) {\n  var entriesRef = useRef({});\n  var recordRef = useRef(null);\n  var restoreFocusFrameRef = useRef(null);\n  var isMountedRef = useRef(false);\n  var register = useCallback(function register(id, focus) {\n    var entry = {\n      id: id,\n      focus: focus\n    };\n    entriesRef.current[id] = entry;\n    return function unregister() {\n      var entries = entriesRef.current;\n      var current = entries[id];\n      if (current !== entry) {\n        delete entries[id];\n      }\n    };\n  }, []);\n  var tryGiveFocus = useCallback(function tryGiveFocus(tryGiveFocusTo) {\n    var handle = findDragHandle(contextId, tryGiveFocusTo);\n    if (handle && handle !== document.activeElement) {\n      handle.focus();\n    }\n  }, [contextId]);\n  var tryShiftRecord = useCallback(function tryShiftRecord(previous, redirectTo) {\n    if (recordRef.current === previous) {\n      recordRef.current = redirectTo;\n    }\n  }, []);\n  var tryRestoreFocusRecorded = useCallback(function tryRestoreFocusRecorded() {\n    if (restoreFocusFrameRef.current) {\n      return;\n    }\n    if (!isMountedRef.current) {\n      return;\n    }\n    restoreFocusFrameRef.current = requestAnimationFrame(function () {\n      restoreFocusFrameRef.current = null;\n      var record = recordRef.current;\n      if (record) {\n        tryGiveFocus(record);\n      }\n    });\n  }, [tryGiveFocus]);\n  var tryRecordFocus = useCallback(function tryRecordFocus(id) {\n    recordRef.current = null;\n    var focused = document.activeElement;\n    if (!focused) {\n      return;\n    }\n    if (focused.getAttribute(dragHandle.draggableId) !== id) {\n      return;\n    }\n    recordRef.current = id;\n  }, []);\n  useIsomorphicLayoutEffect(function () {\n    isMountedRef.current = true;\n    return function clearFrameOnUnmount() {\n      isMountedRef.current = false;\n      var frameId = restoreFocusFrameRef.current;\n      if (frameId) {\n        cancelAnimationFrame(frameId);\n      }\n    };\n  }, []);\n  var marshal = useMemo(function () {\n    return {\n      register: register,\n      tryRecordFocus: tryRecordFocus,\n      tryRestoreFocusRecorded: tryRestoreFocusRecorded,\n      tryShiftRecord: tryShiftRecord\n    };\n  }, [register, tryRecordFocus, tryRestoreFocusRecorded, tryShiftRecord]);\n  return marshal;\n}\nfunction createRegistry() {\n  var entries = {\n    draggables: {},\n    droppables: {}\n  };\n  var subscribers = [];\n  function subscribe(cb) {\n    subscribers.push(cb);\n    return function unsubscribe() {\n      var index = subscribers.indexOf(cb);\n      if (index === -1) {\n        return;\n      }\n      subscribers.splice(index, 1);\n    };\n  }\n  function notify(event) {\n    if (subscribers.length) {\n      subscribers.forEach(function (cb) {\n        return cb(event);\n      });\n    }\n  }\n  function findDraggableById(id) {\n    return entries.draggables[id] || null;\n  }\n  function getDraggableById(id) {\n    var entry = findDraggableById(id);\n    !entry ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot find draggable entry with id [\" + id + \"]\") : invariant(false) : void 0;\n    return entry;\n  }\n  var draggableAPI = {\n    register: function register(entry) {\n      entries.draggables[entry.descriptor.id] = entry;\n      notify({\n        type: 'ADDITION',\n        value: entry\n      });\n    },\n    update: function update(entry, last) {\n      var current = entries.draggables[last.descriptor.id];\n      if (!current) {\n        return;\n      }\n      if (current.uniqueId !== entry.uniqueId) {\n        return;\n      }\n      delete entries.draggables[last.descriptor.id];\n      entries.draggables[entry.descriptor.id] = entry;\n    },\n    unregister: function unregister(entry) {\n      var draggableId = entry.descriptor.id;\n      var current = findDraggableById(draggableId);\n      if (!current) {\n        return;\n      }\n      if (entry.uniqueId !== current.uniqueId) {\n        return;\n      }\n      delete entries.draggables[draggableId];\n      notify({\n        type: 'REMOVAL',\n        value: entry\n      });\n    },\n    getById: getDraggableById,\n    findById: findDraggableById,\n    exists: function exists(id) {\n      return Boolean(findDraggableById(id));\n    },\n    getAllByType: function getAllByType(type) {\n      return values(entries.draggables).filter(function (entry) {\n        return entry.descriptor.type === type;\n      });\n    }\n  };\n  function findDroppableById(id) {\n    return entries.droppables[id] || null;\n  }\n  function getDroppableById(id) {\n    var entry = findDroppableById(id);\n    !entry ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot find droppable entry with id [\" + id + \"]\") : invariant(false) : void 0;\n    return entry;\n  }\n  var droppableAPI = {\n    register: function register(entry) {\n      entries.droppables[entry.descriptor.id] = entry;\n    },\n    unregister: function unregister(entry) {\n      var current = findDroppableById(entry.descriptor.id);\n      if (!current) {\n        return;\n      }\n      if (entry.uniqueId !== current.uniqueId) {\n        return;\n      }\n      delete entries.droppables[entry.descriptor.id];\n    },\n    getById: getDroppableById,\n    findById: findDroppableById,\n    exists: function exists(id) {\n      return Boolean(findDroppableById(id));\n    },\n    getAllByType: function getAllByType(type) {\n      return values(entries.droppables).filter(function (entry) {\n        return entry.descriptor.type === type;\n      });\n    }\n  };\n  function clean() {\n    entries.draggables = {};\n    entries.droppables = {};\n    subscribers.length = 0;\n  }\n  return {\n    draggable: draggableAPI,\n    droppable: droppableAPI,\n    subscribe: subscribe,\n    clean: clean\n  };\n}\nfunction useRegistry() {\n  var registry = useMemo(createRegistry, []);\n  useEffect(function () {\n    return function unmount() {\n      requestAnimationFrame(registry.clean);\n    };\n  }, [registry]);\n  return registry;\n}\nvar StoreContext = React.createContext(null);\nvar getBodyElement = function getBodyElement() {\n  var body = document.body;\n  !body ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot find document.body') : invariant(false) : void 0;\n  return body;\n};\nvar visuallyHidden = {\n  position: 'absolute',\n  width: '1px',\n  height: '1px',\n  margin: '-1px',\n  border: '0',\n  padding: '0',\n  overflow: 'hidden',\n  clip: 'rect(0 0 0 0)',\n  'clip-path': 'inset(100%)'\n};\nvar getId = function getId(contextId) {\n  return \"rbd-announcement-\" + contextId;\n};\nfunction useAnnouncer(contextId) {\n  var id = useMemo(function () {\n    return getId(contextId);\n  }, [contextId]);\n  var ref = useRef(null);\n  useEffect(function setup() {\n    var el = document.createElement('div');\n    ref.current = el;\n    el.id = id;\n    el.setAttribute('aria-live', 'assertive');\n    el.setAttribute('role', 'log');\n    el.setAttribute('aria-atomic', 'true');\n    _Object$assign(el.style, visuallyHidden);\n    getBodyElement().appendChild(el);\n    return function cleanup() {\n      setTimeout(function remove() {\n        getBodyElement().removeChild(el);\n        if (el === ref.current) {\n          ref.current = null;\n        }\n      });\n    };\n  }, [id]);\n  var announce = useCallback(function (message) {\n    var el = ref.current;\n    if (el) {\n      el.textContent = message;\n      return;\n    }\n    process.env.NODE_ENV !== \"production\" ? warning(\"\\n      A screen reader message was trying to be announced but it was unable to do so.\\n      This can occur if you unmount your <DragDropContext /> in your onDragEnd.\\n      Consider calling provided.announce() before the unmount so that the instruction will\\n      not be lost for users relying on a screen reader.\\n\\n      Message not passed to screen reader:\\n\\n      \\\"\" + message + \"\\\"\\n    \") : void 0;\n  }, []);\n  return announce;\n}\nvar getId$1 = function getId(contextId) {\n  return \"rbd-lift-instruction-\" + contextId;\n};\nfunction useLiftInstruction(contextId, liftInstruction) {\n  var id = useMemo(function () {\n    return getId$1(contextId);\n  }, [contextId]);\n  useEffect(function mount() {\n    var el = document.createElement('div');\n    el.id = id;\n    el.textContent = liftInstruction;\n    _Object$assign(el.style, {\n      display: 'none'\n    });\n    getBodyElement().appendChild(el);\n    return function unmount() {\n      getBodyElement().removeChild(el);\n    };\n  }, [id, liftInstruction]);\n  return id;\n}\nvar AppContext = React.createContext(null);\nvar peerDependencies = {\n  react: \"^16.8.5\",\n  \"react-dom\": \"^16.8.5\"\n};\nvar semver = /(\\d+)\\.(\\d+)\\.(\\d+)/;\nvar getVersion = function getVersion(value) {\n  var result = semver.exec(value);\n  !(result != null) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Unable to parse React version \" + value) : invariant(false) : void 0;\n  var major = Number(result[1]);\n  var minor = Number(result[2]);\n  var patch = Number(result[3]);\n  return {\n    major: major,\n    minor: minor,\n    patch: patch,\n    raw: value\n  };\n};\nvar isSatisfied = function isSatisfied(expected, actual) {\n  if (actual.major > expected.major) {\n    return true;\n  }\n  if (actual.major < expected.major) {\n    return false;\n  }\n  if (actual.minor > expected.minor) {\n    return true;\n  }\n  if (actual.minor < expected.minor) {\n    return false;\n  }\n  return actual.patch >= expected.patch;\n};\nvar checkReactVersion = function checkReactVersion(peerDepValue, actualValue) {\n  var peerDep = getVersion(peerDepValue);\n  var actual = getVersion(actualValue);\n  if (isSatisfied(peerDep, actual)) {\n    return;\n  }\n  process.env.NODE_ENV !== \"production\" ? warning(\"\\n    React version: [\" + actual.raw + \"]\\n    does not satisfy expected peer dependency version: [\" + peerDep.raw + \"]\\n\\n    This can result in run time bugs, and even fatal crashes\\n  \") : void 0;\n};\nvar suffix = \"\\n  We expect a html5 doctype: <!doctype html>\\n  This is to ensure consistent browser layout and measurement\\n\\n  More information: https://github.com/atlassian/react-beautiful-dnd/blob/master/docs/guides/doctype.md\\n\";\nvar checkDoctype = function checkDoctype(doc) {\n  var doctype = doc.doctype;\n  if (!doctype) {\n    process.env.NODE_ENV !== \"production\" ? warning(\"\\n      No <!doctype html> found.\\n\\n      \" + suffix + \"\\n    \") : void 0;\n    return;\n  }\n  if (doctype.name.toLowerCase() !== 'html') {\n    process.env.NODE_ENV !== \"production\" ? warning(\"\\n      Unexpected <!doctype> found: (\" + doctype.name + \")\\n\\n      \" + suffix + \"\\n    \") : void 0;\n  }\n  if (doctype.publicId !== '') {\n    process.env.NODE_ENV !== \"production\" ? warning(\"\\n      Unexpected <!doctype> publicId found: (\" + doctype.publicId + \")\\n      A html5 doctype does not have a publicId\\n\\n      \" + suffix + \"\\n    \") : void 0;\n  }\n};\nfunction useDev(useHook) {\n  if (process.env.NODE_ENV !== 'production') {\n    useHook();\n  }\n}\nfunction useDevSetupWarning(fn, inputs) {\n  useDev(function () {\n    useEffect(function () {\n      try {\n        fn();\n      } catch (e) {\n        error(\"\\n          A setup problem was encountered.\\n\\n          > \" + e.message + \"\\n        \");\n      }\n    }, inputs);\n  });\n}\nfunction useStartupValidation() {\n  useDevSetupWarning(function () {\n    checkReactVersion(peerDependencies.react, React.version);\n    checkDoctype(document);\n  }, []);\n}\nfunction usePrevious(current) {\n  var ref = useRef(current);\n  useEffect(function () {\n    ref.current = current;\n  });\n  return ref;\n}\nfunction create() {\n  var lock = null;\n  function isClaimed() {\n    return Boolean(lock);\n  }\n  function isActive(value) {\n    return value === lock;\n  }\n  function claim(abandon) {\n    !!lock ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot claim lock as it is already claimed') : invariant(false) : void 0;\n    var newLock = {\n      abandon: abandon\n    };\n    lock = newLock;\n    return newLock;\n  }\n  function release() {\n    !lock ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot release lock when there is no lock') : invariant(false) : void 0;\n    lock = null;\n  }\n  function tryAbandon() {\n    if (lock) {\n      lock.abandon();\n      release();\n    }\n  }\n  return {\n    isClaimed: isClaimed,\n    isActive: isActive,\n    claim: claim,\n    release: release,\n    tryAbandon: tryAbandon\n  };\n}\nvar tab = 9;\nvar enter = 13;\nvar escape = 27;\nvar space = 32;\nvar pageUp = 33;\nvar pageDown = 34;\nvar end = 35;\nvar home = 36;\nvar arrowLeft = 37;\nvar arrowUp = 38;\nvar arrowRight = 39;\nvar arrowDown = 40;\nvar _preventedKeys;\nvar preventedKeys = (_preventedKeys = {}, _preventedKeys[enter] = true, _preventedKeys[tab] = true, _preventedKeys);\nvar preventStandardKeyEvents = function preventStandardKeyEvents(event) {\n  if (preventedKeys[event.keyCode]) {\n    event.preventDefault();\n  }\n};\nvar supportedEventName = function () {\n  var base = 'visibilitychange';\n  if (typeof document === 'undefined') {\n    return base;\n  }\n  var candidates = [base, \"ms\" + base, \"webkit\" + base, \"moz\" + base, \"o\" + base];\n  var supported = find(candidates, function (eventName) {\n    return \"on\" + eventName in document;\n  });\n  return supported || base;\n}();\nvar primaryButton = 0;\nvar sloppyClickThreshold = 5;\nfunction isSloppyClickThresholdExceeded(original, current) {\n  return Math.abs(current.x - original.x) >= sloppyClickThreshold || Math.abs(current.y - original.y) >= sloppyClickThreshold;\n}\nvar idle$1 = {\n  type: 'IDLE'\n};\nfunction getCaptureBindings(_ref) {\n  var cancel = _ref.cancel,\n    completed = _ref.completed,\n    getPhase = _ref.getPhase,\n    setPhase = _ref.setPhase;\n  return [{\n    eventName: 'mousemove',\n    fn: function fn(event) {\n      var button = event.button,\n        clientX = event.clientX,\n        clientY = event.clientY;\n      if (button !== primaryButton) {\n        return;\n      }\n      var point = {\n        x: clientX,\n        y: clientY\n      };\n      var phase = getPhase();\n      if (phase.type === 'DRAGGING') {\n        event.preventDefault();\n        phase.actions.move(point);\n        return;\n      }\n      !(phase.type === 'PENDING') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot be IDLE') : invariant(false) : void 0;\n      var pending = phase.point;\n      if (!isSloppyClickThresholdExceeded(pending, point)) {\n        return;\n      }\n      event.preventDefault();\n      var actions = phase.actions.fluidLift(point);\n      setPhase({\n        type: 'DRAGGING',\n        actions: actions\n      });\n    }\n  }, {\n    eventName: 'mouseup',\n    fn: function fn(event) {\n      var phase = getPhase();\n      if (phase.type !== 'DRAGGING') {\n        cancel();\n        return;\n      }\n      event.preventDefault();\n      phase.actions.drop({\n        shouldBlockNextClick: true\n      });\n      completed();\n    }\n  }, {\n    eventName: 'mousedown',\n    fn: function fn(event) {\n      if (getPhase().type === 'DRAGGING') {\n        event.preventDefault();\n      }\n      cancel();\n    }\n  }, {\n    eventName: 'keydown',\n    fn: function fn(event) {\n      var phase = getPhase();\n      if (phase.type === 'PENDING') {\n        cancel();\n        return;\n      }\n      if (event.keyCode === escape) {\n        event.preventDefault();\n        cancel();\n        return;\n      }\n      preventStandardKeyEvents(event);\n    }\n  }, {\n    eventName: 'resize',\n    fn: cancel\n  }, {\n    eventName: 'scroll',\n    options: {\n      passive: true,\n      capture: false\n    },\n    fn: function fn() {\n      if (getPhase().type === 'PENDING') {\n        cancel();\n      }\n    }\n  }, {\n    eventName: 'webkitmouseforcedown',\n    fn: function fn(event) {\n      var phase = getPhase();\n      !(phase.type !== 'IDLE') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Unexpected phase') : invariant(false) : void 0;\n      if (phase.actions.shouldRespectForcePress()) {\n        cancel();\n        return;\n      }\n      event.preventDefault();\n    }\n  }, {\n    eventName: supportedEventName,\n    fn: cancel\n  }];\n}\nfunction useMouseSensor(api) {\n  var phaseRef = useRef(idle$1);\n  var unbindEventsRef = useRef(noop);\n  var startCaptureBinding = useMemo(function () {\n    return {\n      eventName: 'mousedown',\n      fn: function onMouseDown(event) {\n        if (event.defaultPrevented) {\n          return;\n        }\n        if (event.button !== primaryButton) {\n          return;\n        }\n        if (event.ctrlKey || event.metaKey || event.shiftKey || event.altKey) {\n          return;\n        }\n        var draggableId = api.findClosestDraggableId(event);\n        if (!draggableId) {\n          return;\n        }\n        var actions = api.tryGetLock(draggableId, stop, {\n          sourceEvent: event\n        });\n        if (!actions) {\n          return;\n        }\n        event.preventDefault();\n        var point = {\n          x: event.clientX,\n          y: event.clientY\n        };\n        unbindEventsRef.current();\n        startPendingDrag(actions, point);\n      }\n    };\n  }, [api]);\n  var preventForcePressBinding = useMemo(function () {\n    return {\n      eventName: 'webkitmouseforcewillbegin',\n      fn: function fn(event) {\n        if (event.defaultPrevented) {\n          return;\n        }\n        var id = api.findClosestDraggableId(event);\n        if (!id) {\n          return;\n        }\n        var options = api.findOptionsForDraggable(id);\n        if (!options) {\n          return;\n        }\n        if (options.shouldRespectForcePress) {\n          return;\n        }\n        if (!api.canGetLock(id)) {\n          return;\n        }\n        event.preventDefault();\n      }\n    };\n  }, [api]);\n  var listenForCapture = useCallback(function listenForCapture() {\n    var options = {\n      passive: false,\n      capture: true\n    };\n    unbindEventsRef.current = bindEvents(window, [preventForcePressBinding, startCaptureBinding], options);\n  }, [preventForcePressBinding, startCaptureBinding]);\n  var stop = useCallback(function () {\n    var current = phaseRef.current;\n    if (current.type === 'IDLE') {\n      return;\n    }\n    phaseRef.current = idle$1;\n    unbindEventsRef.current();\n    listenForCapture();\n  }, [listenForCapture]);\n  var cancel = useCallback(function () {\n    var phase = phaseRef.current;\n    stop();\n    if (phase.type === 'DRAGGING') {\n      phase.actions.cancel({\n        shouldBlockNextClick: true\n      });\n    }\n    if (phase.type === 'PENDING') {\n      phase.actions.abort();\n    }\n  }, [stop]);\n  var bindCapturingEvents = useCallback(function bindCapturingEvents() {\n    var options = {\n      capture: true,\n      passive: false\n    };\n    var bindings = getCaptureBindings({\n      cancel: cancel,\n      completed: stop,\n      getPhase: function getPhase() {\n        return phaseRef.current;\n      },\n      setPhase: function setPhase(phase) {\n        phaseRef.current = phase;\n      }\n    });\n    unbindEventsRef.current = bindEvents(window, bindings, options);\n  }, [cancel, stop]);\n  var startPendingDrag = useCallback(function startPendingDrag(actions, point) {\n    !(phaseRef.current.type === 'IDLE') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Expected to move from IDLE to PENDING drag') : invariant(false) : void 0;\n    phaseRef.current = {\n      type: 'PENDING',\n      point: point,\n      actions: actions\n    };\n    bindCapturingEvents();\n  }, [bindCapturingEvents]);\n  useIsomorphicLayoutEffect(function mount() {\n    listenForCapture();\n    return function unmount() {\n      unbindEventsRef.current();\n    };\n  }, [listenForCapture]);\n}\nvar _scrollJumpKeys;\nfunction noop$1() {}\nvar scrollJumpKeys = (_scrollJumpKeys = {}, _scrollJumpKeys[pageDown] = true, _scrollJumpKeys[pageUp] = true, _scrollJumpKeys[home] = true, _scrollJumpKeys[end] = true, _scrollJumpKeys);\nfunction getDraggingBindings(actions, stop) {\n  function cancel() {\n    stop();\n    actions.cancel();\n  }\n  function drop() {\n    stop();\n    actions.drop();\n  }\n  return [{\n    eventName: 'keydown',\n    fn: function fn(event) {\n      if (event.keyCode === escape) {\n        event.preventDefault();\n        cancel();\n        return;\n      }\n      if (event.keyCode === space) {\n        event.preventDefault();\n        drop();\n        return;\n      }\n      if (event.keyCode === arrowDown) {\n        event.preventDefault();\n        actions.moveDown();\n        return;\n      }\n      if (event.keyCode === arrowUp) {\n        event.preventDefault();\n        actions.moveUp();\n        return;\n      }\n      if (event.keyCode === arrowRight) {\n        event.preventDefault();\n        actions.moveRight();\n        return;\n      }\n      if (event.keyCode === arrowLeft) {\n        event.preventDefault();\n        actions.moveLeft();\n        return;\n      }\n      if (scrollJumpKeys[event.keyCode]) {\n        event.preventDefault();\n        return;\n      }\n      preventStandardKeyEvents(event);\n    }\n  }, {\n    eventName: 'mousedown',\n    fn: cancel\n  }, {\n    eventName: 'mouseup',\n    fn: cancel\n  }, {\n    eventName: 'click',\n    fn: cancel\n  }, {\n    eventName: 'touchstart',\n    fn: cancel\n  }, {\n    eventName: 'resize',\n    fn: cancel\n  }, {\n    eventName: 'wheel',\n    fn: cancel,\n    options: {\n      passive: true\n    }\n  }, {\n    eventName: supportedEventName,\n    fn: cancel\n  }];\n}\nfunction useKeyboardSensor(api) {\n  var unbindEventsRef = useRef(noop$1);\n  var startCaptureBinding = useMemo(function () {\n    return {\n      eventName: 'keydown',\n      fn: function onKeyDown(event) {\n        if (event.defaultPrevented) {\n          return;\n        }\n        if (event.keyCode !== space) {\n          return;\n        }\n        var draggableId = api.findClosestDraggableId(event);\n        if (!draggableId) {\n          return;\n        }\n        var preDrag = api.tryGetLock(draggableId, stop, {\n          sourceEvent: event\n        });\n        if (!preDrag) {\n          return;\n        }\n        event.preventDefault();\n        var isCapturing = true;\n        var actions = preDrag.snapLift();\n        unbindEventsRef.current();\n        function stop() {\n          !isCapturing ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot stop capturing a keyboard drag when not capturing') : invariant(false) : void 0;\n          isCapturing = false;\n          unbindEventsRef.current();\n          listenForCapture();\n        }\n        unbindEventsRef.current = bindEvents(window, getDraggingBindings(actions, stop), {\n          capture: true,\n          passive: false\n        });\n      }\n    };\n  }, [api]);\n  var listenForCapture = useCallback(function tryStartCapture() {\n    var options = {\n      passive: false,\n      capture: true\n    };\n    unbindEventsRef.current = bindEvents(window, [startCaptureBinding], options);\n  }, [startCaptureBinding]);\n  useIsomorphicLayoutEffect(function mount() {\n    listenForCapture();\n    return function unmount() {\n      unbindEventsRef.current();\n    };\n  }, [listenForCapture]);\n}\nvar idle$2 = {\n  type: 'IDLE'\n};\nvar timeForLongPress = 120;\nvar forcePressThreshold = 0.15;\nfunction getWindowBindings(_ref) {\n  var cancel = _ref.cancel,\n    getPhase = _ref.getPhase;\n  return [{\n    eventName: 'orientationchange',\n    fn: cancel\n  }, {\n    eventName: 'resize',\n    fn: cancel\n  }, {\n    eventName: 'contextmenu',\n    fn: function fn(event) {\n      event.preventDefault();\n    }\n  }, {\n    eventName: 'keydown',\n    fn: function fn(event) {\n      if (getPhase().type !== 'DRAGGING') {\n        cancel();\n        return;\n      }\n      if (event.keyCode === escape) {\n        event.preventDefault();\n      }\n      cancel();\n    }\n  }, {\n    eventName: supportedEventName,\n    fn: cancel\n  }];\n}\nfunction getHandleBindings(_ref2) {\n  var cancel = _ref2.cancel,\n    completed = _ref2.completed,\n    getPhase = _ref2.getPhase;\n  return [{\n    eventName: 'touchmove',\n    options: {\n      capture: false\n    },\n    fn: function fn(event) {\n      var phase = getPhase();\n      if (phase.type !== 'DRAGGING') {\n        cancel();\n        return;\n      }\n      phase.hasMoved = true;\n      var _event$touches$ = event.touches[0],\n        clientX = _event$touches$.clientX,\n        clientY = _event$touches$.clientY;\n      var point = {\n        x: clientX,\n        y: clientY\n      };\n      event.preventDefault();\n      phase.actions.move(point);\n    }\n  }, {\n    eventName: 'touchend',\n    fn: function fn(event) {\n      var phase = getPhase();\n      if (phase.type !== 'DRAGGING') {\n        cancel();\n        return;\n      }\n      event.preventDefault();\n      phase.actions.drop({\n        shouldBlockNextClick: true\n      });\n      completed();\n    }\n  }, {\n    eventName: 'touchcancel',\n    fn: function fn(event) {\n      if (getPhase().type !== 'DRAGGING') {\n        cancel();\n        return;\n      }\n      event.preventDefault();\n      cancel();\n    }\n  }, {\n    eventName: 'touchforcechange',\n    fn: function fn(event) {\n      var phase = getPhase();\n      !(phase.type !== 'IDLE') ? process.env.NODE_ENV !== \"production\" ? invariant(false) : invariant(false) : void 0;\n      var touch = event.touches[0];\n      if (!touch) {\n        return;\n      }\n      var isForcePress = touch.force >= forcePressThreshold;\n      if (!isForcePress) {\n        return;\n      }\n      var shouldRespect = phase.actions.shouldRespectForcePress();\n      if (phase.type === 'PENDING') {\n        if (shouldRespect) {\n          cancel();\n        }\n        return;\n      }\n      if (shouldRespect) {\n        if (phase.hasMoved) {\n          event.preventDefault();\n          return;\n        }\n        cancel();\n        return;\n      }\n      event.preventDefault();\n    }\n  }, {\n    eventName: supportedEventName,\n    fn: cancel\n  }];\n}\nfunction useMouseSensor$1(api) {\n  var phaseRef = useRef(idle$2);\n  var unbindEventsRef = useRef(noop);\n  var getPhase = useCallback(function getPhase() {\n    return phaseRef.current;\n  }, []);\n  var setPhase = useCallback(function setPhase(phase) {\n    phaseRef.current = phase;\n  }, []);\n  var startCaptureBinding = useMemo(function () {\n    return {\n      eventName: 'touchstart',\n      fn: function onTouchStart(event) {\n        if (event.defaultPrevented) {\n          return;\n        }\n        var draggableId = api.findClosestDraggableId(event);\n        if (!draggableId) {\n          return;\n        }\n        var actions = api.tryGetLock(draggableId, stop, {\n          sourceEvent: event\n        });\n        if (!actions) {\n          return;\n        }\n        var touch = event.touches[0];\n        var clientX = touch.clientX,\n          clientY = touch.clientY;\n        var point = {\n          x: clientX,\n          y: clientY\n        };\n        unbindEventsRef.current();\n        startPendingDrag(actions, point);\n      }\n    };\n  }, [api]);\n  var listenForCapture = useCallback(function listenForCapture() {\n    var options = {\n      capture: true,\n      passive: false\n    };\n    unbindEventsRef.current = bindEvents(window, [startCaptureBinding], options);\n  }, [startCaptureBinding]);\n  var stop = useCallback(function () {\n    var current = phaseRef.current;\n    if (current.type === 'IDLE') {\n      return;\n    }\n    if (current.type === 'PENDING') {\n      clearTimeout(current.longPressTimerId);\n    }\n    setPhase(idle$2);\n    unbindEventsRef.current();\n    listenForCapture();\n  }, [listenForCapture, setPhase]);\n  var cancel = useCallback(function () {\n    var phase = phaseRef.current;\n    stop();\n    if (phase.type === 'DRAGGING') {\n      phase.actions.cancel({\n        shouldBlockNextClick: true\n      });\n    }\n    if (phase.type === 'PENDING') {\n      phase.actions.abort();\n    }\n  }, [stop]);\n  var bindCapturingEvents = useCallback(function bindCapturingEvents() {\n    var options = {\n      capture: true,\n      passive: false\n    };\n    var args = {\n      cancel: cancel,\n      completed: stop,\n      getPhase: getPhase\n    };\n    var unbindTarget = bindEvents(window, getHandleBindings(args), options);\n    var unbindWindow = bindEvents(window, getWindowBindings(args), options);\n    unbindEventsRef.current = function unbindAll() {\n      unbindTarget();\n      unbindWindow();\n    };\n  }, [cancel, getPhase, stop]);\n  var startDragging = useCallback(function startDragging() {\n    var phase = getPhase();\n    !(phase.type === 'PENDING') ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot start dragging from phase \" + phase.type) : invariant(false) : void 0;\n    var actions = phase.actions.fluidLift(phase.point);\n    setPhase({\n      type: 'DRAGGING',\n      actions: actions,\n      hasMoved: false\n    });\n  }, [getPhase, setPhase]);\n  var startPendingDrag = useCallback(function startPendingDrag(actions, point) {\n    !(getPhase().type === 'IDLE') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Expected to move from IDLE to PENDING drag') : invariant(false) : void 0;\n    var longPressTimerId = setTimeout(startDragging, timeForLongPress);\n    setPhase({\n      type: 'PENDING',\n      point: point,\n      actions: actions,\n      longPressTimerId: longPressTimerId\n    });\n    bindCapturingEvents();\n  }, [bindCapturingEvents, getPhase, setPhase, startDragging]);\n  useIsomorphicLayoutEffect(function mount() {\n    listenForCapture();\n    return function unmount() {\n      unbindEventsRef.current();\n      var phase = getPhase();\n      if (phase.type === 'PENDING') {\n        clearTimeout(phase.longPressTimerId);\n        setPhase(idle$2);\n      }\n    };\n  }, [getPhase, listenForCapture, setPhase]);\n  useIsomorphicLayoutEffect(function webkitHack() {\n    var unbind = bindEvents(window, [{\n      eventName: 'touchmove',\n      fn: function fn() {},\n      options: {\n        capture: false,\n        passive: false\n      }\n    }]);\n    return unbind;\n  }, []);\n}\nfunction useValidateSensorHooks(sensorHooks) {\n  useDev(function () {\n    var previousRef = usePrevious(sensorHooks);\n    useDevSetupWarning(function () {\n      !(previousRef.current.length === sensorHooks.length) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot change the amount of sensor hooks after mounting') : invariant(false) : void 0;\n    });\n  });\n}\nvar interactiveTagNames = {\n  input: true,\n  button: true,\n  textarea: true,\n  select: true,\n  option: true,\n  optgroup: true,\n  video: true,\n  audio: true\n};\nfunction isAnInteractiveElement(parent, current) {\n  if (current == null) {\n    return false;\n  }\n  var hasAnInteractiveTag = Boolean(interactiveTagNames[current.tagName.toLowerCase()]);\n  if (hasAnInteractiveTag) {\n    return true;\n  }\n  var attribute = current.getAttribute('contenteditable');\n  if (attribute === 'true' || attribute === '') {\n    return true;\n  }\n  if (current === parent) {\n    return false;\n  }\n  return isAnInteractiveElement(parent, current.parentElement);\n}\nfunction isEventInInteractiveElement(draggable, event) {\n  var target = event.target;\n  if (!isHtmlElement(target)) {\n    return false;\n  }\n  return isAnInteractiveElement(draggable, target);\n}\nvar getBorderBoxCenterPosition = function getBorderBoxCenterPosition(el) {\n  return getRect(el.getBoundingClientRect()).center;\n};\nfunction isElement(el) {\n  return el instanceof getWindowFromEl(el).Element;\n}\nvar supportedMatchesName = function () {\n  var base = 'matches';\n  if (typeof document === 'undefined') {\n    return base;\n  }\n  var candidates = [base, 'msMatchesSelector', 'webkitMatchesSelector'];\n  var value = find(candidates, function (name) {\n    return name in Element.prototype;\n  });\n  return value || base;\n}();\nfunction closestPonyfill(el, selector) {\n  if (el == null) {\n    return null;\n  }\n  if (el[supportedMatchesName](selector)) {\n    return el;\n  }\n  return closestPonyfill(el.parentElement, selector);\n}\nfunction closest$1(el, selector) {\n  if (el.closest) {\n    return el.closest(selector);\n  }\n  return closestPonyfill(el, selector);\n}\nfunction getSelector(contextId) {\n  return \"[\" + dragHandle.contextId + \"=\\\"\" + contextId + \"\\\"]\";\n}\nfunction findClosestDragHandleFromEvent(contextId, event) {\n  var target = event.target;\n  if (!isElement(target)) {\n    process.env.NODE_ENV !== \"production\" ? warning('event.target must be a Element') : void 0;\n    return null;\n  }\n  var selector = getSelector(contextId);\n  var handle = closest$1(target, selector);\n  if (!handle) {\n    return null;\n  }\n  if (!isHtmlElement(handle)) {\n    process.env.NODE_ENV !== \"production\" ? warning('drag handle must be a HTMLElement') : void 0;\n    return null;\n  }\n  return handle;\n}\nfunction tryGetClosestDraggableIdFromEvent(contextId, event) {\n  var handle = findClosestDragHandleFromEvent(contextId, event);\n  if (!handle) {\n    return null;\n  }\n  return handle.getAttribute(dragHandle.draggableId);\n}\nfunction findDraggable(contextId, draggableId) {\n  var selector = \"[\" + draggable.contextId + \"=\\\"\" + contextId + \"\\\"]\";\n  var possible = toArray(document.querySelectorAll(selector));\n  var draggable$1 = find(possible, function (el) {\n    return el.getAttribute(draggable.id) === draggableId;\n  });\n  if (!draggable$1) {\n    return null;\n  }\n  if (!isHtmlElement(draggable$1)) {\n    process.env.NODE_ENV !== \"production\" ? warning('Draggable element is not a HTMLElement') : void 0;\n    return null;\n  }\n  return draggable$1;\n}\nfunction preventDefault(event) {\n  event.preventDefault();\n}\nfunction _isActive(_ref) {\n  var expected = _ref.expected,\n    phase = _ref.phase,\n    isLockActive = _ref.isLockActive,\n    shouldWarn = _ref.shouldWarn;\n  if (!isLockActive()) {\n    if (shouldWarn) {\n      process.env.NODE_ENV !== \"production\" ? warning(\"\\n        Cannot perform action.\\n        The sensor no longer has an action lock.\\n\\n        Tips:\\n\\n        - Throw away your action handlers when forceStop() is called\\n        - Check actions.isActive() if you really need to\\n      \") : void 0;\n    }\n    return false;\n  }\n  if (expected !== phase) {\n    if (shouldWarn) {\n      process.env.NODE_ENV !== \"production\" ? warning(\"\\n        Cannot perform action.\\n        The actions you used belong to an outdated phase\\n\\n        Current phase: \" + expected + \"\\n        You called an action from outdated phase: \" + phase + \"\\n\\n        Tips:\\n\\n        - Do not use preDragActions actions after calling preDragActions.lift()\\n      \") : void 0;\n    }\n    return false;\n  }\n  return true;\n}\nfunction canStart(_ref2) {\n  var lockAPI = _ref2.lockAPI,\n    store = _ref2.store,\n    registry = _ref2.registry,\n    draggableId = _ref2.draggableId;\n  if (lockAPI.isClaimed()) {\n    return false;\n  }\n  var entry = registry.draggable.findById(draggableId);\n  if (!entry) {\n    process.env.NODE_ENV !== \"production\" ? warning(\"Unable to find draggable with id: \" + draggableId) : void 0;\n    return false;\n  }\n  if (!entry.options.isEnabled) {\n    return false;\n  }\n  if (!canStartDrag(store.getState(), draggableId)) {\n    return false;\n  }\n  return true;\n}\nfunction tryStart(_ref3) {\n  var lockAPI = _ref3.lockAPI,\n    contextId = _ref3.contextId,\n    store = _ref3.store,\n    registry = _ref3.registry,\n    draggableId = _ref3.draggableId,\n    forceSensorStop = _ref3.forceSensorStop,\n    sourceEvent = _ref3.sourceEvent;\n  var shouldStart = canStart({\n    lockAPI: lockAPI,\n    store: store,\n    registry: registry,\n    draggableId: draggableId\n  });\n  if (!shouldStart) {\n    return null;\n  }\n  var entry = registry.draggable.getById(draggableId);\n  var el = findDraggable(contextId, entry.descriptor.id);\n  if (!el) {\n    process.env.NODE_ENV !== \"production\" ? warning(\"Unable to find draggable element with id: \" + draggableId) : void 0;\n    return null;\n  }\n  if (sourceEvent && !entry.options.canDragInteractiveElements && isEventInInteractiveElement(el, sourceEvent)) {\n    return null;\n  }\n  var lock = lockAPI.claim(forceSensorStop || noop);\n  var phase = 'PRE_DRAG';\n  function getShouldRespectForcePress() {\n    return entry.options.shouldRespectForcePress;\n  }\n  function isLockActive() {\n    return lockAPI.isActive(lock);\n  }\n  function tryDispatch(expected, getAction) {\n    if (_isActive({\n      expected: expected,\n      phase: phase,\n      isLockActive: isLockActive,\n      shouldWarn: true\n    })) {\n      store.dispatch(getAction());\n    }\n  }\n  var tryDispatchWhenDragging = tryDispatch.bind(this, 'DRAGGING');\n  function lift$1(args) {\n    function completed() {\n      lockAPI.release();\n      phase = 'COMPLETED';\n    }\n    if (phase !== 'PRE_DRAG') {\n      completed();\n      !(phase === 'PRE_DRAG') ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot lift in phase \" + phase) : invariant(false) : void 0;\n    }\n    store.dispatch(lift(args.liftActionArgs));\n    phase = 'DRAGGING';\n    function finish(reason, options) {\n      if (options === void 0) {\n        options = {\n          shouldBlockNextClick: false\n        };\n      }\n      args.cleanup();\n      if (options.shouldBlockNextClick) {\n        var unbind = bindEvents(window, [{\n          eventName: 'click',\n          fn: preventDefault,\n          options: {\n            once: true,\n            passive: false,\n            capture: true\n          }\n        }]);\n        setTimeout(unbind);\n      }\n      completed();\n      store.dispatch(drop({\n        reason: reason\n      }));\n    }\n    return _extends({\n      isActive: function isActive() {\n        return _isActive({\n          expected: 'DRAGGING',\n          phase: phase,\n          isLockActive: isLockActive,\n          shouldWarn: false\n        });\n      },\n      shouldRespectForcePress: getShouldRespectForcePress,\n      drop: function drop(options) {\n        return finish('DROP', options);\n      },\n      cancel: function cancel(options) {\n        return finish('CANCEL', options);\n      }\n    }, args.actions);\n  }\n  function fluidLift(clientSelection) {\n    var move$1 = rafSchd(function (client) {\n      tryDispatchWhenDragging(function () {\n        return move({\n          client: client\n        });\n      });\n    });\n    var api = lift$1({\n      liftActionArgs: {\n        id: draggableId,\n        clientSelection: clientSelection,\n        movementMode: 'FLUID'\n      },\n      cleanup: function cleanup() {\n        return move$1.cancel();\n      },\n      actions: {\n        move: move$1\n      }\n    });\n    return _extends({}, api, {\n      move: move$1\n    });\n  }\n  function snapLift() {\n    var actions = {\n      moveUp: function moveUp$1() {\n        return tryDispatchWhenDragging(moveUp);\n      },\n      moveRight: function moveRight$1() {\n        return tryDispatchWhenDragging(moveRight);\n      },\n      moveDown: function moveDown$1() {\n        return tryDispatchWhenDragging(moveDown);\n      },\n      moveLeft: function moveLeft$1() {\n        return tryDispatchWhenDragging(moveLeft);\n      }\n    };\n    return lift$1({\n      liftActionArgs: {\n        id: draggableId,\n        clientSelection: getBorderBoxCenterPosition(el),\n        movementMode: 'SNAP'\n      },\n      cleanup: noop,\n      actions: actions\n    });\n  }\n  function abortPreDrag() {\n    var shouldRelease = _isActive({\n      expected: 'PRE_DRAG',\n      phase: phase,\n      isLockActive: isLockActive,\n      shouldWarn: true\n    });\n    if (shouldRelease) {\n      lockAPI.release();\n    }\n  }\n  var preDrag = {\n    isActive: function isActive() {\n      return _isActive({\n        expected: 'PRE_DRAG',\n        phase: phase,\n        isLockActive: isLockActive,\n        shouldWarn: false\n      });\n    },\n    shouldRespectForcePress: getShouldRespectForcePress,\n    fluidLift: fluidLift,\n    snapLift: snapLift,\n    abort: abortPreDrag\n  };\n  return preDrag;\n}\nvar defaultSensors = [useMouseSensor, useKeyboardSensor, useMouseSensor$1];\nfunction useSensorMarshal(_ref4) {\n  var contextId = _ref4.contextId,\n    store = _ref4.store,\n    registry = _ref4.registry,\n    customSensors = _ref4.customSensors,\n    enableDefaultSensors = _ref4.enableDefaultSensors;\n  var useSensors = [].concat(enableDefaultSensors ? defaultSensors : [], customSensors || []);\n  var lockAPI = useState(function () {\n    return create();\n  })[0];\n  var tryAbandonLock = useCallback(function tryAbandonLock(previous, current) {\n    if (previous.isDragging && !current.isDragging) {\n      lockAPI.tryAbandon();\n    }\n  }, [lockAPI]);\n  useIsomorphicLayoutEffect(function listenToStore() {\n    var previous = store.getState();\n    var unsubscribe = store.subscribe(function () {\n      var current = store.getState();\n      tryAbandonLock(previous, current);\n      previous = current;\n    });\n    return unsubscribe;\n  }, [lockAPI, store, tryAbandonLock]);\n  useIsomorphicLayoutEffect(function () {\n    return lockAPI.tryAbandon;\n  }, [lockAPI.tryAbandon]);\n  var canGetLock = useCallback(function (draggableId) {\n    return canStart({\n      lockAPI: lockAPI,\n      registry: registry,\n      store: store,\n      draggableId: draggableId\n    });\n  }, [lockAPI, registry, store]);\n  var tryGetLock = useCallback(function (draggableId, forceStop, options) {\n    return tryStart({\n      lockAPI: lockAPI,\n      registry: registry,\n      contextId: contextId,\n      store: store,\n      draggableId: draggableId,\n      forceSensorStop: forceStop,\n      sourceEvent: options && options.sourceEvent ? options.sourceEvent : null\n    });\n  }, [contextId, lockAPI, registry, store]);\n  var findClosestDraggableId = useCallback(function (event) {\n    return tryGetClosestDraggableIdFromEvent(contextId, event);\n  }, [contextId]);\n  var findOptionsForDraggable = useCallback(function (id) {\n    var entry = registry.draggable.findById(id);\n    return entry ? entry.options : null;\n  }, [registry.draggable]);\n  var tryReleaseLock = useCallback(lockAPI.tryAbandon, [lockAPI]);\n  var isLockClaimed = useCallback(lockAPI.isClaimed, [lockAPI]);\n  var api = useMemo(function () {\n    return {\n      canGetLock: canGetLock,\n      tryGetLock: tryGetLock,\n      findClosestDraggableId: findClosestDraggableId,\n      findOptionsForDraggable: findOptionsForDraggable,\n      tryReleaseLock: tryReleaseLock,\n      isLockClaimed: isLockClaimed\n    };\n  }, [canGetLock, tryGetLock, findClosestDraggableId, findOptionsForDraggable, tryReleaseLock, isLockClaimed]);\n  useValidateSensorHooks(useSensors);\n  for (var i = 0; i < useSensors.length; i++) {\n    useSensors[i](api);\n  }\n}\nvar createResponders = function createResponders(props) {\n  return {\n    onBeforeCapture: props.onBeforeCapture,\n    onBeforeDragStart: props.onBeforeDragStart,\n    onDragStart: props.onDragStart,\n    onDragEnd: props.onDragEnd,\n    onDragUpdate: props.onDragUpdate\n  };\n};\nfunction getStore(lazyRef) {\n  !lazyRef.current ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Could not find store from lazy ref') : invariant(false) : void 0;\n  return lazyRef.current;\n}\nfunction App(props) {\n  var contextId = props.contextId,\n    setCallbacks = props.setCallbacks,\n    sensors = props.sensors,\n    nonce = props.nonce,\n    liftInstruction = props.liftInstruction;\n  var lazyStoreRef = useRef(null);\n  useStartupValidation();\n  var lastPropsRef = usePrevious(props);\n  var getResponders = useCallback(function () {\n    return createResponders(lastPropsRef.current);\n  }, [lastPropsRef]);\n  var announce = useAnnouncer(contextId);\n  var liftInstructionId = useLiftInstruction(contextId, liftInstruction);\n  var styleMarshal = useStyleMarshal(contextId, nonce);\n  var lazyDispatch = useCallback(function (action) {\n    getStore(lazyStoreRef).dispatch(action);\n  }, []);\n  var marshalCallbacks = useMemo(function () {\n    return bindActionCreators({\n      publishWhileDragging: publishWhileDragging,\n      updateDroppableScroll: updateDroppableScroll,\n      updateDroppableIsEnabled: updateDroppableIsEnabled,\n      updateDroppableIsCombineEnabled: updateDroppableIsCombineEnabled,\n      collectionStarting: collectionStarting\n    }, lazyDispatch);\n  }, [lazyDispatch]);\n  var registry = useRegistry();\n  var dimensionMarshal = useMemo(function () {\n    return createDimensionMarshal(registry, marshalCallbacks);\n  }, [registry, marshalCallbacks]);\n  var autoScroller = useMemo(function () {\n    return createAutoScroller(_extends({\n      scrollWindow: scrollWindow,\n      scrollDroppable: dimensionMarshal.scrollDroppable\n    }, bindActionCreators({\n      move: move\n    }, lazyDispatch)));\n  }, [dimensionMarshal.scrollDroppable, lazyDispatch]);\n  var focusMarshal = useFocusMarshal(contextId);\n  var store = useMemo(function () {\n    return createStore({\n      announce: announce,\n      autoScroller: autoScroller,\n      dimensionMarshal: dimensionMarshal,\n      focusMarshal: focusMarshal,\n      getResponders: getResponders,\n      styleMarshal: styleMarshal\n    });\n  }, [announce, autoScroller, dimensionMarshal, focusMarshal, getResponders, styleMarshal]);\n  if (process.env.NODE_ENV !== 'production') {\n    if (lazyStoreRef.current && lazyStoreRef.current !== store) {\n      process.env.NODE_ENV !== \"production\" ? warning('unexpected store change') : void 0;\n    }\n  }\n  lazyStoreRef.current = store;\n  var tryResetStore = useCallback(function () {\n    var current = getStore(lazyStoreRef);\n    var state = current.getState();\n    if (state.phase !== 'IDLE') {\n      current.dispatch(flush());\n    }\n  }, []);\n  var isDragging = useCallback(function () {\n    var state = getStore(lazyStoreRef).getState();\n    return state.isDragging || state.phase === 'DROP_ANIMATING';\n  }, []);\n  var appCallbacks = useMemo(function () {\n    return {\n      isDragging: isDragging,\n      tryAbort: tryResetStore\n    };\n  }, [isDragging, tryResetStore]);\n  setCallbacks(appCallbacks);\n  var getCanLift = useCallback(function (id) {\n    return canStartDrag(getStore(lazyStoreRef).getState(), id);\n  }, []);\n  var getIsMovementAllowed = useCallback(function () {\n    return isMovementAllowed(getStore(lazyStoreRef).getState());\n  }, []);\n  var appContext = useMemo(function () {\n    return {\n      marshal: dimensionMarshal,\n      focus: focusMarshal,\n      contextId: contextId,\n      canLift: getCanLift,\n      isMovementAllowed: getIsMovementAllowed,\n      liftInstructionId: liftInstructionId,\n      registry: registry\n    };\n  }, [contextId, dimensionMarshal, focusMarshal, getCanLift, getIsMovementAllowed, liftInstructionId, registry]);\n  useSensorMarshal({\n    contextId: contextId,\n    store: store,\n    registry: registry,\n    customSensors: sensors,\n    enableDefaultSensors: props.enableDefaultSensors !== false\n  });\n  useEffect(function () {\n    return tryResetStore;\n  }, [tryResetStore]);\n  return React.createElement(AppContext.Provider, {\n    value: appContext\n  }, React.createElement(Provider, {\n    context: StoreContext,\n    store: store\n  }, props.children));\n}\nvar instanceCount = 0;\nfunction resetServerContext() {\n  instanceCount = 0;\n}\nfunction DragDropContext(props) {\n  var contextId = useMemo(function () {\n    return \"\" + instanceCount++;\n  }, []);\n  var liftInstruction = props.liftInstruction || preset.liftInstruction;\n  return React.createElement(ErrorBoundary, null, function (setCallbacks) {\n    return React.createElement(App, {\n      nonce: props.nonce,\n      contextId: contextId,\n      setCallbacks: setCallbacks,\n      liftInstruction: liftInstruction,\n      enableDefaultSensors: props.enableDefaultSensors,\n      sensors: props.sensors,\n      onBeforeCapture: props.onBeforeCapture,\n      onBeforeDragStart: props.onBeforeDragStart,\n      onDragStart: props.onDragStart,\n      onDragUpdate: props.onDragUpdate,\n      onDragEnd: props.onDragEnd\n    }, props.children);\n  });\n}\nvar isEqual$1 = function isEqual(base) {\n  return function (value) {\n    return base === value;\n  };\n};\nvar isScroll = isEqual$1('scroll');\nvar isAuto = isEqual$1('auto');\nvar isVisible$1 = isEqual$1('visible');\nvar isEither = function isEither(overflow, fn) {\n  return fn(overflow.overflowX) || fn(overflow.overflowY);\n};\nvar isBoth = function isBoth(overflow, fn) {\n  return fn(overflow.overflowX) && fn(overflow.overflowY);\n};\nvar isElementScrollable = function isElementScrollable(el) {\n  var style = window.getComputedStyle(el);\n  var overflow = {\n    overflowX: style.overflowX,\n    overflowY: style.overflowY\n  };\n  return isEither(overflow, isScroll) || isEither(overflow, isAuto);\n};\nvar isBodyScrollable = function isBodyScrollable() {\n  if (process.env.NODE_ENV === 'production') {\n    return false;\n  }\n  var body = getBodyElement();\n  var html = document.documentElement;\n  !html ? process.env.NODE_ENV !== \"production\" ? invariant(false) : invariant(false) : void 0;\n  if (!isElementScrollable(body)) {\n    return false;\n  }\n  var htmlStyle = window.getComputedStyle(html);\n  var htmlOverflow = {\n    overflowX: htmlStyle.overflowX,\n    overflowY: htmlStyle.overflowY\n  };\n  if (isBoth(htmlOverflow, isVisible$1)) {\n    return false;\n  }\n  process.env.NODE_ENV !== \"production\" ? warning(\"\\n    We have detected that your <body> element might be a scroll container.\\n    We have found no reliable way of detecting whether the <body> element is a scroll container.\\n    Under most circumstances a <body> scroll bar will be on the <html> element (document.documentElement)\\n\\n    Because we cannot determine if the <body> is a scroll container, and generally it is not one,\\n    we will be treating the <body> as *not* a scroll container\\n\\n    More information: https://github.com/atlassian/react-beautiful-dnd/blob/master/docs/guides/how-we-detect-scroll-containers.md\\n  \") : void 0;\n  return false;\n};\nvar getClosestScrollable = function getClosestScrollable(el) {\n  if (el == null) {\n    return null;\n  }\n  if (el === document.body) {\n    return isBodyScrollable() ? el : null;\n  }\n  if (el === document.documentElement) {\n    return null;\n  }\n  if (!isElementScrollable(el)) {\n    return getClosestScrollable(el.parentElement);\n  }\n  return el;\n};\nvar checkForNestedScrollContainers = function checkForNestedScrollContainers(scrollable) {\n  if (!scrollable) {\n    return;\n  }\n  var anotherScrollParent = getClosestScrollable(scrollable.parentElement);\n  if (!anotherScrollParent) {\n    return;\n  }\n  process.env.NODE_ENV !== \"production\" ? warning(\"\\n    Droppable: unsupported nested scroll container detected.\\n    A Droppable can only have one scroll parent (which can be itself)\\n    Nested scroll containers are currently not supported.\\n\\n    We hope to support nested scroll containers soon: https://github.com/atlassian/react-beautiful-dnd/issues/131\\n  \") : void 0;\n};\nvar getScroll$1 = function getScroll$1(el) {\n  return {\n    x: el.scrollLeft,\n    y: el.scrollTop\n  };\n};\nvar getIsFixed = function getIsFixed(el) {\n  if (!el) {\n    return false;\n  }\n  var style = window.getComputedStyle(el);\n  if (style.position === 'fixed') {\n    return true;\n  }\n  return getIsFixed(el.parentElement);\n};\nvar getEnv = function getEnv(start) {\n  var closestScrollable = getClosestScrollable(start);\n  var isFixedOnPage = getIsFixed(start);\n  return {\n    closestScrollable: closestScrollable,\n    isFixedOnPage: isFixedOnPage\n  };\n};\nvar getDroppableDimension = function getDroppableDimension(_ref) {\n  var descriptor = _ref.descriptor,\n    isEnabled = _ref.isEnabled,\n    isCombineEnabled = _ref.isCombineEnabled,\n    isFixedOnPage = _ref.isFixedOnPage,\n    direction = _ref.direction,\n    client = _ref.client,\n    page = _ref.page,\n    closest = _ref.closest;\n  var frame = function () {\n    if (!closest) {\n      return null;\n    }\n    var scrollSize = closest.scrollSize,\n      frameClient = closest.client;\n    var maxScroll = getMaxScroll({\n      scrollHeight: scrollSize.scrollHeight,\n      scrollWidth: scrollSize.scrollWidth,\n      height: frameClient.paddingBox.height,\n      width: frameClient.paddingBox.width\n    });\n    return {\n      pageMarginBox: closest.page.marginBox,\n      frameClient: frameClient,\n      scrollSize: scrollSize,\n      shouldClipSubject: closest.shouldClipSubject,\n      scroll: {\n        initial: closest.scroll,\n        current: closest.scroll,\n        max: maxScroll,\n        diff: {\n          value: origin,\n          displacement: origin\n        }\n      }\n    };\n  }();\n  var axis = direction === 'vertical' ? vertical : horizontal;\n  var subject = getSubject({\n    page: page,\n    withPlaceholder: null,\n    axis: axis,\n    frame: frame\n  });\n  var dimension = {\n    descriptor: descriptor,\n    isCombineEnabled: isCombineEnabled,\n    isFixedOnPage: isFixedOnPage,\n    axis: axis,\n    isEnabled: isEnabled,\n    client: client,\n    page: page,\n    frame: frame,\n    subject: subject\n  };\n  return dimension;\n};\nvar getClient = function getClient(targetRef, closestScrollable) {\n  var base = getBox(targetRef);\n  if (!closestScrollable) {\n    return base;\n  }\n  if (targetRef !== closestScrollable) {\n    return base;\n  }\n  var top = base.paddingBox.top - closestScrollable.scrollTop;\n  var left = base.paddingBox.left - closestScrollable.scrollLeft;\n  var bottom = top + closestScrollable.scrollHeight;\n  var right = left + closestScrollable.scrollWidth;\n  var paddingBox = {\n    top: top,\n    right: right,\n    bottom: bottom,\n    left: left\n  };\n  var borderBox = expand(paddingBox, base.border);\n  var client = createBox({\n    borderBox: borderBox,\n    margin: base.margin,\n    border: base.border,\n    padding: base.padding\n  });\n  return client;\n};\nvar getDimension = function getDimension(_ref) {\n  var ref = _ref.ref,\n    descriptor = _ref.descriptor,\n    env = _ref.env,\n    windowScroll = _ref.windowScroll,\n    direction = _ref.direction,\n    isDropDisabled = _ref.isDropDisabled,\n    isCombineEnabled = _ref.isCombineEnabled,\n    shouldClipSubject = _ref.shouldClipSubject;\n  var closestScrollable = env.closestScrollable;\n  var client = getClient(ref, closestScrollable);\n  var page = withScroll(client, windowScroll);\n  var closest = function () {\n    if (!closestScrollable) {\n      return null;\n    }\n    var frameClient = getBox(closestScrollable);\n    var scrollSize = {\n      scrollHeight: closestScrollable.scrollHeight,\n      scrollWidth: closestScrollable.scrollWidth\n    };\n    return {\n      client: frameClient,\n      page: withScroll(frameClient, windowScroll),\n      scroll: getScroll$1(closestScrollable),\n      scrollSize: scrollSize,\n      shouldClipSubject: shouldClipSubject\n    };\n  }();\n  var dimension = getDroppableDimension({\n    descriptor: descriptor,\n    isEnabled: !isDropDisabled,\n    isCombineEnabled: isCombineEnabled,\n    isFixedOnPage: env.isFixedOnPage,\n    direction: direction,\n    client: client,\n    page: page,\n    closest: closest\n  });\n  return dimension;\n};\nvar immediate = {\n  passive: false\n};\nvar delayed = {\n  passive: true\n};\nvar getListenerOptions = function getListenerOptions(options) {\n  return options.shouldPublishImmediately ? immediate : delayed;\n};\nfunction useRequiredContext(Context) {\n  var result = useContext(Context);\n  !result ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Could not find required context') : invariant(false) : void 0;\n  return result;\n}\nvar count = 0;\nfunction useUniqueId(prefix) {\n  var countRef = useRef(count++);\n  return prefix + \"::\" + countRef.current;\n}\nvar getClosestScrollableFromDrag = function getClosestScrollableFromDrag(dragging) {\n  return dragging && dragging.env.closestScrollable || null;\n};\nfunction useDroppablePublisher(args) {\n  var whileDraggingRef = useRef(null);\n  var appContext = useRequiredContext(AppContext);\n  var uniqueId = useUniqueId('droppable');\n  var registry = appContext.registry,\n    marshal = appContext.marshal;\n  var previousRef = usePrevious(args);\n  var descriptor = useMemo(function () {\n    return {\n      id: args.droppableId,\n      type: args.type,\n      mode: args.mode\n    };\n  }, [args.droppableId, args.mode, args.type]);\n  var publishedDescriptorRef = useRef(descriptor);\n  var memoizedUpdateScroll = useMemo(function () {\n    return memoizeOne(function (x, y) {\n      !whileDraggingRef.current ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Can only update scroll when dragging') : invariant(false) : void 0;\n      var scroll = {\n        x: x,\n        y: y\n      };\n      marshal.updateDroppableScroll(descriptor.id, scroll);\n    });\n  }, [descriptor.id, marshal]);\n  var getClosestScroll = useCallback(function () {\n    var dragging = whileDraggingRef.current;\n    if (!dragging || !dragging.env.closestScrollable) {\n      return origin;\n    }\n    return getScroll$1(dragging.env.closestScrollable);\n  }, []);\n  var updateScroll = useCallback(function () {\n    var scroll = getClosestScroll();\n    memoizedUpdateScroll(scroll.x, scroll.y);\n  }, [getClosestScroll, memoizedUpdateScroll]);\n  var scheduleScrollUpdate = useMemo(function () {\n    return rafSchd(updateScroll);\n  }, [updateScroll]);\n  var onClosestScroll = useCallback(function () {\n    var dragging = whileDraggingRef.current;\n    var closest = getClosestScrollableFromDrag(dragging);\n    !(dragging && closest) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Could not find scroll options while scrolling') : invariant(false) : void 0;\n    var options = dragging.scrollOptions;\n    if (options.shouldPublishImmediately) {\n      updateScroll();\n      return;\n    }\n    scheduleScrollUpdate();\n  }, [scheduleScrollUpdate, updateScroll]);\n  var getDimensionAndWatchScroll = useCallback(function (windowScroll, options) {\n    !!whileDraggingRef.current ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot collect a droppable while a drag is occurring') : invariant(false) : void 0;\n    var previous = previousRef.current;\n    var ref = previous.getDroppableRef();\n    !ref ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot collect without a droppable ref') : invariant(false) : void 0;\n    var env = getEnv(ref);\n    var dragging = {\n      ref: ref,\n      descriptor: descriptor,\n      env: env,\n      scrollOptions: options\n    };\n    whileDraggingRef.current = dragging;\n    var dimension = getDimension({\n      ref: ref,\n      descriptor: descriptor,\n      env: env,\n      windowScroll: windowScroll,\n      direction: previous.direction,\n      isDropDisabled: previous.isDropDisabled,\n      isCombineEnabled: previous.isCombineEnabled,\n      shouldClipSubject: !previous.ignoreContainerClipping\n    });\n    var scrollable = env.closestScrollable;\n    if (scrollable) {\n      scrollable.setAttribute(scrollContainer.contextId, appContext.contextId);\n      scrollable.addEventListener('scroll', onClosestScroll, getListenerOptions(dragging.scrollOptions));\n      if (process.env.NODE_ENV !== 'production') {\n        checkForNestedScrollContainers(scrollable);\n      }\n    }\n    return dimension;\n  }, [appContext.contextId, descriptor, onClosestScroll, previousRef]);\n  var getScrollWhileDragging = useCallback(function () {\n    var dragging = whileDraggingRef.current;\n    var closest = getClosestScrollableFromDrag(dragging);\n    !(dragging && closest) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Can only recollect Droppable client for Droppables that have a scroll container') : invariant(false) : void 0;\n    return getScroll$1(closest);\n  }, []);\n  var dragStopped = useCallback(function () {\n    var dragging = whileDraggingRef.current;\n    !dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot stop drag when no active drag') : invariant(false) : void 0;\n    var closest = getClosestScrollableFromDrag(dragging);\n    whileDraggingRef.current = null;\n    if (!closest) {\n      return;\n    }\n    scheduleScrollUpdate.cancel();\n    closest.removeAttribute(scrollContainer.contextId);\n    closest.removeEventListener('scroll', onClosestScroll, getListenerOptions(dragging.scrollOptions));\n  }, [onClosestScroll, scheduleScrollUpdate]);\n  var scroll = useCallback(function (change) {\n    var dragging = whileDraggingRef.current;\n    !dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot scroll when there is no drag') : invariant(false) : void 0;\n    var closest = getClosestScrollableFromDrag(dragging);\n    !closest ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot scroll a droppable with no closest scrollable') : invariant(false) : void 0;\n    closest.scrollTop += change.y;\n    closest.scrollLeft += change.x;\n  }, []);\n  var callbacks = useMemo(function () {\n    return {\n      getDimensionAndWatchScroll: getDimensionAndWatchScroll,\n      getScrollWhileDragging: getScrollWhileDragging,\n      dragStopped: dragStopped,\n      scroll: scroll\n    };\n  }, [dragStopped, getDimensionAndWatchScroll, getScrollWhileDragging, scroll]);\n  var entry = useMemo(function () {\n    return {\n      uniqueId: uniqueId,\n      descriptor: descriptor,\n      callbacks: callbacks\n    };\n  }, [callbacks, descriptor, uniqueId]);\n  useIsomorphicLayoutEffect(function () {\n    publishedDescriptorRef.current = entry.descriptor;\n    registry.droppable.register(entry);\n    return function () {\n      if (whileDraggingRef.current) {\n        process.env.NODE_ENV !== \"production\" ? warning('Unsupported: changing the droppableId or type of a Droppable during a drag') : void 0;\n        dragStopped();\n      }\n      registry.droppable.unregister(entry);\n    };\n  }, [callbacks, descriptor, dragStopped, entry, marshal, registry.droppable]);\n  useIsomorphicLayoutEffect(function () {\n    if (!whileDraggingRef.current) {\n      return;\n    }\n    marshal.updateDroppableIsEnabled(publishedDescriptorRef.current.id, !args.isDropDisabled);\n  }, [args.isDropDisabled, marshal]);\n  useIsomorphicLayoutEffect(function () {\n    if (!whileDraggingRef.current) {\n      return;\n    }\n    marshal.updateDroppableIsCombineEnabled(publishedDescriptorRef.current.id, args.isCombineEnabled);\n  }, [args.isCombineEnabled, marshal]);\n}\nfunction noop$2() {}\nvar empty = {\n  width: 0,\n  height: 0,\n  margin: noSpacing\n};\nvar getSize = function getSize(_ref) {\n  var isAnimatingOpenOnMount = _ref.isAnimatingOpenOnMount,\n    placeholder = _ref.placeholder,\n    animate = _ref.animate;\n  if (isAnimatingOpenOnMount) {\n    return empty;\n  }\n  if (animate === 'close') {\n    return empty;\n  }\n  return {\n    height: placeholder.client.borderBox.height,\n    width: placeholder.client.borderBox.width,\n    margin: placeholder.client.margin\n  };\n};\nvar getStyle = function getStyle(_ref2) {\n  var isAnimatingOpenOnMount = _ref2.isAnimatingOpenOnMount,\n    placeholder = _ref2.placeholder,\n    animate = _ref2.animate;\n  var size = getSize({\n    isAnimatingOpenOnMount: isAnimatingOpenOnMount,\n    placeholder: placeholder,\n    animate: animate\n  });\n  return {\n    display: placeholder.display,\n    boxSizing: 'border-box',\n    width: size.width,\n    height: size.height,\n    marginTop: size.margin.top,\n    marginRight: size.margin.right,\n    marginBottom: size.margin.bottom,\n    marginLeft: size.margin.left,\n    flexShrink: '0',\n    flexGrow: '0',\n    pointerEvents: 'none',\n    transition: animate !== 'none' ? transitions.placeholder : null\n  };\n};\nfunction Placeholder(props) {\n  var animateOpenTimerRef = useRef(null);\n  var tryClearAnimateOpenTimer = useCallback(function () {\n    if (!animateOpenTimerRef.current) {\n      return;\n    }\n    clearTimeout(animateOpenTimerRef.current);\n    animateOpenTimerRef.current = null;\n  }, []);\n  var animate = props.animate,\n    onTransitionEnd = props.onTransitionEnd,\n    onClose = props.onClose,\n    contextId = props.contextId;\n  var _useState = useState(props.animate === 'open'),\n    isAnimatingOpenOnMount = _useState[0],\n    setIsAnimatingOpenOnMount = _useState[1];\n  useEffect(function () {\n    if (!isAnimatingOpenOnMount) {\n      return noop$2;\n    }\n    if (animate !== 'open') {\n      tryClearAnimateOpenTimer();\n      setIsAnimatingOpenOnMount(false);\n      return noop$2;\n    }\n    if (animateOpenTimerRef.current) {\n      return noop$2;\n    }\n    animateOpenTimerRef.current = setTimeout(function () {\n      animateOpenTimerRef.current = null;\n      setIsAnimatingOpenOnMount(false);\n    });\n    return tryClearAnimateOpenTimer;\n  }, [animate, isAnimatingOpenOnMount, tryClearAnimateOpenTimer]);\n  var onSizeChangeEnd = useCallback(function (event) {\n    if (event.propertyName !== 'height') {\n      return;\n    }\n    onTransitionEnd();\n    if (animate === 'close') {\n      onClose();\n    }\n  }, [animate, onClose, onTransitionEnd]);\n  var style = getStyle({\n    isAnimatingOpenOnMount: isAnimatingOpenOnMount,\n    animate: props.animate,\n    placeholder: props.placeholder\n  });\n  return React.createElement(props.placeholder.tagName, {\n    style: style,\n    'data-rbd-placeholder-context-id': contextId,\n    onTransitionEnd: onSizeChangeEnd,\n    ref: props.innerRef\n  });\n}\nvar Placeholder$1 = React.memo(Placeholder);\nvar DroppableContext = React.createContext(null);\nfunction checkIsValidInnerRef(el) {\n  !(el && isHtmlElement(el)) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"\\n    provided.innerRef has not been provided with a HTMLElement.\\n\\n    You can find a guide on using the innerRef callback functions at:\\n    https://github.com/atlassian/react-beautiful-dnd/blob/master/docs/guides/using-inner-ref.md\\n  \") : invariant(false) : void 0;\n}\nfunction isBoolean(value) {\n  return typeof value === 'boolean';\n}\nfunction runChecks(args, checks) {\n  checks.forEach(function (check) {\n    return check(args);\n  });\n}\nvar shared = [function required(_ref) {\n  var props = _ref.props;\n  !props.droppableId ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'A Droppable requires a droppableId prop') : invariant(false) : void 0;\n  !(typeof props.droppableId === 'string') ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"A Droppable requires a [string] droppableId. Provided: [\" + typeof props.droppableId + \"]\") : invariant(false) : void 0;\n}, function _boolean(_ref2) {\n  var props = _ref2.props;\n  !isBoolean(props.isDropDisabled) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'isDropDisabled must be a boolean') : invariant(false) : void 0;\n  !isBoolean(props.isCombineEnabled) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'isCombineEnabled must be a boolean') : invariant(false) : void 0;\n  !isBoolean(props.ignoreContainerClipping) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'ignoreContainerClipping must be a boolean') : invariant(false) : void 0;\n}, function ref(_ref3) {\n  var getDroppableRef = _ref3.getDroppableRef;\n  checkIsValidInnerRef(getDroppableRef());\n}];\nvar standard = [function placeholder(_ref4) {\n  var props = _ref4.props,\n    getPlaceholderRef = _ref4.getPlaceholderRef;\n  if (!props.placeholder) {\n    return;\n  }\n  var ref = getPlaceholderRef();\n  if (ref) {\n    return;\n  }\n  process.env.NODE_ENV !== \"production\" ? warning(\"\\n      Droppable setup issue [droppableId: \\\"\" + props.droppableId + \"\\\"]:\\n      DroppableProvided > placeholder could not be found.\\n\\n      Please be sure to add the {provided.placeholder} React Node as a child of your Droppable.\\n      More information: https://github.com/atlassian/react-beautiful-dnd/blob/master/docs/api/droppable.md\\n    \") : void 0;\n}];\nvar virtual = [function hasClone(_ref5) {\n  var props = _ref5.props;\n  !props.renderClone ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Must provide a clone render function (renderClone) for virtual lists') : invariant(false) : void 0;\n}, function hasNoPlaceholder(_ref6) {\n  var getPlaceholderRef = _ref6.getPlaceholderRef;\n  !!getPlaceholderRef() ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Expected virtual list to not have a placeholder') : invariant(false) : void 0;\n}];\nfunction useValidation(args) {\n  useDevSetupWarning(function () {\n    runChecks(args, shared);\n    if (args.props.mode === 'standard') {\n      runChecks(args, standard);\n    }\n    if (args.props.mode === 'virtual') {\n      runChecks(args, virtual);\n    }\n  });\n}\nvar AnimateInOut = function (_React$PureComponent) {\n  _inheritsLoose(AnimateInOut, _React$PureComponent);\n  function AnimateInOut() {\n    var _this;\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _React$PureComponent.call.apply(_React$PureComponent, [this].concat(args)) || this;\n    _this.state = {\n      isVisible: Boolean(_this.props.on),\n      data: _this.props.on,\n      animate: _this.props.shouldAnimate && _this.props.on ? 'open' : 'none'\n    };\n    _this.onClose = function () {\n      if (_this.state.animate !== 'close') {\n        return;\n      }\n      _this.setState({\n        isVisible: false\n      });\n    };\n    return _this;\n  }\n  AnimateInOut.getDerivedStateFromProps = function getDerivedStateFromProps(props, state) {\n    if (!props.shouldAnimate) {\n      return {\n        isVisible: Boolean(props.on),\n        data: props.on,\n        animate: 'none'\n      };\n    }\n    if (props.on) {\n      return {\n        isVisible: true,\n        data: props.on,\n        animate: 'open'\n      };\n    }\n    if (state.isVisible) {\n      return {\n        isVisible: true,\n        data: state.data,\n        animate: 'close'\n      };\n    }\n    return {\n      isVisible: false,\n      animate: 'close',\n      data: null\n    };\n  };\n  var _proto = AnimateInOut.prototype;\n  _proto.render = function render() {\n    if (!this.state.isVisible) {\n      return null;\n    }\n    var provided = {\n      onClose: this.onClose,\n      data: this.state.data,\n      animate: this.state.animate\n    };\n    return this.props.children(provided);\n  };\n  return AnimateInOut;\n}(React.PureComponent);\nvar zIndexOptions = {\n  dragging: 5000,\n  dropAnimating: 4500\n};\nvar getDraggingTransition = function getDraggingTransition(shouldAnimateDragMovement, dropping) {\n  if (dropping) {\n    return transitions.drop(dropping.duration);\n  }\n  if (shouldAnimateDragMovement) {\n    return transitions.snap;\n  }\n  return transitions.fluid;\n};\nvar getDraggingOpacity = function getDraggingOpacity(isCombining, isDropAnimating) {\n  if (!isCombining) {\n    return null;\n  }\n  return isDropAnimating ? combine.opacity.drop : combine.opacity.combining;\n};\nvar getShouldDraggingAnimate = function getShouldDraggingAnimate(dragging) {\n  if (dragging.forceShouldAnimate != null) {\n    return dragging.forceShouldAnimate;\n  }\n  return dragging.mode === 'SNAP';\n};\nfunction getDraggingStyle(dragging) {\n  var dimension = dragging.dimension;\n  var box = dimension.client;\n  var offset = dragging.offset,\n    combineWith = dragging.combineWith,\n    dropping = dragging.dropping;\n  var isCombining = Boolean(combineWith);\n  var shouldAnimate = getShouldDraggingAnimate(dragging);\n  var isDropAnimating = Boolean(dropping);\n  var transform = isDropAnimating ? transforms.drop(offset, isCombining) : transforms.moveTo(offset);\n  var style = {\n    position: 'fixed',\n    top: box.marginBox.top,\n    left: box.marginBox.left,\n    boxSizing: 'border-box',\n    width: box.borderBox.width,\n    height: box.borderBox.height,\n    transition: getDraggingTransition(shouldAnimate, dropping),\n    transform: transform,\n    opacity: getDraggingOpacity(isCombining, isDropAnimating),\n    zIndex: isDropAnimating ? zIndexOptions.dropAnimating : zIndexOptions.dragging,\n    pointerEvents: 'none'\n  };\n  return style;\n}\nfunction getSecondaryStyle(secondary) {\n  return {\n    transform: transforms.moveTo(secondary.offset),\n    transition: secondary.shouldAnimateDisplacement ? null : 'none'\n  };\n}\nfunction getStyle$1(mapped) {\n  return mapped.type === 'DRAGGING' ? getDraggingStyle(mapped) : getSecondaryStyle(mapped);\n}\nfunction getDimension$1(descriptor, el, windowScroll) {\n  if (windowScroll === void 0) {\n    windowScroll = origin;\n  }\n  var computedStyles = window.getComputedStyle(el);\n  var borderBox = el.getBoundingClientRect();\n  var client = calculateBox(borderBox, computedStyles);\n  var page = withScroll(client, windowScroll);\n  var placeholder = {\n    client: client,\n    tagName: el.tagName.toLowerCase(),\n    display: computedStyles.display\n  };\n  var displaceBy = {\n    x: client.marginBox.width,\n    y: client.marginBox.height\n  };\n  var dimension = {\n    descriptor: descriptor,\n    placeholder: placeholder,\n    displaceBy: displaceBy,\n    client: client,\n    page: page\n  };\n  return dimension;\n}\nfunction useDraggablePublisher(args) {\n  var uniqueId = useUniqueId('draggable');\n  var descriptor = args.descriptor,\n    registry = args.registry,\n    getDraggableRef = args.getDraggableRef,\n    canDragInteractiveElements = args.canDragInteractiveElements,\n    shouldRespectForcePress = args.shouldRespectForcePress,\n    isEnabled = args.isEnabled;\n  var options = useMemo(function () {\n    return {\n      canDragInteractiveElements: canDragInteractiveElements,\n      shouldRespectForcePress: shouldRespectForcePress,\n      isEnabled: isEnabled\n    };\n  }, [canDragInteractiveElements, isEnabled, shouldRespectForcePress]);\n  var getDimension = useCallback(function (windowScroll) {\n    var el = getDraggableRef();\n    !el ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot get dimension when no ref is set') : invariant(false) : void 0;\n    return getDimension$1(descriptor, el, windowScroll);\n  }, [descriptor, getDraggableRef]);\n  var entry = useMemo(function () {\n    return {\n      uniqueId: uniqueId,\n      descriptor: descriptor,\n      options: options,\n      getDimension: getDimension\n    };\n  }, [descriptor, getDimension, options, uniqueId]);\n  var publishedRef = useRef(entry);\n  var isFirstPublishRef = useRef(true);\n  useIsomorphicLayoutEffect(function () {\n    registry.draggable.register(publishedRef.current);\n    return function () {\n      return registry.draggable.unregister(publishedRef.current);\n    };\n  }, [registry.draggable]);\n  useIsomorphicLayoutEffect(function () {\n    if (isFirstPublishRef.current) {\n      isFirstPublishRef.current = false;\n      return;\n    }\n    var last = publishedRef.current;\n    publishedRef.current = entry;\n    registry.draggable.update(entry, last);\n  }, [entry, registry.draggable]);\n}\nfunction useValidation$1(props, contextId, getRef) {\n  useDevSetupWarning(function () {\n    function prefix(id) {\n      return \"Draggable[id: \" + id + \"]: \";\n    }\n    var id = props.draggableId;\n    !id ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Draggable requires a draggableId') : invariant(false) : void 0;\n    !(typeof id === 'string') ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Draggable requires a [string] draggableId.\\n      Provided: [type: \" + typeof id + \"] (value: \" + id + \")\") : invariant(false) : void 0;\n    !_Number$isInteger(props.index) ? process.env.NODE_ENV !== \"production\" ? invariant(false, prefix(id) + \" requires an integer index prop\") : invariant(false) : void 0;\n    if (props.mapped.type === 'DRAGGING') {\n      return;\n    }\n    checkIsValidInnerRef(getRef());\n    if (props.isEnabled) {\n      !findDragHandle(contextId, id) ? process.env.NODE_ENV !== \"production\" ? invariant(false, prefix(id) + \" Unable to find drag handle\") : invariant(false) : void 0;\n    }\n  });\n}\nfunction useClonePropValidation(isClone) {\n  useDev(function () {\n    var initialRef = useRef(isClone);\n    useDevSetupWarning(function () {\n      !(isClone === initialRef.current) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Draggable isClone prop value changed during component life') : invariant(false) : void 0;\n    }, [isClone]);\n  });\n}\nfunction preventHtml5Dnd(event) {\n  event.preventDefault();\n}\nfunction Draggable(props) {\n  var ref = useRef(null);\n  var setRef = useCallback(function (el) {\n    ref.current = el;\n  }, []);\n  var getRef = useCallback(function () {\n    return ref.current;\n  }, []);\n  var _useRequiredContext = useRequiredContext(AppContext),\n    contextId = _useRequiredContext.contextId,\n    liftInstructionId = _useRequiredContext.liftInstructionId,\n    registry = _useRequiredContext.registry;\n  var _useRequiredContext2 = useRequiredContext(DroppableContext),\n    type = _useRequiredContext2.type,\n    droppableId = _useRequiredContext2.droppableId;\n  var descriptor = useMemo(function () {\n    return {\n      id: props.draggableId,\n      index: props.index,\n      type: type,\n      droppableId: droppableId\n    };\n  }, [props.draggableId, props.index, type, droppableId]);\n  var children = props.children,\n    draggableId = props.draggableId,\n    isEnabled = props.isEnabled,\n    shouldRespectForcePress = props.shouldRespectForcePress,\n    canDragInteractiveElements = props.canDragInteractiveElements,\n    isClone = props.isClone,\n    mapped = props.mapped,\n    dropAnimationFinishedAction = props.dropAnimationFinished;\n  useValidation$1(props, contextId, getRef);\n  useClonePropValidation(isClone);\n  if (!isClone) {\n    var forPublisher = useMemo(function () {\n      return {\n        descriptor: descriptor,\n        registry: registry,\n        getDraggableRef: getRef,\n        canDragInteractiveElements: canDragInteractiveElements,\n        shouldRespectForcePress: shouldRespectForcePress,\n        isEnabled: isEnabled\n      };\n    }, [descriptor, registry, getRef, canDragInteractiveElements, shouldRespectForcePress, isEnabled]);\n    useDraggablePublisher(forPublisher);\n  }\n  var dragHandleProps = useMemo(function () {\n    return isEnabled ? {\n      tabIndex: 0,\n      'data-rbd-drag-handle-draggable-id': draggableId,\n      'data-rbd-drag-handle-context-id': contextId,\n      'aria-labelledby': liftInstructionId,\n      draggable: false,\n      onDragStart: preventHtml5Dnd\n    } : null;\n  }, [contextId, draggableId, isEnabled, liftInstructionId]);\n  var onMoveEnd = useCallback(function (event) {\n    if (mapped.type !== 'DRAGGING') {\n      return;\n    }\n    if (!mapped.dropping) {\n      return;\n    }\n    if (event.propertyName !== 'transform') {\n      return;\n    }\n    dropAnimationFinishedAction();\n  }, [dropAnimationFinishedAction, mapped]);\n  var provided = useMemo(function () {\n    var style = getStyle$1(mapped);\n    var onTransitionEnd = mapped.type === 'DRAGGING' && mapped.dropping ? onMoveEnd : null;\n    var result = {\n      innerRef: setRef,\n      draggableProps: {\n        'data-rbd-draggable-context-id': contextId,\n        'data-rbd-draggable-id': draggableId,\n        style: style,\n        onTransitionEnd: onTransitionEnd\n      },\n      dragHandleProps: dragHandleProps\n    };\n    return result;\n  }, [contextId, dragHandleProps, draggableId, mapped, onMoveEnd, setRef]);\n  var rubric = useMemo(function () {\n    return {\n      draggableId: descriptor.id,\n      type: descriptor.type,\n      source: {\n        index: descriptor.index,\n        droppableId: descriptor.droppableId\n      }\n    };\n  }, [descriptor.droppableId, descriptor.id, descriptor.index, descriptor.type]);\n  return children(provided, mapped.snapshot, rubric);\n}\nvar isStrictEqual = function isStrictEqual(a, b) {\n  return a === b;\n};\nvar whatIsDraggedOverFromResult = function whatIsDraggedOverFromResult(result) {\n  var combine = result.combine,\n    destination = result.destination;\n  if (destination) {\n    return destination.droppableId;\n  }\n  if (combine) {\n    return combine.droppableId;\n  }\n  return null;\n};\nvar getCombineWithFromResult = function getCombineWithFromResult(result) {\n  return result.combine ? result.combine.draggableId : null;\n};\nvar getCombineWithFromImpact = function getCombineWithFromImpact(impact) {\n  return impact.at && impact.at.type === 'COMBINE' ? impact.at.combine.draggableId : null;\n};\nfunction getDraggableSelector() {\n  var memoizedOffset = memoizeOne(function (x, y) {\n    return {\n      x: x,\n      y: y\n    };\n  });\n  var getMemoizedSnapshot = memoizeOne(function (mode, isClone, draggingOver, combineWith, dropping) {\n    return {\n      isDragging: true,\n      isClone: isClone,\n      isDropAnimating: Boolean(dropping),\n      dropAnimation: dropping,\n      mode: mode,\n      draggingOver: draggingOver,\n      combineWith: combineWith,\n      combineTargetFor: null\n    };\n  });\n  var getMemoizedProps = memoizeOne(function (offset, mode, dimension, isClone, draggingOver, combineWith, forceShouldAnimate) {\n    return {\n      mapped: {\n        type: 'DRAGGING',\n        dropping: null,\n        draggingOver: draggingOver,\n        combineWith: combineWith,\n        mode: mode,\n        offset: offset,\n        dimension: dimension,\n        forceShouldAnimate: forceShouldAnimate,\n        snapshot: getMemoizedSnapshot(mode, isClone, draggingOver, combineWith, null)\n      }\n    };\n  });\n  var selector = function selector(state, ownProps) {\n    if (state.isDragging) {\n      if (state.critical.draggable.id !== ownProps.draggableId) {\n        return null;\n      }\n      var offset = state.current.client.offset;\n      var dimension = state.dimensions.draggables[ownProps.draggableId];\n      var draggingOver = whatIsDraggedOver(state.impact);\n      var combineWith = getCombineWithFromImpact(state.impact);\n      var forceShouldAnimate = state.forceShouldAnimate;\n      return getMemoizedProps(memoizedOffset(offset.x, offset.y), state.movementMode, dimension, ownProps.isClone, draggingOver, combineWith, forceShouldAnimate);\n    }\n    if (state.phase === 'DROP_ANIMATING') {\n      var completed = state.completed;\n      if (completed.result.draggableId !== ownProps.draggableId) {\n        return null;\n      }\n      var isClone = ownProps.isClone;\n      var _dimension = state.dimensions.draggables[ownProps.draggableId];\n      var result = completed.result;\n      var mode = result.mode;\n      var _draggingOver = whatIsDraggedOverFromResult(result);\n      var _combineWith = getCombineWithFromResult(result);\n      var duration = state.dropDuration;\n      var dropping = {\n        duration: duration,\n        curve: curves.drop,\n        moveTo: state.newHomeClientOffset,\n        opacity: _combineWith ? combine.opacity.drop : null,\n        scale: _combineWith ? combine.scale.drop : null\n      };\n      return {\n        mapped: {\n          type: 'DRAGGING',\n          offset: state.newHomeClientOffset,\n          dimension: _dimension,\n          dropping: dropping,\n          draggingOver: _draggingOver,\n          combineWith: _combineWith,\n          mode: mode,\n          forceShouldAnimate: null,\n          snapshot: getMemoizedSnapshot(mode, isClone, _draggingOver, _combineWith, dropping)\n        }\n      };\n    }\n    return null;\n  };\n  return selector;\n}\nfunction getSecondarySnapshot(combineTargetFor) {\n  return {\n    isDragging: false,\n    isDropAnimating: false,\n    isClone: false,\n    dropAnimation: null,\n    mode: null,\n    draggingOver: null,\n    combineTargetFor: combineTargetFor,\n    combineWith: null\n  };\n}\nvar atRest = {\n  mapped: {\n    type: 'SECONDARY',\n    offset: origin,\n    combineTargetFor: null,\n    shouldAnimateDisplacement: true,\n    snapshot: getSecondarySnapshot(null)\n  }\n};\nfunction getSecondarySelector() {\n  var memoizedOffset = memoizeOne(function (x, y) {\n    return {\n      x: x,\n      y: y\n    };\n  });\n  var getMemoizedSnapshot = memoizeOne(getSecondarySnapshot);\n  var getMemoizedProps = memoizeOne(function (offset, combineTargetFor, shouldAnimateDisplacement) {\n    if (combineTargetFor === void 0) {\n      combineTargetFor = null;\n    }\n    return {\n      mapped: {\n        type: 'SECONDARY',\n        offset: offset,\n        combineTargetFor: combineTargetFor,\n        shouldAnimateDisplacement: shouldAnimateDisplacement,\n        snapshot: getMemoizedSnapshot(combineTargetFor)\n      }\n    };\n  });\n  var getFallback = function getFallback(combineTargetFor) {\n    return combineTargetFor ? getMemoizedProps(origin, combineTargetFor, true) : null;\n  };\n  var getProps = function getProps(ownId, draggingId, impact, afterCritical) {\n    var visualDisplacement = impact.displaced.visible[ownId];\n    var isAfterCriticalInVirtualList = Boolean(afterCritical.inVirtualList && afterCritical.effected[ownId]);\n    var combine = tryGetCombine(impact);\n    var combineTargetFor = combine && combine.draggableId === ownId ? draggingId : null;\n    if (!visualDisplacement) {\n      if (!isAfterCriticalInVirtualList) {\n        return getFallback(combineTargetFor);\n      }\n      if (impact.displaced.invisible[ownId]) {\n        return null;\n      }\n      var change = negate(afterCritical.displacedBy.point);\n      var _offset = memoizedOffset(change.x, change.y);\n      return getMemoizedProps(_offset, combineTargetFor, true);\n    }\n    if (isAfterCriticalInVirtualList) {\n      return getFallback(combineTargetFor);\n    }\n    var displaceBy = impact.displacedBy.point;\n    var offset = memoizedOffset(displaceBy.x, displaceBy.y);\n    return getMemoizedProps(offset, combineTargetFor, visualDisplacement.shouldAnimate);\n  };\n  var selector = function selector(state, ownProps) {\n    if (state.isDragging) {\n      if (state.critical.draggable.id === ownProps.draggableId) {\n        return null;\n      }\n      return getProps(ownProps.draggableId, state.critical.draggable.id, state.impact, state.afterCritical);\n    }\n    if (state.phase === 'DROP_ANIMATING') {\n      var completed = state.completed;\n      if (completed.result.draggableId === ownProps.draggableId) {\n        return null;\n      }\n      return getProps(ownProps.draggableId, completed.result.draggableId, completed.impact, completed.afterCritical);\n    }\n    return null;\n  };\n  return selector;\n}\nvar makeMapStateToProps = function makeMapStateToProps() {\n  var draggingSelector = getDraggableSelector();\n  var secondarySelector = getSecondarySelector();\n  var selector = function selector(state, ownProps) {\n    return draggingSelector(state, ownProps) || secondarySelector(state, ownProps) || atRest;\n  };\n  return selector;\n};\nvar mapDispatchToProps = {\n  dropAnimationFinished: dropAnimationFinished\n};\nvar ConnectedDraggable = connect(makeMapStateToProps, mapDispatchToProps, null, {\n  context: StoreContext,\n  pure: true,\n  areStatePropsEqual: isStrictEqual\n})(Draggable);\nfunction PrivateDraggable(props) {\n  var droppableContext = useRequiredContext(DroppableContext);\n  var isUsingCloneFor = droppableContext.isUsingCloneFor;\n  if (isUsingCloneFor === props.draggableId && !props.isClone) {\n    return null;\n  }\n  return React.createElement(ConnectedDraggable, props);\n}\nfunction PublicDraggable(props) {\n  var isEnabled = typeof props.isDragDisabled === 'boolean' ? !props.isDragDisabled : true;\n  var canDragInteractiveElements = Boolean(props.disableInteractiveElementBlocking);\n  var shouldRespectForcePress = Boolean(props.shouldRespectForcePress);\n  return React.createElement(PrivateDraggable, _extends({}, props, {\n    isClone: false,\n    isEnabled: isEnabled,\n    canDragInteractiveElements: canDragInteractiveElements,\n    shouldRespectForcePress: shouldRespectForcePress\n  }));\n}\nfunction Droppable(props) {\n  var appContext = useContext(AppContext);\n  !appContext ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Could not find app context') : invariant(false) : void 0;\n  var contextId = appContext.contextId,\n    isMovementAllowed = appContext.isMovementAllowed;\n  var droppableRef = useRef(null);\n  var placeholderRef = useRef(null);\n  var children = props.children,\n    droppableId = props.droppableId,\n    type = props.type,\n    mode = props.mode,\n    direction = props.direction,\n    ignoreContainerClipping = props.ignoreContainerClipping,\n    isDropDisabled = props.isDropDisabled,\n    isCombineEnabled = props.isCombineEnabled,\n    snapshot = props.snapshot,\n    useClone = props.useClone,\n    updateViewportMaxScroll = props.updateViewportMaxScroll,\n    getContainerForClone = props.getContainerForClone;\n  var getDroppableRef = useCallback(function () {\n    return droppableRef.current;\n  }, []);\n  var setDroppableRef = useCallback(function (value) {\n    droppableRef.current = value;\n  }, []);\n  var getPlaceholderRef = useCallback(function () {\n    return placeholderRef.current;\n  }, []);\n  var setPlaceholderRef = useCallback(function (value) {\n    placeholderRef.current = value;\n  }, []);\n  useValidation({\n    props: props,\n    getDroppableRef: getDroppableRef,\n    getPlaceholderRef: getPlaceholderRef\n  });\n  var onPlaceholderTransitionEnd = useCallback(function () {\n    if (isMovementAllowed()) {\n      updateViewportMaxScroll({\n        maxScroll: getMaxWindowScroll()\n      });\n    }\n  }, [isMovementAllowed, updateViewportMaxScroll]);\n  useDroppablePublisher({\n    droppableId: droppableId,\n    type: type,\n    mode: mode,\n    direction: direction,\n    isDropDisabled: isDropDisabled,\n    isCombineEnabled: isCombineEnabled,\n    ignoreContainerClipping: ignoreContainerClipping,\n    getDroppableRef: getDroppableRef\n  });\n  var placeholder = React.createElement(AnimateInOut, {\n    on: props.placeholder,\n    shouldAnimate: props.shouldAnimatePlaceholder\n  }, function (_ref) {\n    var onClose = _ref.onClose,\n      data = _ref.data,\n      animate = _ref.animate;\n    return React.createElement(Placeholder$1, {\n      placeholder: data,\n      onClose: onClose,\n      innerRef: setPlaceholderRef,\n      animate: animate,\n      contextId: contextId,\n      onTransitionEnd: onPlaceholderTransitionEnd\n    });\n  });\n  var provided = useMemo(function () {\n    return {\n      innerRef: setDroppableRef,\n      placeholder: placeholder,\n      droppableProps: {\n        'data-rbd-droppable-id': droppableId,\n        'data-rbd-droppable-context-id': contextId\n      }\n    };\n  }, [contextId, droppableId, placeholder, setDroppableRef]);\n  var isUsingCloneFor = useClone ? useClone.dragging.draggableId : null;\n  var droppableContext = useMemo(function () {\n    return {\n      droppableId: droppableId,\n      type: type,\n      isUsingCloneFor: isUsingCloneFor\n    };\n  }, [droppableId, isUsingCloneFor, type]);\n  function getClone() {\n    if (!useClone) {\n      return null;\n    }\n    var dragging = useClone.dragging,\n      render = useClone.render;\n    var node = React.createElement(PrivateDraggable, {\n      draggableId: dragging.draggableId,\n      index: dragging.source.index,\n      isClone: true,\n      isEnabled: true,\n      shouldRespectForcePress: false,\n      canDragInteractiveElements: true\n    }, function (draggableProvided, draggableSnapshot) {\n      return render(draggableProvided, draggableSnapshot, dragging);\n    });\n    return ReactDOM.createPortal(node, getContainerForClone());\n  }\n  return React.createElement(DroppableContext.Provider, {\n    value: droppableContext\n  }, children(provided, snapshot), getClone());\n}\nvar isMatchingType = function isMatchingType(type, critical) {\n  return type === critical.droppable.type;\n};\nvar getDraggable = function getDraggable(critical, dimensions) {\n  return dimensions.draggables[critical.draggable.id];\n};\nvar makeMapStateToProps$1 = function makeMapStateToProps() {\n  var idleWithAnimation = {\n    placeholder: null,\n    shouldAnimatePlaceholder: true,\n    snapshot: {\n      isDraggingOver: false,\n      draggingOverWith: null,\n      draggingFromThisWith: null,\n      isUsingPlaceholder: false\n    },\n    useClone: null\n  };\n  var idleWithoutAnimation = _extends({}, idleWithAnimation, {\n    shouldAnimatePlaceholder: false\n  });\n  var getDraggableRubric = memoizeOne(function (descriptor) {\n    return {\n      draggableId: descriptor.id,\n      type: descriptor.type,\n      source: {\n        index: descriptor.index,\n        droppableId: descriptor.droppableId\n      }\n    };\n  });\n  var getMapProps = memoizeOne(function (id, isEnabled, isDraggingOverForConsumer, isDraggingOverForImpact, dragging, renderClone) {\n    var draggableId = dragging.descriptor.id;\n    var isHome = dragging.descriptor.droppableId === id;\n    if (isHome) {\n      var useClone = renderClone ? {\n        render: renderClone,\n        dragging: getDraggableRubric(dragging.descriptor)\n      } : null;\n      var _snapshot = {\n        isDraggingOver: isDraggingOverForConsumer,\n        draggingOverWith: isDraggingOverForConsumer ? draggableId : null,\n        draggingFromThisWith: draggableId,\n        isUsingPlaceholder: true\n      };\n      return {\n        placeholder: dragging.placeholder,\n        shouldAnimatePlaceholder: false,\n        snapshot: _snapshot,\n        useClone: useClone\n      };\n    }\n    if (!isEnabled) {\n      return idleWithoutAnimation;\n    }\n    if (!isDraggingOverForImpact) {\n      return idleWithAnimation;\n    }\n    var snapshot = {\n      isDraggingOver: isDraggingOverForConsumer,\n      draggingOverWith: draggableId,\n      draggingFromThisWith: null,\n      isUsingPlaceholder: true\n    };\n    return {\n      placeholder: dragging.placeholder,\n      shouldAnimatePlaceholder: true,\n      snapshot: snapshot,\n      useClone: null\n    };\n  });\n  var selector = function selector(state, ownProps) {\n    var id = ownProps.droppableId;\n    var type = ownProps.type;\n    var isEnabled = !ownProps.isDropDisabled;\n    var renderClone = ownProps.renderClone;\n    if (state.isDragging) {\n      var critical = state.critical;\n      if (!isMatchingType(type, critical)) {\n        return idleWithoutAnimation;\n      }\n      var dragging = getDraggable(critical, state.dimensions);\n      var isDraggingOver = whatIsDraggedOver(state.impact) === id;\n      return getMapProps(id, isEnabled, isDraggingOver, isDraggingOver, dragging, renderClone);\n    }\n    if (state.phase === 'DROP_ANIMATING') {\n      var completed = state.completed;\n      if (!isMatchingType(type, completed.critical)) {\n        return idleWithoutAnimation;\n      }\n      var _dragging = getDraggable(completed.critical, state.dimensions);\n      return getMapProps(id, isEnabled, whatIsDraggedOverFromResult(completed.result) === id, whatIsDraggedOver(completed.impact) === id, _dragging, renderClone);\n    }\n    if (state.phase === 'IDLE' && state.completed && !state.shouldFlush) {\n      var _completed = state.completed;\n      if (!isMatchingType(type, _completed.critical)) {\n        return idleWithoutAnimation;\n      }\n      var wasOver = whatIsDraggedOver(_completed.impact) === id;\n      var wasCombining = Boolean(_completed.impact.at && _completed.impact.at.type === 'COMBINE');\n      var isHome = _completed.critical.droppable.id === id;\n      if (wasOver) {\n        return wasCombining ? idleWithAnimation : idleWithoutAnimation;\n      }\n      if (isHome) {\n        return idleWithAnimation;\n      }\n      return idleWithoutAnimation;\n    }\n    return idleWithoutAnimation;\n  };\n  return selector;\n};\nvar mapDispatchToProps$1 = {\n  updateViewportMaxScroll: updateViewportMaxScroll\n};\nfunction getBody() {\n  !document.body ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'document.body is not ready') : invariant(false) : void 0;\n  return document.body;\n}\nvar defaultProps = {\n  mode: 'standard',\n  type: 'DEFAULT',\n  direction: 'vertical',\n  isDropDisabled: false,\n  isCombineEnabled: false,\n  ignoreContainerClipping: false,\n  renderClone: null,\n  getContainerForClone: getBody\n};\nvar ConnectedDroppable = connect(makeMapStateToProps$1, mapDispatchToProps$1, null, {\n  context: StoreContext,\n  pure: true,\n  areStatePropsEqual: isStrictEqual\n})(Droppable);\nConnectedDroppable.defaultProps = defaultProps;\nexport { DragDropContext, PublicDraggable as Draggable, ConnectedDroppable as Droppable, resetServerContext };","map":{"version":3,"names":["React","useLayoutEffect","useEffect","useRef","useState","useContext","useMemo","useCallback","_inheritsLoose","_extends","createStore","createStore$1","applyMiddleware","compose","bindActionCreators","Provider","connect","getRect","expand","offset","withScroll","getBox","createBox","calculateBox","memoizeOne","_Object$values","_Object$keys","rafSchd","_Date$now","_Object$assign","ReactDOM","_Number$isInteger","isProduction","process","env","NODE_ENV","spacesAndTabs","lineStartWithSpaces","clean","value","replace","trim","getDevMessage","message","getFormattedMessage","isDisabledFlag","log","type","_console","window","console","apply","warning","bind","error","noop","getOptions","shared","fromBinding","bindEvents","el","bindings","sharedOptions","unbindings","map","binding","options","addEventListener","eventName","fn","unbind","removeEventListener","unbindAll","forEach","isProduction$1","prefix","RbdInvariant","prototype","toString","invariant","condition","ErrorBoundary","_React$Component","_this","_len","arguments","length","args","Array","_key","call","concat","callbacks","onWindowError","event","getCallbacks","isDragging","tryAbort","err","preventDefault","Error","setCallbacks","_proto","componentDidMount","componentWillUnmount","componentDidCatch","setState","render","props","children","Component","liftInstruction","position","index","onDragStart","start","source","withLocation","destination","isInHomeList","droppableId","startPosition","endPosition","withCombine","id","combine","inHomeList","draggableId","onDragUpdate","update","location","returnedToStart","onDragEnd","result","reason","preset","origin","x","y","add","point1","point2","subtract","isEqual","negate","point","patch","line","otherValue","_ref","distance","Math","sqrt","pow","closest","target","points","min","executeClip","frame","subject","top","max","right","bottom","left","width","height","offsetByPosition","spacing","getCorners","noSpacing","scroll","diff","displacement","increase","axis","withPlaceholder","increasedBy","_extends2","end","clip","shouldClipSubject","pageMarginBox","getSubject","page","scrolled","marginBox","increased","clipped","active","scrollDroppable","droppable","newScroll","scrollable","scrollDiff","initial","scrollDisplacement","current","values","findIndex","list","predicate","i","find","undefined","toArray","slice","toDroppableMap","droppables","reduce","previous","descriptor","toDraggableMap","draggables","toDroppableList","toDraggableList","getDraggablesInsideDroppable","filter","draggable","sort","a","b","tryGetDestination","impact","at","tryGetCombine","removeDraggableFromList","remove","item","moveToNextCombine","isMovingForward","insideDestination","previousImpact","isCombineEnabled","getImpact","all","displaced","closestId","withoutDraggable","last","indexOfClosest","d","proposedIndex","before","isHomeOf","noDisplacedBy","emptyGroups","invisible","visible","noImpact","displacedBy","isWithin","lowerBound","upperBound","isPartiallyVisibleThroughFrame","isWithinVertical","isWithinHorizontal","isContained","isPartiallyVisibleVertically","isPartiallyVisibleHorizontally","isPartiallyContained","isBiggerVertically","isBiggerHorizontally","isTargetBiggerThanFrame","isTargetBiggerOnOneAxis","isTotallyVisibleThroughFrame","vertical","direction","crossAxisLine","size","crossAxisStart","crossAxisEnd","crossAxisSize","horizontal","isTotallyVisibleThroughFrameOnAxis","getDroppableDisplaced","isVisibleInDroppable","isVisibleThroughFrameFn","isVisibleInViewport","viewport","isVisible","toBeDisplaced","withDroppableDisplacement","displacedTarget","isPartiallyVisible","isTotallyVisible","isTotallyVisibleOnAxis","getShouldAnimate","forceShouldAnimate","shouldAnimate","getTarget","expandBy","getDisplacementGroups","afterDragging","groups","push","getIndexOfLastItem","indexOfLastItem","goAtEnd","newIndex","calculateReorderImpact","_ref2","match","withoutDragging","sliceFrom","indexOf","impacted","didStartAfterCritical","afterCritical","Boolean","effected","fromCombine","combineId","combineWith","combineWithIndex","didCombineWithStartAfterCritical","fromReorder","currentIndex","firstIndex","lastIndex","moveToNextIndex","wasAt","_newIndex","getCombinedItemDisplacement","isDisplaced","whenCombining","center","borderBox","displaceBy","distanceFromStartToBorderBoxCenter","box","margin","distanceFromEndToBorderBoxCenter","getCrossAxisBorderBoxCenter","isMoving","goAfter","moveRelativeTo","goBefore","goIntoStart","_ref3","moveInto","contentBox","whenReordering","draggablePage","closestAfter","withDisplacement","getResultWithoutDroppableDisplacement","original","getPageBorderBoxCenterFromImpact","withoutDisplacement","scrollViewport","updated","getDraggables","ids","tryGetVisible","speculativelyIncrease","maxScrollChange","scrolledViewport","scrolledDroppable","withViewportScroll","withDroppableScroll","newImpact","withViewportDisplacement","getClientFromPageBorderBoxCenter","pageBorderBoxCenter","withoutPageScrollChange","client","isTotallyVisibleInNewLocation","newPageBorderBoxCenter","_ref$onlyOnMainAxis","onlyOnMainAxis","changeNeeded","shifted","moveToNextPlace","previousPageBorderBoxCenter","previousClientSelection","isEnabled","isVisibleInNewLocation","clientSelection","scrollJumpRequest","cautious","getKnownActive","rect","getBestCrossAxisDroppable","isBetweenSourceClipped","candidates","activeOfTarget","isBetweenDestinationClipped","first","second","array","contains","isWithinDroppable","getCurrentPageBorderBoxCenter","getCurrentPageBorderBox","getClosestDraggable","sorted","distanceToA","distanceToB","getDisplacedBy","getRequiredGrowthForPlaceholder","placeholderSize","mode","availableSpace","insideDroppable","spaceUsed","sum","dimension","requiredSpace","needsToGrowBy","withMaxScroll","addPlaceholder","requiredGrowth","added","oldFrameMaxScroll","_subject","maxScroll","newFrame","removePlaceholder","_subject2","oldMaxScroll","moveToNewDroppable","proposed","proposedPageBorderBoxCenter","isGoingBeforeTarget","relativeTo","moveCrossAxis","isOver","whatIsDraggedOver","getDroppableOver","moveInDirection","state","isActuallyOver","dimensions","isMainAxisMovementAllowed","home","critical","isMovingOnMainAxis","borderBoxCenter","_state$dimensions","selection","isMovementAllowed","phase","isPositionInFrame","run","getHasOverlap","getFurthestAway","pageBorderBox","startCenter","candidate","getDroppableOver$1","childCenter","isStartContained","isEndContained","offsetRectByPosition","area","getIsDisplaced","atIndex","getReorderImpact","targetRect","pageBorderBoxWithDroppableScroll","targetStart","targetEnd","child","didStartAfterCritical$1","combineThresholdDivisor","getCombineImpact","childRect","childSize","threshold","getDragImpact","pageOffset","destinationId","patchDroppableMap","clearUnusedPlaceholder","now","lastDroppable","recomputePlaceholders","cleaned","patched","forcedClientSelection","forcedDimensions","forcedViewport","forcedImpact","withUpdatedPlaceholders","getDraggables$1","recompute","getClientBorderBoxCenter","refreshSnap","movementMode","needsVisibilityCheck","getHomeLocation","getLiftEffect","insideHome","rawIndex","inVirtualList","patchDimensionMap","records","isTimingsEnabled","key","performance","finish","warn","rounded","toFixed","style","textColor","symbol","offsetDraggable","offset$1","initialWindowScroll","moved","placeholder","getFrame","adjustAdditionsForScrollChanges","additions","updatedDroppables","windowScrollChange","modified","droppableScrollChange","totalChange","timingsKey","publishWhileDraggingInVirtual","_extends3","published","withScrollChange","existing","updatedAdditions","removals","wasOverId","wasOver","_getLiftEffect","onLiftImpact","draggingState","dropPending","isWaiting","isSnapping","postDroppableChange","isEnabledChanging","removeScrollJumpRequest","idle","completed","shouldFlush","reducer","action","_action$payload","payload","isWindowScrollAllowed","every","isFixedOnPage","_result","_clientSelection","_action$payload2","_action$payload3","_id","_target","String","_action$payload4","_id2","_target2","_updated","_newScroll","_viewport","_result2","newState","_action$payload5","dropDuration","newHomeClientOffset","_result3","_completed","beforeInitialCapture","lift","initialPublish","publishWhileDragging","collectionStarting","updateDroppableScroll","updateDroppableIsEnabled","updateDroppableIsCombineEnabled","move","moveByWindowScroll","updateViewportMaxScroll","moveUp","moveDown","moveRight","moveLeft","flush","animateDrop","completeDrop","drop","dropAnimationFinished","checkIndexes","indexes","errors","formatted","hasError","join","validateDimensions","lift$1","marshal","getState","dispatch","next","scrollOptions","shouldPublishImmediately","request","_marshal$startPublish","startPublishing","dragging","dropping","resting","curves","outOfTheWay","opacity","combining","scale","timings","minDropTime","maxDropTime","outOfTheWayTiming","transitions","fluid","snap","duration","timing","moveTo","transforms","isCombining","translate","dropTimeRange","maxDropTimeAtDistance","cancelDropModifier","getDropDuration","distance$1","percentage","withDuration","Number","getNewHomeClientOffset","newClientCenter","getDropImpact","lastImpact","recomputedHomeImpact","didDropInsideDroppable","withoutMovement","drop$1","isWaitingForDrop","_getDropImpact","isAnimationRequired","getWindowScroll","pageXOffset","pageYOffset","getWindowScrollBinding","passive","capture","document","getScrollListener","onWindowScroll","updateScroll","scheduled","isActive","stop","cancel","shouldEnd","scrollListener","store","listener","getExpiringAnnounce","announce","wasCalled","isExpired","timeoutId","setTimeout","clearTimeout","getAsyncMarshal","entries","execute","timerId","_entries$splice","splice","entry","callback","shallow","areLocationsEqual","isCombineEqual","isCriticalEqual","isDraggableEqual","isDroppableEqual","withTimings","getDragStart","responder","data","getDefaultMessage","willExpire","provided","getPublisher","getResponders","asyncMarshal","beforeCapture","onBeforeCapture","beforeStart","onBeforeDragStart","lastCritical","lastLocation","lastCombine","hasCriticalChanged","hasLocationChanged","hasGroupingChanged","abort","responders","publisher","dropAnimationFinish","dropAnimationFlushOnScroll","frameId","clear","cancelAnimationFrame","once","flushDropAnimation","requestAnimationFrame","dimensionMarshalStopper","stopPublishing","focus","isWatching","tryRecordFocus","tryRestoreFocusRecorded","tryShiftRecord","shouldStop","autoScroll","autoScroller","pendingDrop","postActionState","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","dimensionMarshal","focusMarshal","styleMarshal","clean$1","timingKey","createPublisher","registry","staging","collect","_staging","getById","getDimension","getScrollWhileDragging","publish","getMaxScroll","scrollHeight","scrollWidth","adjustedMaxScroll","getDocumentElement","doc","documentElement","getMaxWindowScroll","clientWidth","clientHeight","getViewport","getInitialPublish","windowScroll","getAllByType","getDimensionAndWatchScroll","shouldPublishUpdate","createDimensionMarshal","collection","exists","change","dragStopped","unsubscribe","subscriber","subscribe","canStartDrag","scrollWindow","scrollBy","getScrollableDroppables","getScrollableDroppableOver","maybe","getBestScrollableDroppable","_dimension","config","startFromPercentage","maxScrollAtPercentage","maxPixelScroll","ease","durationDampening","stopDampeningAt","accelerateAt","getDistanceThresholds","container","startScrollingFrom","maxScrollValueAt","thresholds","getPercentage","startOfRange","endOfRange","range","currentInRange","minScroll","getValueFromDistance","distanceToEdge","percentageFromMaxScrollValueAt","percentageFromStartScrollingFrom","ceil","stopAt","dampenValueByTime","proposedScroll","dragStartTime","runTime","betweenAccelerateAtAndStopAtPercentage","getValue","shouldUseTimeDampening","getScrollOnAxis","distanceToEdges","isCloserToEnd","adjustForSizeLimits","isTooBigVertically","isTooBigHorizontally","clean$2","getScroll","required","limited","smallestSigned","getOverlap","getRemainder","targetScroll","overlap","canPartiallyScroll","rawMax","smallestChange","canScrollWindow","getWindowOverlap","canScrollDroppable","getDroppableOverlap","getWindowScrollChange","getDroppableScrollChange","scroll$1","_change","createFluidScroller","scheduleWindowScroll","scheduleDroppableScroll","tryScroll","_dragging","start$1","wasScrollNeeded","fakeScrollCallback","createJumpScroller","moveByOffset","scrollDroppableAsMuchAsItCan","whatTheDroppableCanScroll","remainder","scrollWindowAsMuchAsItCan","whatTheWindowCanScroll","jumpScroller","droppableRemainder","windowRemainder","createAutoScroller","fluidScroller","jumpScroll","scroller","prefix$1","dragHandle","base","contextId","scrollContainer","makeGetSelector","context","attribute","getStyles","rules","property","rule","styles","selector","noPointerEvents","getStyles$1","getSelector","dragHandle$1","grabCursor","always","dropAnimating","draggable$1","transition","userCancel","droppable$1","body","useIsomorphicLayoutEffect","createElement","getHead","head","querySelector","createStyleEl","nonce","setAttribute","useStyleMarshal","alwaysRef","dynamicRef","setDynamicStyle","textContent","setAlwaysStyle","dynamic","appendChild","ref","removeChild","getWindowFromEl","ownerDocument","defaultView","isHtmlElement","HTMLElement","findDragHandle","possible","querySelectorAll","handle","getAttribute","useFocusMarshal","entriesRef","recordRef","restoreFocusFrameRef","isMountedRef","register","unregister","tryGiveFocus","tryGiveFocusTo","activeElement","redirectTo","record","focused","clearFrameOnUnmount","createRegistry","subscribers","cb","notify","findDraggableById","getDraggableById","draggableAPI","uniqueId","findById","findDroppableById","getDroppableById","droppableAPI","useRegistry","unmount","StoreContext","createContext","getBodyElement","visuallyHidden","border","padding","overflow","getId","useAnnouncer","setup","cleanup","getId$1","useLiftInstruction","mount","display","AppContext","peerDependencies","react","semver","getVersion","exec","major","minor","raw","isSatisfied","expected","actual","checkReactVersion","peerDepValue","actualValue","peerDep","suffix","checkDoctype","doctype","name","toLowerCase","publicId","useDev","useHook","useDevSetupWarning","inputs","e","useStartupValidation","version","usePrevious","create","lock","isClaimed","claim","abandon","newLock","release","tryAbandon","tab","enter","escape","space","pageUp","pageDown","arrowLeft","arrowUp","arrowRight","arrowDown","_preventedKeys","preventedKeys","preventStandardKeyEvents","keyCode","supportedEventName","supported","primaryButton","sloppyClickThreshold","isSloppyClickThresholdExceeded","abs","idle$1","getCaptureBindings","getPhase","setPhase","button","clientX","clientY","actions","pending","fluidLift","shouldBlockNextClick","shouldRespectForcePress","useMouseSensor","api","phaseRef","unbindEventsRef","startCaptureBinding","onMouseDown","defaultPrevented","ctrlKey","metaKey","shiftKey","altKey","findClosestDraggableId","tryGetLock","sourceEvent","startPendingDrag","preventForcePressBinding","findOptionsForDraggable","canGetLock","listenForCapture","bindCapturingEvents","_scrollJumpKeys","noop$1","scrollJumpKeys","getDraggingBindings","useKeyboardSensor","onKeyDown","preDrag","isCapturing","snapLift","tryStartCapture","idle$2","timeForLongPress","forcePressThreshold","getWindowBindings","getHandleBindings","hasMoved","_event$touches$","touches","touch","isForcePress","force","shouldRespect","useMouseSensor$1","onTouchStart","longPressTimerId","unbindTarget","unbindWindow","startDragging","webkitHack","useValidateSensorHooks","sensorHooks","previousRef","interactiveTagNames","input","textarea","select","option","optgroup","video","audio","isAnInteractiveElement","parent","hasAnInteractiveTag","tagName","parentElement","isEventInInteractiveElement","getBorderBoxCenterPosition","getBoundingClientRect","isElement","Element","supportedMatchesName","closestPonyfill","closest$1","findClosestDragHandleFromEvent","tryGetClosestDraggableIdFromEvent","findDraggable","_isActive","isLockActive","shouldWarn","canStart","lockAPI","tryStart","forceSensorStop","shouldStart","canDragInteractiveElements","getShouldRespectForcePress","tryDispatch","getAction","tryDispatchWhenDragging","liftActionArgs","move$1","moveUp$1","moveRight$1","moveDown$1","moveLeft$1","abortPreDrag","shouldRelease","defaultSensors","useSensorMarshal","_ref4","customSensors","enableDefaultSensors","useSensors","tryAbandonLock","listenToStore","forceStop","tryReleaseLock","isLockClaimed","createResponders","getStore","lazyRef","App","sensors","lazyStoreRef","lastPropsRef","liftInstructionId","lazyDispatch","marshalCallbacks","tryResetStore","appCallbacks","getCanLift","getIsMovementAllowed","appContext","canLift","instanceCount","resetServerContext","DragDropContext","isEqual$1","isScroll","isAuto","isVisible$1","isEither","overflowX","overflowY","isBoth","isElementScrollable","getComputedStyle","isBodyScrollable","html","htmlStyle","htmlOverflow","getClosestScrollable","checkForNestedScrollContainers","anotherScrollParent","getScroll$1","scrollLeft","scrollTop","getIsFixed","getEnv","closestScrollable","getDroppableDimension","scrollSize","frameClient","paddingBox","getClient","targetRef","isDropDisabled","immediate","delayed","getListenerOptions","useRequiredContext","Context","count","useUniqueId","countRef","getClosestScrollableFromDrag","useDroppablePublisher","whileDraggingRef","publishedDescriptorRef","memoizedUpdateScroll","getClosestScroll","scheduleScrollUpdate","onClosestScroll","getDroppableRef","ignoreContainerClipping","removeAttribute","noop$2","empty","getSize","isAnimatingOpenOnMount","animate","getStyle","boxSizing","marginTop","marginRight","marginBottom","marginLeft","flexShrink","flexGrow","pointerEvents","Placeholder","animateOpenTimerRef","tryClearAnimateOpenTimer","onTransitionEnd","onClose","_useState","setIsAnimatingOpenOnMount","onSizeChangeEnd","propertyName","innerRef","Placeholder$1","memo","DroppableContext","checkIsValidInnerRef","isBoolean","runChecks","checks","check","_boolean","standard","getPlaceholderRef","virtual","hasClone","_ref5","renderClone","hasNoPlaceholder","_ref6","useValidation","AnimateInOut","_React$PureComponent","on","getDerivedStateFromProps","PureComponent","zIndexOptions","getDraggingTransition","shouldAnimateDragMovement","getDraggingOpacity","isDropAnimating","getShouldDraggingAnimate","getDraggingStyle","transform","zIndex","getSecondaryStyle","secondary","shouldAnimateDisplacement","getStyle$1","mapped","getDimension$1","computedStyles","useDraggablePublisher","getDraggableRef","publishedRef","isFirstPublishRef","useValidation$1","getRef","useClonePropValidation","isClone","initialRef","preventHtml5Dnd","Draggable","setRef","_useRequiredContext","_useRequiredContext2","dropAnimationFinishedAction","forPublisher","dragHandleProps","tabIndex","onMoveEnd","draggableProps","rubric","snapshot","isStrictEqual","whatIsDraggedOverFromResult","getCombineWithFromResult","getCombineWithFromImpact","getDraggableSelector","memoizedOffset","getMemoizedSnapshot","draggingOver","dropAnimation","combineTargetFor","getMemoizedProps","ownProps","_draggingOver","_combineWith","curve","getSecondarySnapshot","atRest","getSecondarySelector","getFallback","getProps","ownId","draggingId","visualDisplacement","isAfterCriticalInVirtualList","_offset","makeMapStateToProps","draggingSelector","secondarySelector","mapDispatchToProps","ConnectedDraggable","pure","areStatePropsEqual","PrivateDraggable","droppableContext","isUsingCloneFor","PublicDraggable","isDragDisabled","disableInteractiveElementBlocking","Droppable","droppableRef","placeholderRef","useClone","getContainerForClone","setDroppableRef","setPlaceholderRef","onPlaceholderTransitionEnd","shouldAnimatePlaceholder","droppableProps","getClone","node","draggableProvided","draggableSnapshot","createPortal","isMatchingType","getDraggable","makeMapStateToProps$1","idleWithAnimation","isDraggingOver","draggingOverWith","draggingFromThisWith","isUsingPlaceholder","idleWithoutAnimation","getDraggableRubric","getMapProps","isDraggingOverForConsumer","isDraggingOverForImpact","isHome","_snapshot","wasCombining","mapDispatchToProps$1","getBody","defaultProps","ConnectedDroppable"],"sources":["C:/Users/jedwa/OneDrive/Main/MTU/Spring 2023/CS3141 Team Software Project/CS3141-Team13/CS3141-Team13/Test3/node_modules/react-beautiful-dnd/dist/react-beautiful-dnd.esm.js"],"sourcesContent":["import React, { useLayoutEffect, useEffect, useRef, useState, useContext } from 'react';\r\nimport { useMemo, useCallback } from 'use-memo-one';\r\nimport _inheritsLoose from '@babel/runtime-corejs2/helpers/esm/inheritsLoose';\r\nimport _extends from '@babel/runtime-corejs2/helpers/esm/extends';\r\nimport { createStore as createStore$1, applyMiddleware, compose, bindActionCreators } from 'redux';\r\nimport { Provider, connect } from 'react-redux';\r\nimport { getRect, expand, offset, withScroll, getBox, createBox, calculateBox } from 'css-box-model';\r\nimport memoizeOne from 'memoize-one';\r\nimport _Object$values from '@babel/runtime-corejs2/core-js/object/values';\r\nimport _Object$keys from '@babel/runtime-corejs2/core-js/object/keys';\r\nimport rafSchd from 'raf-schd';\r\nimport _Date$now from '@babel/runtime-corejs2/core-js/date/now';\r\nimport _Object$assign from '@babel/runtime-corejs2/core-js/object/assign';\r\nimport ReactDOM from 'react-dom';\r\nimport _Number$isInteger from '@babel/runtime-corejs2/core-js/number/is-integer';\r\n\r\nvar isProduction = process.env.NODE_ENV === 'production';\r\nvar spacesAndTabs = /[ \\t]{2,}/g;\r\nvar lineStartWithSpaces = /^[ \\t]*/gm;\r\n\r\nvar clean = function clean(value) {\r\n  return value.replace(spacesAndTabs, ' ').replace(lineStartWithSpaces, '').trim();\r\n};\r\n\r\nvar getDevMessage = function getDevMessage(message) {\r\n  return clean(\"\\n  %creact-beautiful-dnd\\n\\n  %c\" + clean(message) + \"\\n\\n  %c\\uD83D\\uDC77\\u200D This is a development only message. It will be removed in production builds.\\n\");\r\n};\r\n\r\nvar getFormattedMessage = function getFormattedMessage(message) {\r\n  return [getDevMessage(message), 'color: #00C584; font-size: 1.2em; font-weight: bold;', 'line-height: 1.5', 'color: #723874;'];\r\n};\r\nvar isDisabledFlag = '__react-beautiful-dnd-disable-dev-warnings';\r\nfunction log(type, message) {\r\n  var _console;\r\n\r\n  if (isProduction) {\r\n    return;\r\n  }\r\n\r\n  if (typeof window !== 'undefined' && window[isDisabledFlag]) {\r\n    return;\r\n  }\r\n\r\n  (_console = console)[type].apply(_console, getFormattedMessage(message));\r\n}\r\nvar warning = log.bind(null, 'warn');\r\nvar error = log.bind(null, 'error');\r\n\r\nfunction noop() {}\r\n\r\nfunction getOptions(shared, fromBinding) {\r\n  return _extends({}, shared, fromBinding);\r\n}\r\n\r\nfunction bindEvents(el, bindings, sharedOptions) {\r\n  var unbindings = bindings.map(function (binding) {\r\n    var options = getOptions(sharedOptions, binding.options);\r\n    el.addEventListener(binding.eventName, binding.fn, options);\r\n    return function unbind() {\r\n      el.removeEventListener(binding.eventName, binding.fn, options);\r\n    };\r\n  });\r\n  return function unbindAll() {\r\n    unbindings.forEach(function (unbind) {\r\n      unbind();\r\n    });\r\n  };\r\n}\r\n\r\nvar isProduction$1 = process.env.NODE_ENV === 'production';\r\nvar prefix = 'Invariant failed';\r\nfunction RbdInvariant(message) {\r\n  this.message = message;\r\n}\r\n\r\nRbdInvariant.prototype.toString = function toString() {\r\n  return this.message;\r\n};\r\n\r\nfunction invariant(condition, message) {\r\n  if (condition) {\r\n    return;\r\n  }\r\n\r\n  if (isProduction$1) {\r\n    throw new RbdInvariant(prefix);\r\n  } else {\r\n    throw new RbdInvariant(prefix + \": \" + (message || ''));\r\n  }\r\n}\r\n\r\nvar ErrorBoundary = function (_React$Component) {\r\n  _inheritsLoose(ErrorBoundary, _React$Component);\r\n\r\n  function ErrorBoundary() {\r\n    var _this;\r\n\r\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\r\n      args[_key] = arguments[_key];\r\n    }\r\n\r\n    _this = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;\r\n    _this.callbacks = null;\r\n    _this.unbind = noop;\r\n\r\n    _this.onWindowError = function (event) {\r\n      var callbacks = _this.getCallbacks();\r\n\r\n      if (callbacks.isDragging()) {\r\n        callbacks.tryAbort();\r\n        process.env.NODE_ENV !== \"production\" ? warning(\"\\n        An error was caught by our window 'error' event listener while a drag was occurring.\\n        The active drag has been aborted.\\n      \") : void 0;\r\n      }\r\n\r\n      var err = event.error;\r\n\r\n      if (err instanceof RbdInvariant) {\r\n        event.preventDefault();\r\n\r\n        if (process.env.NODE_ENV !== 'production') {\r\n          error(err.message);\r\n        }\r\n      }\r\n    };\r\n\r\n    _this.getCallbacks = function () {\r\n      if (!_this.callbacks) {\r\n        throw new Error('Unable to find AppCallbacks in <ErrorBoundary/>');\r\n      }\r\n\r\n      return _this.callbacks;\r\n    };\r\n\r\n    _this.setCallbacks = function (callbacks) {\r\n      _this.callbacks = callbacks;\r\n    };\r\n\r\n    return _this;\r\n  }\r\n\r\n  var _proto = ErrorBoundary.prototype;\r\n\r\n  _proto.componentDidMount = function componentDidMount() {\r\n    this.unbind = bindEvents(window, [{\r\n      eventName: 'error',\r\n      fn: this.onWindowError\r\n    }]);\r\n  };\r\n\r\n  _proto.componentWillUnmount = function componentWillUnmount() {\r\n    this.unbind();\r\n  };\r\n\r\n  _proto.componentDidCatch = function componentDidCatch(err) {\r\n    if (err instanceof RbdInvariant) {\r\n      if (process.env.NODE_ENV !== 'production') {\r\n        error(err.message);\r\n      }\r\n\r\n      this.setState({});\r\n      return;\r\n    }\r\n\r\n    throw err;\r\n  };\r\n\r\n  _proto.render = function render() {\r\n    return this.props.children(this.setCallbacks);\r\n  };\r\n\r\n  return ErrorBoundary;\r\n}(React.Component);\r\n\r\nvar liftInstruction = \"Draggable item. Ensure your screen reader is not in browse mode and then press space bar to lift.\";\r\n\r\nvar position = function position(index) {\r\n  return index + 1;\r\n};\r\n\r\nvar onDragStart = function onDragStart(start) {\r\n  return \"\\n  You have lifted an item in position \" + position(start.source.index) + \".\\n  Use the arrow keys to move, space bar to drop, and escape to cancel.\\n\";\r\n};\r\n\r\nvar withLocation = function withLocation(source, destination) {\r\n  var isInHomeList = source.droppableId === destination.droppableId;\r\n  var startPosition = position(source.index);\r\n  var endPosition = position(destination.index);\r\n\r\n  if (isInHomeList) {\r\n    return \"\\n      You have moved the item from position \" + startPosition + \"\\n      to position \" + endPosition + \"\\n    \";\r\n  }\r\n\r\n  return \"\\n    You have moved the item from position \" + startPosition + \"\\n    in list \" + source.droppableId + \"\\n    to list \" + destination.droppableId + \"\\n    in position \" + endPosition + \"\\n  \";\r\n};\r\n\r\nvar withCombine = function withCombine(id, source, combine) {\r\n  var inHomeList = source.droppableId === combine.droppableId;\r\n\r\n  if (inHomeList) {\r\n    return \"\\n      The item \" + id + \"\\n      has been combined with \" + combine.draggableId;\r\n  }\r\n\r\n  return \"\\n      The item \" + id + \"\\n      in list \" + source.droppableId + \"\\n      has been combined with \" + combine.draggableId + \"\\n      in list \" + combine.droppableId + \"\\n    \";\r\n};\r\n\r\nvar onDragUpdate = function onDragUpdate(update) {\r\n  var location = update.destination;\r\n\r\n  if (location) {\r\n    return withLocation(update.source, location);\r\n  }\r\n\r\n  var combine = update.combine;\r\n\r\n  if (combine) {\r\n    return withCombine(update.draggableId, update.source, combine);\r\n  }\r\n\r\n  return 'You are over an area that cannot be dropped on';\r\n};\r\n\r\nvar returnedToStart = function returnedToStart(source) {\r\n  return \"\\n  The item has returned to its starting position\\n  of \" + position(source.index) + \"\\n\";\r\n};\r\n\r\nvar onDragEnd = function onDragEnd(result) {\r\n  if (result.reason === 'CANCEL') {\r\n    return \"\\n      Movement cancelled.\\n      \" + returnedToStart(result.source) + \"\\n    \";\r\n  }\r\n\r\n  var location = result.destination;\r\n  var combine = result.combine;\r\n\r\n  if (location) {\r\n    return \"\\n      You have dropped the item.\\n      \" + withLocation(result.source, location) + \"\\n    \";\r\n  }\r\n\r\n  if (combine) {\r\n    return \"\\n      You have dropped the item.\\n      \" + withCombine(result.draggableId, result.source, combine) + \"\\n    \";\r\n  }\r\n\r\n  return \"\\n    The item has been dropped while not over a drop area.\\n    \" + returnedToStart(result.source) + \"\\n  \";\r\n};\r\n\r\nvar preset = {\r\n  liftInstruction: liftInstruction,\r\n  onDragStart: onDragStart,\r\n  onDragUpdate: onDragUpdate,\r\n  onDragEnd: onDragEnd\r\n};\r\n\r\nvar origin = {\r\n  x: 0,\r\n  y: 0\r\n};\r\nvar add = function add(point1, point2) {\r\n  return {\r\n    x: point1.x + point2.x,\r\n    y: point1.y + point2.y\r\n  };\r\n};\r\nvar subtract = function subtract(point1, point2) {\r\n  return {\r\n    x: point1.x - point2.x,\r\n    y: point1.y - point2.y\r\n  };\r\n};\r\nvar isEqual = function isEqual(point1, point2) {\r\n  return point1.x === point2.x && point1.y === point2.y;\r\n};\r\nvar negate = function negate(point) {\r\n  return {\r\n    x: point.x !== 0 ? -point.x : 0,\r\n    y: point.y !== 0 ? -point.y : 0\r\n  };\r\n};\r\nvar patch = function patch(line, value, otherValue) {\r\n  var _ref;\r\n\r\n  if (otherValue === void 0) {\r\n    otherValue = 0;\r\n  }\r\n\r\n  return _ref = {}, _ref[line] = value, _ref[line === 'x' ? 'y' : 'x'] = otherValue, _ref;\r\n};\r\nvar distance = function distance(point1, point2) {\r\n  return Math.sqrt(Math.pow(point2.x - point1.x, 2) + Math.pow(point2.y - point1.y, 2));\r\n};\r\nvar closest = function closest(target, points) {\r\n  return Math.min.apply(Math, points.map(function (point) {\r\n    return distance(target, point);\r\n  }));\r\n};\r\nvar apply = function apply(fn) {\r\n  return function (point) {\r\n    return {\r\n      x: fn(point.x),\r\n      y: fn(point.y)\r\n    };\r\n  };\r\n};\r\n\r\nvar executeClip = (function (frame, subject) {\r\n  var result = getRect({\r\n    top: Math.max(subject.top, frame.top),\r\n    right: Math.min(subject.right, frame.right),\r\n    bottom: Math.min(subject.bottom, frame.bottom),\r\n    left: Math.max(subject.left, frame.left)\r\n  });\r\n\r\n  if (result.width <= 0 || result.height <= 0) {\r\n    return null;\r\n  }\r\n\r\n  return result;\r\n});\r\n\r\nvar offsetByPosition = function offsetByPosition(spacing, point) {\r\n  return {\r\n    top: spacing.top + point.y,\r\n    left: spacing.left + point.x,\r\n    bottom: spacing.bottom + point.y,\r\n    right: spacing.right + point.x\r\n  };\r\n};\r\nvar getCorners = function getCorners(spacing) {\r\n  return [{\r\n    x: spacing.left,\r\n    y: spacing.top\r\n  }, {\r\n    x: spacing.right,\r\n    y: spacing.top\r\n  }, {\r\n    x: spacing.left,\r\n    y: spacing.bottom\r\n  }, {\r\n    x: spacing.right,\r\n    y: spacing.bottom\r\n  }];\r\n};\r\nvar noSpacing = {\r\n  top: 0,\r\n  right: 0,\r\n  bottom: 0,\r\n  left: 0\r\n};\r\n\r\nvar scroll = function scroll(target, frame) {\r\n  if (!frame) {\r\n    return target;\r\n  }\r\n\r\n  return offsetByPosition(target, frame.scroll.diff.displacement);\r\n};\r\n\r\nvar increase = function increase(target, axis, withPlaceholder) {\r\n  if (withPlaceholder && withPlaceholder.increasedBy) {\r\n    var _extends2;\r\n\r\n    return _extends({}, target, (_extends2 = {}, _extends2[axis.end] = target[axis.end] + withPlaceholder.increasedBy[axis.line], _extends2));\r\n  }\r\n\r\n  return target;\r\n};\r\n\r\nvar clip = function clip(target, frame) {\r\n  if (frame && frame.shouldClipSubject) {\r\n    return executeClip(frame.pageMarginBox, target);\r\n  }\r\n\r\n  return getRect(target);\r\n};\r\n\r\nvar getSubject = (function (_ref) {\r\n  var page = _ref.page,\r\n      withPlaceholder = _ref.withPlaceholder,\r\n      axis = _ref.axis,\r\n      frame = _ref.frame;\r\n  var scrolled = scroll(page.marginBox, frame);\r\n  var increased = increase(scrolled, axis, withPlaceholder);\r\n  var clipped = clip(increased, frame);\r\n  return {\r\n    page: page,\r\n    withPlaceholder: withPlaceholder,\r\n    active: clipped\r\n  };\r\n});\r\n\r\nvar scrollDroppable = (function (droppable, newScroll) {\r\n  !droppable.frame ? process.env.NODE_ENV !== \"production\" ? invariant(false) : invariant(false) : void 0;\r\n  var scrollable = droppable.frame;\r\n  var scrollDiff = subtract(newScroll, scrollable.scroll.initial);\r\n  var scrollDisplacement = negate(scrollDiff);\r\n\r\n  var frame = _extends({}, scrollable, {\r\n    scroll: {\r\n      initial: scrollable.scroll.initial,\r\n      current: newScroll,\r\n      diff: {\r\n        value: scrollDiff,\r\n        displacement: scrollDisplacement\r\n      },\r\n      max: scrollable.scroll.max\r\n    }\r\n  });\r\n\r\n  var subject = getSubject({\r\n    page: droppable.subject.page,\r\n    withPlaceholder: droppable.subject.withPlaceholder,\r\n    axis: droppable.axis,\r\n    frame: frame\r\n  });\r\n\r\n  var result = _extends({}, droppable, {\r\n    frame: frame,\r\n    subject: subject\r\n  });\r\n\r\n  return result;\r\n});\r\n\r\nfunction values(map) {\r\n  return _Object$values(map);\r\n}\r\nfunction findIndex(list, predicate) {\r\n  if (list.findIndex) {\r\n    return list.findIndex(predicate);\r\n  }\r\n\r\n  for (var i = 0; i < list.length; i++) {\r\n    if (predicate(list[i])) {\r\n      return i;\r\n    }\r\n  }\r\n\r\n  return -1;\r\n}\r\nfunction find(list, predicate) {\r\n  if (list.find) {\r\n    return list.find(predicate);\r\n  }\r\n\r\n  var index = findIndex(list, predicate);\r\n\r\n  if (index !== -1) {\r\n    return list[index];\r\n  }\r\n\r\n  return undefined;\r\n}\r\nfunction toArray(list) {\r\n  return Array.prototype.slice.call(list);\r\n}\r\n\r\nvar toDroppableMap = memoizeOne(function (droppables) {\r\n  return droppables.reduce(function (previous, current) {\r\n    previous[current.descriptor.id] = current;\r\n    return previous;\r\n  }, {});\r\n});\r\nvar toDraggableMap = memoizeOne(function (draggables) {\r\n  return draggables.reduce(function (previous, current) {\r\n    previous[current.descriptor.id] = current;\r\n    return previous;\r\n  }, {});\r\n});\r\nvar toDroppableList = memoizeOne(function (droppables) {\r\n  return values(droppables);\r\n});\r\nvar toDraggableList = memoizeOne(function (draggables) {\r\n  return values(draggables);\r\n});\r\n\r\nvar getDraggablesInsideDroppable = memoizeOne(function (droppableId, draggables) {\r\n  var result = toDraggableList(draggables).filter(function (draggable) {\r\n    return droppableId === draggable.descriptor.droppableId;\r\n  }).sort(function (a, b) {\r\n    return a.descriptor.index - b.descriptor.index;\r\n  });\r\n  return result;\r\n});\r\n\r\nfunction tryGetDestination(impact) {\r\n  if (impact.at && impact.at.type === 'REORDER') {\r\n    return impact.at.destination;\r\n  }\r\n\r\n  return null;\r\n}\r\nfunction tryGetCombine(impact) {\r\n  if (impact.at && impact.at.type === 'COMBINE') {\r\n    return impact.at.combine;\r\n  }\r\n\r\n  return null;\r\n}\r\n\r\nvar removeDraggableFromList = memoizeOne(function (remove, list) {\r\n  return list.filter(function (item) {\r\n    return item.descriptor.id !== remove.descriptor.id;\r\n  });\r\n});\r\n\r\nvar moveToNextCombine = (function (_ref) {\r\n  var isMovingForward = _ref.isMovingForward,\r\n      draggable = _ref.draggable,\r\n      destination = _ref.destination,\r\n      insideDestination = _ref.insideDestination,\r\n      previousImpact = _ref.previousImpact;\r\n\r\n  if (!destination.isCombineEnabled) {\r\n    return null;\r\n  }\r\n\r\n  var location = tryGetDestination(previousImpact);\r\n\r\n  if (!location) {\r\n    return null;\r\n  }\r\n\r\n  function getImpact(target) {\r\n    var at = {\r\n      type: 'COMBINE',\r\n      combine: {\r\n        draggableId: target,\r\n        droppableId: destination.descriptor.id\r\n      }\r\n    };\r\n    return _extends({}, previousImpact, {\r\n      at: at\r\n    });\r\n  }\r\n\r\n  var all = previousImpact.displaced.all;\r\n  var closestId = all.length ? all[0] : null;\r\n\r\n  if (isMovingForward) {\r\n    return closestId ? getImpact(closestId) : null;\r\n  }\r\n\r\n  var withoutDraggable = removeDraggableFromList(draggable, insideDestination);\r\n\r\n  if (!closestId) {\r\n    if (!withoutDraggable.length) {\r\n      return null;\r\n    }\r\n\r\n    var last = withoutDraggable[withoutDraggable.length - 1];\r\n    return getImpact(last.descriptor.id);\r\n  }\r\n\r\n  var indexOfClosest = findIndex(withoutDraggable, function (d) {\r\n    return d.descriptor.id === closestId;\r\n  });\r\n  !(indexOfClosest !== -1) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Could not find displaced item in set') : invariant(false) : void 0;\r\n  var proposedIndex = indexOfClosest - 1;\r\n\r\n  if (proposedIndex < 0) {\r\n    return null;\r\n  }\r\n\r\n  var before = withoutDraggable[proposedIndex];\r\n  return getImpact(before.descriptor.id);\r\n});\r\n\r\nvar isHomeOf = (function (draggable, destination) {\r\n  return draggable.descriptor.droppableId === destination.descriptor.id;\r\n});\r\n\r\nvar noDisplacedBy = {\r\n  point: origin,\r\n  value: 0\r\n};\r\nvar emptyGroups = {\r\n  invisible: {},\r\n  visible: {},\r\n  all: []\r\n};\r\nvar noImpact = {\r\n  displaced: emptyGroups,\r\n  displacedBy: noDisplacedBy,\r\n  at: null\r\n};\r\n\r\nvar isWithin = (function (lowerBound, upperBound) {\r\n  return function (value) {\r\n    return lowerBound <= value && value <= upperBound;\r\n  };\r\n});\r\n\r\nvar isPartiallyVisibleThroughFrame = (function (frame) {\r\n  var isWithinVertical = isWithin(frame.top, frame.bottom);\r\n  var isWithinHorizontal = isWithin(frame.left, frame.right);\r\n  return function (subject) {\r\n    var isContained = isWithinVertical(subject.top) && isWithinVertical(subject.bottom) && isWithinHorizontal(subject.left) && isWithinHorizontal(subject.right);\r\n\r\n    if (isContained) {\r\n      return true;\r\n    }\r\n\r\n    var isPartiallyVisibleVertically = isWithinVertical(subject.top) || isWithinVertical(subject.bottom);\r\n    var isPartiallyVisibleHorizontally = isWithinHorizontal(subject.left) || isWithinHorizontal(subject.right);\r\n    var isPartiallyContained = isPartiallyVisibleVertically && isPartiallyVisibleHorizontally;\r\n\r\n    if (isPartiallyContained) {\r\n      return true;\r\n    }\r\n\r\n    var isBiggerVertically = subject.top < frame.top && subject.bottom > frame.bottom;\r\n    var isBiggerHorizontally = subject.left < frame.left && subject.right > frame.right;\r\n    var isTargetBiggerThanFrame = isBiggerVertically && isBiggerHorizontally;\r\n\r\n    if (isTargetBiggerThanFrame) {\r\n      return true;\r\n    }\r\n\r\n    var isTargetBiggerOnOneAxis = isBiggerVertically && isPartiallyVisibleHorizontally || isBiggerHorizontally && isPartiallyVisibleVertically;\r\n    return isTargetBiggerOnOneAxis;\r\n  };\r\n});\r\n\r\nvar isTotallyVisibleThroughFrame = (function (frame) {\r\n  var isWithinVertical = isWithin(frame.top, frame.bottom);\r\n  var isWithinHorizontal = isWithin(frame.left, frame.right);\r\n  return function (subject) {\r\n    var isContained = isWithinVertical(subject.top) && isWithinVertical(subject.bottom) && isWithinHorizontal(subject.left) && isWithinHorizontal(subject.right);\r\n    return isContained;\r\n  };\r\n});\r\n\r\nvar vertical = {\r\n  direction: 'vertical',\r\n  line: 'y',\r\n  crossAxisLine: 'x',\r\n  start: 'top',\r\n  end: 'bottom',\r\n  size: 'height',\r\n  crossAxisStart: 'left',\r\n  crossAxisEnd: 'right',\r\n  crossAxisSize: 'width'\r\n};\r\nvar horizontal = {\r\n  direction: 'horizontal',\r\n  line: 'x',\r\n  crossAxisLine: 'y',\r\n  start: 'left',\r\n  end: 'right',\r\n  size: 'width',\r\n  crossAxisStart: 'top',\r\n  crossAxisEnd: 'bottom',\r\n  crossAxisSize: 'height'\r\n};\r\n\r\nvar isTotallyVisibleThroughFrameOnAxis = (function (axis) {\r\n  return function (frame) {\r\n    var isWithinVertical = isWithin(frame.top, frame.bottom);\r\n    var isWithinHorizontal = isWithin(frame.left, frame.right);\r\n    return function (subject) {\r\n      if (axis === vertical) {\r\n        return isWithinVertical(subject.top) && isWithinVertical(subject.bottom);\r\n      }\r\n\r\n      return isWithinHorizontal(subject.left) && isWithinHorizontal(subject.right);\r\n    };\r\n  };\r\n});\r\n\r\nvar getDroppableDisplaced = function getDroppableDisplaced(target, destination) {\r\n  var displacement = destination.frame ? destination.frame.scroll.diff.displacement : origin;\r\n  return offsetByPosition(target, displacement);\r\n};\r\n\r\nvar isVisibleInDroppable = function isVisibleInDroppable(target, destination, isVisibleThroughFrameFn) {\r\n  if (!destination.subject.active) {\r\n    return false;\r\n  }\r\n\r\n  return isVisibleThroughFrameFn(destination.subject.active)(target);\r\n};\r\n\r\nvar isVisibleInViewport = function isVisibleInViewport(target, viewport, isVisibleThroughFrameFn) {\r\n  return isVisibleThroughFrameFn(viewport)(target);\r\n};\r\n\r\nvar isVisible = function isVisible(_ref) {\r\n  var toBeDisplaced = _ref.target,\r\n      destination = _ref.destination,\r\n      viewport = _ref.viewport,\r\n      withDroppableDisplacement = _ref.withDroppableDisplacement,\r\n      isVisibleThroughFrameFn = _ref.isVisibleThroughFrameFn;\r\n  var displacedTarget = withDroppableDisplacement ? getDroppableDisplaced(toBeDisplaced, destination) : toBeDisplaced;\r\n  return isVisibleInDroppable(displacedTarget, destination, isVisibleThroughFrameFn) && isVisibleInViewport(displacedTarget, viewport, isVisibleThroughFrameFn);\r\n};\r\n\r\nvar isPartiallyVisible = function isPartiallyVisible(args) {\r\n  return isVisible(_extends({}, args, {\r\n    isVisibleThroughFrameFn: isPartiallyVisibleThroughFrame\r\n  }));\r\n};\r\nvar isTotallyVisible = function isTotallyVisible(args) {\r\n  return isVisible(_extends({}, args, {\r\n    isVisibleThroughFrameFn: isTotallyVisibleThroughFrame\r\n  }));\r\n};\r\nvar isTotallyVisibleOnAxis = function isTotallyVisibleOnAxis(args) {\r\n  return isVisible(_extends({}, args, {\r\n    isVisibleThroughFrameFn: isTotallyVisibleThroughFrameOnAxis(args.destination.axis)\r\n  }));\r\n};\r\n\r\nvar getShouldAnimate = function getShouldAnimate(id, last, forceShouldAnimate) {\r\n  if (typeof forceShouldAnimate === 'boolean') {\r\n    return forceShouldAnimate;\r\n  }\r\n\r\n  if (!last) {\r\n    return true;\r\n  }\r\n\r\n  var invisible = last.invisible,\r\n      visible = last.visible;\r\n\r\n  if (invisible[id]) {\r\n    return false;\r\n  }\r\n\r\n  var previous = visible[id];\r\n  return previous ? previous.shouldAnimate : true;\r\n};\r\n\r\nfunction getTarget(draggable, displacedBy) {\r\n  var marginBox = draggable.page.marginBox;\r\n  var expandBy = {\r\n    top: displacedBy.point.y,\r\n    right: 0,\r\n    bottom: 0,\r\n    left: displacedBy.point.x\r\n  };\r\n  return getRect(expand(marginBox, expandBy));\r\n}\r\n\r\nfunction getDisplacementGroups(_ref) {\r\n  var afterDragging = _ref.afterDragging,\r\n      destination = _ref.destination,\r\n      displacedBy = _ref.displacedBy,\r\n      viewport = _ref.viewport,\r\n      forceShouldAnimate = _ref.forceShouldAnimate,\r\n      last = _ref.last;\r\n  return afterDragging.reduce(function process(groups, draggable) {\r\n    var target = getTarget(draggable, displacedBy);\r\n    var id = draggable.descriptor.id;\r\n    groups.all.push(id);\r\n    var isVisible = isPartiallyVisible({\r\n      target: target,\r\n      destination: destination,\r\n      viewport: viewport,\r\n      withDroppableDisplacement: true\r\n    });\r\n\r\n    if (!isVisible) {\r\n      groups.invisible[draggable.descriptor.id] = true;\r\n      return groups;\r\n    }\r\n\r\n    var shouldAnimate = getShouldAnimate(id, last, forceShouldAnimate);\r\n    var displacement = {\r\n      draggableId: id,\r\n      shouldAnimate: shouldAnimate\r\n    };\r\n    groups.visible[id] = displacement;\r\n    return groups;\r\n  }, {\r\n    all: [],\r\n    visible: {},\r\n    invisible: {}\r\n  });\r\n}\r\n\r\nfunction getIndexOfLastItem(draggables, options) {\r\n  if (!draggables.length) {\r\n    return 0;\r\n  }\r\n\r\n  var indexOfLastItem = draggables[draggables.length - 1].descriptor.index;\r\n  return options.inHomeList ? indexOfLastItem : indexOfLastItem + 1;\r\n}\r\n\r\nfunction goAtEnd(_ref) {\r\n  var insideDestination = _ref.insideDestination,\r\n      inHomeList = _ref.inHomeList,\r\n      displacedBy = _ref.displacedBy,\r\n      destination = _ref.destination;\r\n  var newIndex = getIndexOfLastItem(insideDestination, {\r\n    inHomeList: inHomeList\r\n  });\r\n  return {\r\n    displaced: emptyGroups,\r\n    displacedBy: displacedBy,\r\n    at: {\r\n      type: 'REORDER',\r\n      destination: {\r\n        droppableId: destination.descriptor.id,\r\n        index: newIndex\r\n      }\r\n    }\r\n  };\r\n}\r\n\r\nfunction calculateReorderImpact(_ref2) {\r\n  var draggable = _ref2.draggable,\r\n      insideDestination = _ref2.insideDestination,\r\n      destination = _ref2.destination,\r\n      viewport = _ref2.viewport,\r\n      displacedBy = _ref2.displacedBy,\r\n      last = _ref2.last,\r\n      index = _ref2.index,\r\n      forceShouldAnimate = _ref2.forceShouldAnimate;\r\n  var inHomeList = isHomeOf(draggable, destination);\r\n\r\n  if (index == null) {\r\n    return goAtEnd({\r\n      insideDestination: insideDestination,\r\n      inHomeList: inHomeList,\r\n      displacedBy: displacedBy,\r\n      destination: destination\r\n    });\r\n  }\r\n\r\n  var match = find(insideDestination, function (item) {\r\n    return item.descriptor.index === index;\r\n  });\r\n\r\n  if (!match) {\r\n    return goAtEnd({\r\n      insideDestination: insideDestination,\r\n      inHomeList: inHomeList,\r\n      displacedBy: displacedBy,\r\n      destination: destination\r\n    });\r\n  }\r\n\r\n  var withoutDragging = removeDraggableFromList(draggable, insideDestination);\r\n  var sliceFrom = insideDestination.indexOf(match);\r\n  var impacted = withoutDragging.slice(sliceFrom);\r\n  var displaced = getDisplacementGroups({\r\n    afterDragging: impacted,\r\n    destination: destination,\r\n    displacedBy: displacedBy,\r\n    last: last,\r\n    viewport: viewport.frame,\r\n    forceShouldAnimate: forceShouldAnimate\r\n  });\r\n  return {\r\n    displaced: displaced,\r\n    displacedBy: displacedBy,\r\n    at: {\r\n      type: 'REORDER',\r\n      destination: {\r\n        droppableId: destination.descriptor.id,\r\n        index: index\r\n      }\r\n    }\r\n  };\r\n}\r\n\r\nfunction didStartAfterCritical(draggableId, afterCritical) {\r\n  return Boolean(afterCritical.effected[draggableId]);\r\n}\r\n\r\nvar fromCombine = (function (_ref) {\r\n  var isMovingForward = _ref.isMovingForward,\r\n      destination = _ref.destination,\r\n      draggables = _ref.draggables,\r\n      combine = _ref.combine,\r\n      afterCritical = _ref.afterCritical;\r\n\r\n  if (!destination.isCombineEnabled) {\r\n    return null;\r\n  }\r\n\r\n  var combineId = combine.draggableId;\r\n  var combineWith = draggables[combineId];\r\n  var combineWithIndex = combineWith.descriptor.index;\r\n  var didCombineWithStartAfterCritical = didStartAfterCritical(combineId, afterCritical);\r\n\r\n  if (didCombineWithStartAfterCritical) {\r\n    if (isMovingForward) {\r\n      return combineWithIndex;\r\n    }\r\n\r\n    return combineWithIndex - 1;\r\n  }\r\n\r\n  if (isMovingForward) {\r\n    return combineWithIndex + 1;\r\n  }\r\n\r\n  return combineWithIndex;\r\n});\r\n\r\nvar fromReorder = (function (_ref) {\r\n  var isMovingForward = _ref.isMovingForward,\r\n      isInHomeList = _ref.isInHomeList,\r\n      insideDestination = _ref.insideDestination,\r\n      location = _ref.location;\r\n\r\n  if (!insideDestination.length) {\r\n    return null;\r\n  }\r\n\r\n  var currentIndex = location.index;\r\n  var proposedIndex = isMovingForward ? currentIndex + 1 : currentIndex - 1;\r\n  var firstIndex = insideDestination[0].descriptor.index;\r\n  var lastIndex = insideDestination[insideDestination.length - 1].descriptor.index;\r\n  var upperBound = isInHomeList ? lastIndex : lastIndex + 1;\r\n\r\n  if (proposedIndex < firstIndex) {\r\n    return null;\r\n  }\r\n\r\n  if (proposedIndex > upperBound) {\r\n    return null;\r\n  }\r\n\r\n  return proposedIndex;\r\n});\r\n\r\nvar moveToNextIndex = (function (_ref) {\r\n  var isMovingForward = _ref.isMovingForward,\r\n      isInHomeList = _ref.isInHomeList,\r\n      draggable = _ref.draggable,\r\n      draggables = _ref.draggables,\r\n      destination = _ref.destination,\r\n      insideDestination = _ref.insideDestination,\r\n      previousImpact = _ref.previousImpact,\r\n      viewport = _ref.viewport,\r\n      afterCritical = _ref.afterCritical;\r\n  var wasAt = previousImpact.at;\r\n  !wasAt ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot move in direction without previous impact location') : invariant(false) : void 0;\r\n\r\n  if (wasAt.type === 'REORDER') {\r\n    var _newIndex = fromReorder({\r\n      isMovingForward: isMovingForward,\r\n      isInHomeList: isInHomeList,\r\n      location: wasAt.destination,\r\n      insideDestination: insideDestination\r\n    });\r\n\r\n    if (_newIndex == null) {\r\n      return null;\r\n    }\r\n\r\n    return calculateReorderImpact({\r\n      draggable: draggable,\r\n      insideDestination: insideDestination,\r\n      destination: destination,\r\n      viewport: viewport,\r\n      last: previousImpact.displaced,\r\n      displacedBy: previousImpact.displacedBy,\r\n      index: _newIndex\r\n    });\r\n  }\r\n\r\n  var newIndex = fromCombine({\r\n    isMovingForward: isMovingForward,\r\n    destination: destination,\r\n    displaced: previousImpact.displaced,\r\n    draggables: draggables,\r\n    combine: wasAt.combine,\r\n    afterCritical: afterCritical\r\n  });\r\n\r\n  if (newIndex == null) {\r\n    return null;\r\n  }\r\n\r\n  return calculateReorderImpact({\r\n    draggable: draggable,\r\n    insideDestination: insideDestination,\r\n    destination: destination,\r\n    viewport: viewport,\r\n    last: previousImpact.displaced,\r\n    displacedBy: previousImpact.displacedBy,\r\n    index: newIndex\r\n  });\r\n});\r\n\r\nvar getCombinedItemDisplacement = (function (_ref) {\r\n  var displaced = _ref.displaced,\r\n      afterCritical = _ref.afterCritical,\r\n      combineWith = _ref.combineWith,\r\n      displacedBy = _ref.displacedBy;\r\n  var isDisplaced = Boolean(displaced.visible[combineWith] || displaced.invisible[combineWith]);\r\n\r\n  if (didStartAfterCritical(combineWith, afterCritical)) {\r\n    return isDisplaced ? origin : negate(displacedBy.point);\r\n  }\r\n\r\n  return isDisplaced ? displacedBy.point : origin;\r\n});\r\n\r\nvar whenCombining = (function (_ref) {\r\n  var afterCritical = _ref.afterCritical,\r\n      impact = _ref.impact,\r\n      draggables = _ref.draggables;\r\n  var combine = tryGetCombine(impact);\r\n  !combine ? process.env.NODE_ENV !== \"production\" ? invariant(false) : invariant(false) : void 0;\r\n  var combineWith = combine.draggableId;\r\n  var center = draggables[combineWith].page.borderBox.center;\r\n  var displaceBy = getCombinedItemDisplacement({\r\n    displaced: impact.displaced,\r\n    afterCritical: afterCritical,\r\n    combineWith: combineWith,\r\n    displacedBy: impact.displacedBy\r\n  });\r\n  return add(center, displaceBy);\r\n});\r\n\r\nvar distanceFromStartToBorderBoxCenter = function distanceFromStartToBorderBoxCenter(axis, box) {\r\n  return box.margin[axis.start] + box.borderBox[axis.size] / 2;\r\n};\r\n\r\nvar distanceFromEndToBorderBoxCenter = function distanceFromEndToBorderBoxCenter(axis, box) {\r\n  return box.margin[axis.end] + box.borderBox[axis.size] / 2;\r\n};\r\n\r\nvar getCrossAxisBorderBoxCenter = function getCrossAxisBorderBoxCenter(axis, target, isMoving) {\r\n  return target[axis.crossAxisStart] + isMoving.margin[axis.crossAxisStart] + isMoving.borderBox[axis.crossAxisSize] / 2;\r\n};\r\n\r\nvar goAfter = function goAfter(_ref) {\r\n  var axis = _ref.axis,\r\n      moveRelativeTo = _ref.moveRelativeTo,\r\n      isMoving = _ref.isMoving;\r\n  return patch(axis.line, moveRelativeTo.marginBox[axis.end] + distanceFromStartToBorderBoxCenter(axis, isMoving), getCrossAxisBorderBoxCenter(axis, moveRelativeTo.marginBox, isMoving));\r\n};\r\nvar goBefore = function goBefore(_ref2) {\r\n  var axis = _ref2.axis,\r\n      moveRelativeTo = _ref2.moveRelativeTo,\r\n      isMoving = _ref2.isMoving;\r\n  return patch(axis.line, moveRelativeTo.marginBox[axis.start] - distanceFromEndToBorderBoxCenter(axis, isMoving), getCrossAxisBorderBoxCenter(axis, moveRelativeTo.marginBox, isMoving));\r\n};\r\nvar goIntoStart = function goIntoStart(_ref3) {\r\n  var axis = _ref3.axis,\r\n      moveInto = _ref3.moveInto,\r\n      isMoving = _ref3.isMoving;\r\n  return patch(axis.line, moveInto.contentBox[axis.start] + distanceFromStartToBorderBoxCenter(axis, isMoving), getCrossAxisBorderBoxCenter(axis, moveInto.contentBox, isMoving));\r\n};\r\n\r\nvar whenReordering = (function (_ref) {\r\n  var impact = _ref.impact,\r\n      draggable = _ref.draggable,\r\n      draggables = _ref.draggables,\r\n      droppable = _ref.droppable,\r\n      afterCritical = _ref.afterCritical;\r\n  var insideDestination = getDraggablesInsideDroppable(droppable.descriptor.id, draggables);\r\n  var draggablePage = draggable.page;\r\n  var axis = droppable.axis;\r\n\r\n  if (!insideDestination.length) {\r\n    return goIntoStart({\r\n      axis: axis,\r\n      moveInto: droppable.page,\r\n      isMoving: draggablePage\r\n    });\r\n  }\r\n\r\n  var displaced = impact.displaced,\r\n      displacedBy = impact.displacedBy;\r\n  var closestAfter = displaced.all[0];\r\n\r\n  if (closestAfter) {\r\n    var closest = draggables[closestAfter];\r\n\r\n    if (didStartAfterCritical(closestAfter, afterCritical)) {\r\n      return goBefore({\r\n        axis: axis,\r\n        moveRelativeTo: closest.page,\r\n        isMoving: draggablePage\r\n      });\r\n    }\r\n\r\n    var withDisplacement = offset(closest.page, displacedBy.point);\r\n    return goBefore({\r\n      axis: axis,\r\n      moveRelativeTo: withDisplacement,\r\n      isMoving: draggablePage\r\n    });\r\n  }\r\n\r\n  var last = insideDestination[insideDestination.length - 1];\r\n\r\n  if (last.descriptor.id === draggable.descriptor.id) {\r\n    return draggablePage.borderBox.center;\r\n  }\r\n\r\n  if (didStartAfterCritical(last.descriptor.id, afterCritical)) {\r\n    var page = offset(last.page, negate(afterCritical.displacedBy.point));\r\n    return goAfter({\r\n      axis: axis,\r\n      moveRelativeTo: page,\r\n      isMoving: draggablePage\r\n    });\r\n  }\r\n\r\n  return goAfter({\r\n    axis: axis,\r\n    moveRelativeTo: last.page,\r\n    isMoving: draggablePage\r\n  });\r\n});\r\n\r\nvar withDroppableDisplacement = (function (droppable, point) {\r\n  var frame = droppable.frame;\r\n\r\n  if (!frame) {\r\n    return point;\r\n  }\r\n\r\n  return add(point, frame.scroll.diff.displacement);\r\n});\r\n\r\nvar getResultWithoutDroppableDisplacement = function getResultWithoutDroppableDisplacement(_ref) {\r\n  var impact = _ref.impact,\r\n      draggable = _ref.draggable,\r\n      droppable = _ref.droppable,\r\n      draggables = _ref.draggables,\r\n      afterCritical = _ref.afterCritical;\r\n  var original = draggable.page.borderBox.center;\r\n  var at = impact.at;\r\n\r\n  if (!droppable) {\r\n    return original;\r\n  }\r\n\r\n  if (!at) {\r\n    return original;\r\n  }\r\n\r\n  if (at.type === 'REORDER') {\r\n    return whenReordering({\r\n      impact: impact,\r\n      draggable: draggable,\r\n      draggables: draggables,\r\n      droppable: droppable,\r\n      afterCritical: afterCritical\r\n    });\r\n  }\r\n\r\n  return whenCombining({\r\n    impact: impact,\r\n    draggables: draggables,\r\n    afterCritical: afterCritical\r\n  });\r\n};\r\n\r\nvar getPageBorderBoxCenterFromImpact = (function (args) {\r\n  var withoutDisplacement = getResultWithoutDroppableDisplacement(args);\r\n  var droppable = args.droppable;\r\n  var withDisplacement = droppable ? withDroppableDisplacement(droppable, withoutDisplacement) : withoutDisplacement;\r\n  return withDisplacement;\r\n});\r\n\r\nvar scrollViewport = (function (viewport, newScroll) {\r\n  var diff = subtract(newScroll, viewport.scroll.initial);\r\n  var displacement = negate(diff);\r\n  var frame = getRect({\r\n    top: newScroll.y,\r\n    bottom: newScroll.y + viewport.frame.height,\r\n    left: newScroll.x,\r\n    right: newScroll.x + viewport.frame.width\r\n  });\r\n  var updated = {\r\n    frame: frame,\r\n    scroll: {\r\n      initial: viewport.scroll.initial,\r\n      max: viewport.scroll.max,\r\n      current: newScroll,\r\n      diff: {\r\n        value: diff,\r\n        displacement: displacement\r\n      }\r\n    }\r\n  };\r\n  return updated;\r\n});\r\n\r\nfunction getDraggables(ids, draggables) {\r\n  return ids.map(function (id) {\r\n    return draggables[id];\r\n  });\r\n}\r\n\r\nfunction tryGetVisible(id, groups) {\r\n  for (var i = 0; i < groups.length; i++) {\r\n    var displacement = groups[i].visible[id];\r\n\r\n    if (displacement) {\r\n      return displacement;\r\n    }\r\n  }\r\n\r\n  return null;\r\n}\r\n\r\nvar speculativelyIncrease = (function (_ref) {\r\n  var impact = _ref.impact,\r\n      viewport = _ref.viewport,\r\n      destination = _ref.destination,\r\n      draggables = _ref.draggables,\r\n      maxScrollChange = _ref.maxScrollChange;\r\n  var scrolledViewport = scrollViewport(viewport, add(viewport.scroll.current, maxScrollChange));\r\n  var scrolledDroppable = destination.frame ? scrollDroppable(destination, add(destination.frame.scroll.current, maxScrollChange)) : destination;\r\n  var last = impact.displaced;\r\n  var withViewportScroll = getDisplacementGroups({\r\n    afterDragging: getDraggables(last.all, draggables),\r\n    destination: destination,\r\n    displacedBy: impact.displacedBy,\r\n    viewport: scrolledViewport.frame,\r\n    last: last,\r\n    forceShouldAnimate: false\r\n  });\r\n  var withDroppableScroll = getDisplacementGroups({\r\n    afterDragging: getDraggables(last.all, draggables),\r\n    destination: scrolledDroppable,\r\n    displacedBy: impact.displacedBy,\r\n    viewport: viewport.frame,\r\n    last: last,\r\n    forceShouldAnimate: false\r\n  });\r\n  var invisible = {};\r\n  var visible = {};\r\n  var groups = [last, withViewportScroll, withDroppableScroll];\r\n  last.all.forEach(function (id) {\r\n    var displacement = tryGetVisible(id, groups);\r\n\r\n    if (displacement) {\r\n      visible[id] = displacement;\r\n      return;\r\n    }\r\n\r\n    invisible[id] = true;\r\n  });\r\n\r\n  var newImpact = _extends({}, impact, {\r\n    displaced: {\r\n      all: last.all,\r\n      invisible: invisible,\r\n      visible: visible\r\n    }\r\n  });\r\n\r\n  return newImpact;\r\n});\r\n\r\nvar withViewportDisplacement = (function (viewport, point) {\r\n  return add(viewport.scroll.diff.displacement, point);\r\n});\r\n\r\nvar getClientFromPageBorderBoxCenter = (function (_ref) {\r\n  var pageBorderBoxCenter = _ref.pageBorderBoxCenter,\r\n      draggable = _ref.draggable,\r\n      viewport = _ref.viewport;\r\n  var withoutPageScrollChange = withViewportDisplacement(viewport, pageBorderBoxCenter);\r\n  var offset = subtract(withoutPageScrollChange, draggable.page.borderBox.center);\r\n  return add(draggable.client.borderBox.center, offset);\r\n});\r\n\r\nvar isTotallyVisibleInNewLocation = (function (_ref) {\r\n  var draggable = _ref.draggable,\r\n      destination = _ref.destination,\r\n      newPageBorderBoxCenter = _ref.newPageBorderBoxCenter,\r\n      viewport = _ref.viewport,\r\n      withDroppableDisplacement = _ref.withDroppableDisplacement,\r\n      _ref$onlyOnMainAxis = _ref.onlyOnMainAxis,\r\n      onlyOnMainAxis = _ref$onlyOnMainAxis === void 0 ? false : _ref$onlyOnMainAxis;\r\n  var changeNeeded = subtract(newPageBorderBoxCenter, draggable.page.borderBox.center);\r\n  var shifted = offsetByPosition(draggable.page.borderBox, changeNeeded);\r\n  var args = {\r\n    target: shifted,\r\n    destination: destination,\r\n    withDroppableDisplacement: withDroppableDisplacement,\r\n    viewport: viewport\r\n  };\r\n  return onlyOnMainAxis ? isTotallyVisibleOnAxis(args) : isTotallyVisible(args);\r\n});\r\n\r\nvar moveToNextPlace = (function (_ref) {\r\n  var isMovingForward = _ref.isMovingForward,\r\n      draggable = _ref.draggable,\r\n      destination = _ref.destination,\r\n      draggables = _ref.draggables,\r\n      previousImpact = _ref.previousImpact,\r\n      viewport = _ref.viewport,\r\n      previousPageBorderBoxCenter = _ref.previousPageBorderBoxCenter,\r\n      previousClientSelection = _ref.previousClientSelection,\r\n      afterCritical = _ref.afterCritical;\r\n\r\n  if (!destination.isEnabled) {\r\n    return null;\r\n  }\r\n\r\n  var insideDestination = getDraggablesInsideDroppable(destination.descriptor.id, draggables);\r\n  var isInHomeList = isHomeOf(draggable, destination);\r\n  var impact = moveToNextCombine({\r\n    isMovingForward: isMovingForward,\r\n    draggable: draggable,\r\n    destination: destination,\r\n    insideDestination: insideDestination,\r\n    previousImpact: previousImpact\r\n  }) || moveToNextIndex({\r\n    isMovingForward: isMovingForward,\r\n    isInHomeList: isInHomeList,\r\n    draggable: draggable,\r\n    draggables: draggables,\r\n    destination: destination,\r\n    insideDestination: insideDestination,\r\n    previousImpact: previousImpact,\r\n    viewport: viewport,\r\n    afterCritical: afterCritical\r\n  });\r\n\r\n  if (!impact) {\r\n    return null;\r\n  }\r\n\r\n  var pageBorderBoxCenter = getPageBorderBoxCenterFromImpact({\r\n    impact: impact,\r\n    draggable: draggable,\r\n    droppable: destination,\r\n    draggables: draggables,\r\n    afterCritical: afterCritical\r\n  });\r\n  var isVisibleInNewLocation = isTotallyVisibleInNewLocation({\r\n    draggable: draggable,\r\n    destination: destination,\r\n    newPageBorderBoxCenter: pageBorderBoxCenter,\r\n    viewport: viewport.frame,\r\n    withDroppableDisplacement: false,\r\n    onlyOnMainAxis: true\r\n  });\r\n\r\n  if (isVisibleInNewLocation) {\r\n    var clientSelection = getClientFromPageBorderBoxCenter({\r\n      pageBorderBoxCenter: pageBorderBoxCenter,\r\n      draggable: draggable,\r\n      viewport: viewport\r\n    });\r\n    return {\r\n      clientSelection: clientSelection,\r\n      impact: impact,\r\n      scrollJumpRequest: null\r\n    };\r\n  }\r\n\r\n  var distance = subtract(pageBorderBoxCenter, previousPageBorderBoxCenter);\r\n  var cautious = speculativelyIncrease({\r\n    impact: impact,\r\n    viewport: viewport,\r\n    destination: destination,\r\n    draggables: draggables,\r\n    maxScrollChange: distance\r\n  });\r\n  return {\r\n    clientSelection: previousClientSelection,\r\n    impact: cautious,\r\n    scrollJumpRequest: distance\r\n  };\r\n});\r\n\r\nvar getKnownActive = function getKnownActive(droppable) {\r\n  var rect = droppable.subject.active;\r\n  !rect ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot get clipped area from droppable') : invariant(false) : void 0;\r\n  return rect;\r\n};\r\n\r\nvar getBestCrossAxisDroppable = (function (_ref) {\r\n  var isMovingForward = _ref.isMovingForward,\r\n      pageBorderBoxCenter = _ref.pageBorderBoxCenter,\r\n      source = _ref.source,\r\n      droppables = _ref.droppables,\r\n      viewport = _ref.viewport;\r\n  var active = source.subject.active;\r\n\r\n  if (!active) {\r\n    return null;\r\n  }\r\n\r\n  var axis = source.axis;\r\n  var isBetweenSourceClipped = isWithin(active[axis.start], active[axis.end]);\r\n  var candidates = toDroppableList(droppables).filter(function (droppable) {\r\n    return droppable !== source;\r\n  }).filter(function (droppable) {\r\n    return droppable.isEnabled;\r\n  }).filter(function (droppable) {\r\n    return Boolean(droppable.subject.active);\r\n  }).filter(function (droppable) {\r\n    return isPartiallyVisibleThroughFrame(viewport.frame)(getKnownActive(droppable));\r\n  }).filter(function (droppable) {\r\n    var activeOfTarget = getKnownActive(droppable);\r\n\r\n    if (isMovingForward) {\r\n      return active[axis.crossAxisEnd] < activeOfTarget[axis.crossAxisEnd];\r\n    }\r\n\r\n    return activeOfTarget[axis.crossAxisStart] < active[axis.crossAxisStart];\r\n  }).filter(function (droppable) {\r\n    var activeOfTarget = getKnownActive(droppable);\r\n    var isBetweenDestinationClipped = isWithin(activeOfTarget[axis.start], activeOfTarget[axis.end]);\r\n    return isBetweenSourceClipped(activeOfTarget[axis.start]) || isBetweenSourceClipped(activeOfTarget[axis.end]) || isBetweenDestinationClipped(active[axis.start]) || isBetweenDestinationClipped(active[axis.end]);\r\n  }).sort(function (a, b) {\r\n    var first = getKnownActive(a)[axis.crossAxisStart];\r\n    var second = getKnownActive(b)[axis.crossAxisStart];\r\n\r\n    if (isMovingForward) {\r\n      return first - second;\r\n    }\r\n\r\n    return second - first;\r\n  }).filter(function (droppable, index, array) {\r\n    return getKnownActive(droppable)[axis.crossAxisStart] === getKnownActive(array[0])[axis.crossAxisStart];\r\n  });\r\n\r\n  if (!candidates.length) {\r\n    return null;\r\n  }\r\n\r\n  if (candidates.length === 1) {\r\n    return candidates[0];\r\n  }\r\n\r\n  var contains = candidates.filter(function (droppable) {\r\n    var isWithinDroppable = isWithin(getKnownActive(droppable)[axis.start], getKnownActive(droppable)[axis.end]);\r\n    return isWithinDroppable(pageBorderBoxCenter[axis.line]);\r\n  });\r\n\r\n  if (contains.length === 1) {\r\n    return contains[0];\r\n  }\r\n\r\n  if (contains.length > 1) {\r\n    return contains.sort(function (a, b) {\r\n      return getKnownActive(a)[axis.start] - getKnownActive(b)[axis.start];\r\n    })[0];\r\n  }\r\n\r\n  return candidates.sort(function (a, b) {\r\n    var first = closest(pageBorderBoxCenter, getCorners(getKnownActive(a)));\r\n    var second = closest(pageBorderBoxCenter, getCorners(getKnownActive(b)));\r\n\r\n    if (first !== second) {\r\n      return first - second;\r\n    }\r\n\r\n    return getKnownActive(a)[axis.start] - getKnownActive(b)[axis.start];\r\n  })[0];\r\n});\r\n\r\nvar getCurrentPageBorderBoxCenter = function getCurrentPageBorderBoxCenter(draggable, afterCritical) {\r\n  var original = draggable.page.borderBox.center;\r\n  return didStartAfterCritical(draggable.descriptor.id, afterCritical) ? subtract(original, afterCritical.displacedBy.point) : original;\r\n};\r\nvar getCurrentPageBorderBox = function getCurrentPageBorderBox(draggable, afterCritical) {\r\n  var original = draggable.page.borderBox;\r\n  return didStartAfterCritical(draggable.descriptor.id, afterCritical) ? offsetByPosition(original, negate(afterCritical.displacedBy.point)) : original;\r\n};\r\n\r\nvar getClosestDraggable = (function (_ref) {\r\n  var pageBorderBoxCenter = _ref.pageBorderBoxCenter,\r\n      viewport = _ref.viewport,\r\n      destination = _ref.destination,\r\n      insideDestination = _ref.insideDestination,\r\n      afterCritical = _ref.afterCritical;\r\n  var sorted = insideDestination.filter(function (draggable) {\r\n    return isTotallyVisible({\r\n      target: getCurrentPageBorderBox(draggable, afterCritical),\r\n      destination: destination,\r\n      viewport: viewport.frame,\r\n      withDroppableDisplacement: true\r\n    });\r\n  }).sort(function (a, b) {\r\n    var distanceToA = distance(pageBorderBoxCenter, withDroppableDisplacement(destination, getCurrentPageBorderBoxCenter(a, afterCritical)));\r\n    var distanceToB = distance(pageBorderBoxCenter, withDroppableDisplacement(destination, getCurrentPageBorderBoxCenter(b, afterCritical)));\r\n\r\n    if (distanceToA < distanceToB) {\r\n      return -1;\r\n    }\r\n\r\n    if (distanceToB < distanceToA) {\r\n      return 1;\r\n    }\r\n\r\n    return a.descriptor.index - b.descriptor.index;\r\n  });\r\n  return sorted[0] || null;\r\n});\r\n\r\nvar getDisplacedBy = memoizeOne(function getDisplacedBy(axis, displaceBy) {\r\n  var displacement = displaceBy[axis.line];\r\n  return {\r\n    value: displacement,\r\n    point: patch(axis.line, displacement)\r\n  };\r\n});\r\n\r\nvar getRequiredGrowthForPlaceholder = function getRequiredGrowthForPlaceholder(droppable, placeholderSize, draggables) {\r\n  var axis = droppable.axis;\r\n\r\n  if (droppable.descriptor.mode === 'virtual') {\r\n    return patch(axis.line, placeholderSize[axis.line]);\r\n  }\r\n\r\n  var availableSpace = droppable.subject.page.contentBox[axis.size];\r\n  var insideDroppable = getDraggablesInsideDroppable(droppable.descriptor.id, draggables);\r\n  var spaceUsed = insideDroppable.reduce(function (sum, dimension) {\r\n    return sum + dimension.client.marginBox[axis.size];\r\n  }, 0);\r\n  var requiredSpace = spaceUsed + placeholderSize[axis.line];\r\n  var needsToGrowBy = requiredSpace - availableSpace;\r\n\r\n  if (needsToGrowBy <= 0) {\r\n    return null;\r\n  }\r\n\r\n  return patch(axis.line, needsToGrowBy);\r\n};\r\n\r\nvar withMaxScroll = function withMaxScroll(frame, max) {\r\n  return _extends({}, frame, {\r\n    scroll: _extends({}, frame.scroll, {\r\n      max: max\r\n    })\r\n  });\r\n};\r\n\r\nvar addPlaceholder = function addPlaceholder(droppable, draggable, draggables) {\r\n  var frame = droppable.frame;\r\n  !!isHomeOf(draggable, droppable) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Should not add placeholder space to home list') : invariant(false) : void 0;\r\n  !!droppable.subject.withPlaceholder ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot add placeholder size to a subject when it already has one') : invariant(false) : void 0;\r\n  var placeholderSize = getDisplacedBy(droppable.axis, draggable.displaceBy).point;\r\n  var requiredGrowth = getRequiredGrowthForPlaceholder(droppable, placeholderSize, draggables);\r\n  var added = {\r\n    placeholderSize: placeholderSize,\r\n    increasedBy: requiredGrowth,\r\n    oldFrameMaxScroll: droppable.frame ? droppable.frame.scroll.max : null\r\n  };\r\n\r\n  if (!frame) {\r\n    var _subject = getSubject({\r\n      page: droppable.subject.page,\r\n      withPlaceholder: added,\r\n      axis: droppable.axis,\r\n      frame: droppable.frame\r\n    });\r\n\r\n    return _extends({}, droppable, {\r\n      subject: _subject\r\n    });\r\n  }\r\n\r\n  var maxScroll = requiredGrowth ? add(frame.scroll.max, requiredGrowth) : frame.scroll.max;\r\n  var newFrame = withMaxScroll(frame, maxScroll);\r\n  var subject = getSubject({\r\n    page: droppable.subject.page,\r\n    withPlaceholder: added,\r\n    axis: droppable.axis,\r\n    frame: newFrame\r\n  });\r\n  return _extends({}, droppable, {\r\n    subject: subject,\r\n    frame: newFrame\r\n  });\r\n};\r\nvar removePlaceholder = function removePlaceholder(droppable) {\r\n  var added = droppable.subject.withPlaceholder;\r\n  !added ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot remove placeholder form subject when there was none') : invariant(false) : void 0;\r\n  var frame = droppable.frame;\r\n\r\n  if (!frame) {\r\n    var _subject2 = getSubject({\r\n      page: droppable.subject.page,\r\n      axis: droppable.axis,\r\n      frame: null,\r\n      withPlaceholder: null\r\n    });\r\n\r\n    return _extends({}, droppable, {\r\n      subject: _subject2\r\n    });\r\n  }\r\n\r\n  var oldMaxScroll = added.oldFrameMaxScroll;\r\n  !oldMaxScroll ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Expected droppable with frame to have old max frame scroll when removing placeholder') : invariant(false) : void 0;\r\n  var newFrame = withMaxScroll(frame, oldMaxScroll);\r\n  var subject = getSubject({\r\n    page: droppable.subject.page,\r\n    axis: droppable.axis,\r\n    frame: newFrame,\r\n    withPlaceholder: null\r\n  });\r\n  return _extends({}, droppable, {\r\n    subject: subject,\r\n    frame: newFrame\r\n  });\r\n};\r\n\r\nvar moveToNewDroppable = (function (_ref) {\r\n  var previousPageBorderBoxCenter = _ref.previousPageBorderBoxCenter,\r\n      moveRelativeTo = _ref.moveRelativeTo,\r\n      insideDestination = _ref.insideDestination,\r\n      draggable = _ref.draggable,\r\n      draggables = _ref.draggables,\r\n      destination = _ref.destination,\r\n      viewport = _ref.viewport,\r\n      afterCritical = _ref.afterCritical;\r\n\r\n  if (!moveRelativeTo) {\r\n    if (insideDestination.length) {\r\n      return null;\r\n    }\r\n\r\n    var proposed = {\r\n      displaced: emptyGroups,\r\n      displacedBy: noDisplacedBy,\r\n      at: {\r\n        type: 'REORDER',\r\n        destination: {\r\n          droppableId: destination.descriptor.id,\r\n          index: 0\r\n        }\r\n      }\r\n    };\r\n    var proposedPageBorderBoxCenter = getPageBorderBoxCenterFromImpact({\r\n      impact: proposed,\r\n      draggable: draggable,\r\n      droppable: destination,\r\n      draggables: draggables,\r\n      afterCritical: afterCritical\r\n    });\r\n    var withPlaceholder = isHomeOf(draggable, destination) ? destination : addPlaceholder(destination, draggable, draggables);\r\n    var isVisibleInNewLocation = isTotallyVisibleInNewLocation({\r\n      draggable: draggable,\r\n      destination: withPlaceholder,\r\n      newPageBorderBoxCenter: proposedPageBorderBoxCenter,\r\n      viewport: viewport.frame,\r\n      withDroppableDisplacement: false,\r\n      onlyOnMainAxis: true\r\n    });\r\n    return isVisibleInNewLocation ? proposed : null;\r\n  }\r\n\r\n  var isGoingBeforeTarget = Boolean(previousPageBorderBoxCenter[destination.axis.line] <= moveRelativeTo.page.borderBox.center[destination.axis.line]);\r\n\r\n  var proposedIndex = function () {\r\n    var relativeTo = moveRelativeTo.descriptor.index;\r\n\r\n    if (moveRelativeTo.descriptor.id === draggable.descriptor.id) {\r\n      return relativeTo;\r\n    }\r\n\r\n    if (isGoingBeforeTarget) {\r\n      return relativeTo;\r\n    }\r\n\r\n    return relativeTo + 1;\r\n  }();\r\n\r\n  var displacedBy = getDisplacedBy(destination.axis, draggable.displaceBy);\r\n  return calculateReorderImpact({\r\n    draggable: draggable,\r\n    insideDestination: insideDestination,\r\n    destination: destination,\r\n    viewport: viewport,\r\n    displacedBy: displacedBy,\r\n    last: emptyGroups,\r\n    index: proposedIndex\r\n  });\r\n});\r\n\r\nvar moveCrossAxis = (function (_ref) {\r\n  var isMovingForward = _ref.isMovingForward,\r\n      previousPageBorderBoxCenter = _ref.previousPageBorderBoxCenter,\r\n      draggable = _ref.draggable,\r\n      isOver = _ref.isOver,\r\n      draggables = _ref.draggables,\r\n      droppables = _ref.droppables,\r\n      viewport = _ref.viewport,\r\n      afterCritical = _ref.afterCritical;\r\n  var destination = getBestCrossAxisDroppable({\r\n    isMovingForward: isMovingForward,\r\n    pageBorderBoxCenter: previousPageBorderBoxCenter,\r\n    source: isOver,\r\n    droppables: droppables,\r\n    viewport: viewport\r\n  });\r\n\r\n  if (!destination) {\r\n    return null;\r\n  }\r\n\r\n  var insideDestination = getDraggablesInsideDroppable(destination.descriptor.id, draggables);\r\n  var moveRelativeTo = getClosestDraggable({\r\n    pageBorderBoxCenter: previousPageBorderBoxCenter,\r\n    viewport: viewport,\r\n    destination: destination,\r\n    insideDestination: insideDestination,\r\n    afterCritical: afterCritical\r\n  });\r\n  var impact = moveToNewDroppable({\r\n    previousPageBorderBoxCenter: previousPageBorderBoxCenter,\r\n    destination: destination,\r\n    draggable: draggable,\r\n    draggables: draggables,\r\n    moveRelativeTo: moveRelativeTo,\r\n    insideDestination: insideDestination,\r\n    viewport: viewport,\r\n    afterCritical: afterCritical\r\n  });\r\n\r\n  if (!impact) {\r\n    return null;\r\n  }\r\n\r\n  var pageBorderBoxCenter = getPageBorderBoxCenterFromImpact({\r\n    impact: impact,\r\n    draggable: draggable,\r\n    droppable: destination,\r\n    draggables: draggables,\r\n    afterCritical: afterCritical\r\n  });\r\n  var clientSelection = getClientFromPageBorderBoxCenter({\r\n    pageBorderBoxCenter: pageBorderBoxCenter,\r\n    draggable: draggable,\r\n    viewport: viewport\r\n  });\r\n  return {\r\n    clientSelection: clientSelection,\r\n    impact: impact,\r\n    scrollJumpRequest: null\r\n  };\r\n});\r\n\r\nvar whatIsDraggedOver = (function (impact) {\r\n  var at = impact.at;\r\n\r\n  if (!at) {\r\n    return null;\r\n  }\r\n\r\n  if (at.type === 'REORDER') {\r\n    return at.destination.droppableId;\r\n  }\r\n\r\n  return at.combine.droppableId;\r\n});\r\n\r\nvar getDroppableOver = function getDroppableOver(impact, droppables) {\r\n  var id = whatIsDraggedOver(impact);\r\n  return id ? droppables[id] : null;\r\n};\r\n\r\nvar moveInDirection = (function (_ref) {\r\n  var state = _ref.state,\r\n      type = _ref.type;\r\n  var isActuallyOver = getDroppableOver(state.impact, state.dimensions.droppables);\r\n  var isMainAxisMovementAllowed = Boolean(isActuallyOver);\r\n  var home = state.dimensions.droppables[state.critical.droppable.id];\r\n  var isOver = isActuallyOver || home;\r\n  var direction = isOver.axis.direction;\r\n  var isMovingOnMainAxis = direction === 'vertical' && (type === 'MOVE_UP' || type === 'MOVE_DOWN') || direction === 'horizontal' && (type === 'MOVE_LEFT' || type === 'MOVE_RIGHT');\r\n\r\n  if (isMovingOnMainAxis && !isMainAxisMovementAllowed) {\r\n    return null;\r\n  }\r\n\r\n  var isMovingForward = type === 'MOVE_DOWN' || type === 'MOVE_RIGHT';\r\n  var draggable = state.dimensions.draggables[state.critical.draggable.id];\r\n  var previousPageBorderBoxCenter = state.current.page.borderBoxCenter;\r\n  var _state$dimensions = state.dimensions,\r\n      draggables = _state$dimensions.draggables,\r\n      droppables = _state$dimensions.droppables;\r\n  return isMovingOnMainAxis ? moveToNextPlace({\r\n    isMovingForward: isMovingForward,\r\n    previousPageBorderBoxCenter: previousPageBorderBoxCenter,\r\n    draggable: draggable,\r\n    destination: isOver,\r\n    draggables: draggables,\r\n    viewport: state.viewport,\r\n    previousClientSelection: state.current.client.selection,\r\n    previousImpact: state.impact,\r\n    afterCritical: state.afterCritical\r\n  }) : moveCrossAxis({\r\n    isMovingForward: isMovingForward,\r\n    previousPageBorderBoxCenter: previousPageBorderBoxCenter,\r\n    draggable: draggable,\r\n    isOver: isOver,\r\n    draggables: draggables,\r\n    droppables: droppables,\r\n    viewport: state.viewport,\r\n    afterCritical: state.afterCritical\r\n  });\r\n});\r\n\r\nfunction isMovementAllowed(state) {\r\n  return state.phase === 'DRAGGING' || state.phase === 'COLLECTING';\r\n}\r\n\r\nfunction isPositionInFrame(frame) {\r\n  var isWithinVertical = isWithin(frame.top, frame.bottom);\r\n  var isWithinHorizontal = isWithin(frame.left, frame.right);\r\n  return function run(point) {\r\n    return isWithinVertical(point.y) && isWithinHorizontal(point.x);\r\n  };\r\n}\r\n\r\nfunction getHasOverlap(first, second) {\r\n  return first.left < second.right && first.right > second.left && first.top < second.bottom && first.bottom > second.top;\r\n}\r\n\r\nfunction getFurthestAway(_ref) {\r\n  var pageBorderBox = _ref.pageBorderBox,\r\n      draggable = _ref.draggable,\r\n      candidates = _ref.candidates;\r\n  var startCenter = draggable.page.borderBox.center;\r\n  var sorted = candidates.map(function (candidate) {\r\n    var axis = candidate.axis;\r\n    var target = patch(candidate.axis.line, pageBorderBox.center[axis.line], candidate.page.borderBox.center[axis.crossAxisLine]);\r\n    return {\r\n      id: candidate.descriptor.id,\r\n      distance: distance(startCenter, target)\r\n    };\r\n  }).sort(function (a, b) {\r\n    return b.distance - a.distance;\r\n  });\r\n  return sorted[0] ? sorted[0].id : null;\r\n}\r\n\r\nfunction getDroppableOver$1(_ref2) {\r\n  var pageBorderBox = _ref2.pageBorderBox,\r\n      draggable = _ref2.draggable,\r\n      droppables = _ref2.droppables;\r\n  var candidates = toDroppableList(droppables).filter(function (item) {\r\n    if (!item.isEnabled) {\r\n      return false;\r\n    }\r\n\r\n    var active = item.subject.active;\r\n\r\n    if (!active) {\r\n      return false;\r\n    }\r\n\r\n    if (!getHasOverlap(pageBorderBox, active)) {\r\n      return false;\r\n    }\r\n\r\n    if (isPositionInFrame(active)(pageBorderBox.center)) {\r\n      return true;\r\n    }\r\n\r\n    var axis = item.axis;\r\n    var childCenter = active.center[axis.crossAxisLine];\r\n    var crossAxisStart = pageBorderBox[axis.crossAxisStart];\r\n    var crossAxisEnd = pageBorderBox[axis.crossAxisEnd];\r\n    var isContained = isWithin(active[axis.crossAxisStart], active[axis.crossAxisEnd]);\r\n    var isStartContained = isContained(crossAxisStart);\r\n    var isEndContained = isContained(crossAxisEnd);\r\n\r\n    if (!isStartContained && !isEndContained) {\r\n      return true;\r\n    }\r\n\r\n    if (isStartContained) {\r\n      return crossAxisStart < childCenter;\r\n    }\r\n\r\n    return crossAxisEnd > childCenter;\r\n  });\r\n\r\n  if (!candidates.length) {\r\n    return null;\r\n  }\r\n\r\n  if (candidates.length === 1) {\r\n    return candidates[0].descriptor.id;\r\n  }\r\n\r\n  return getFurthestAway({\r\n    pageBorderBox: pageBorderBox,\r\n    draggable: draggable,\r\n    candidates: candidates\r\n  });\r\n}\r\n\r\nvar offsetRectByPosition = function offsetRectByPosition(rect, point) {\r\n  return getRect(offsetByPosition(rect, point));\r\n};\r\n\r\nvar withDroppableScroll = (function (droppable, area) {\r\n  var frame = droppable.frame;\r\n\r\n  if (!frame) {\r\n    return area;\r\n  }\r\n\r\n  return offsetRectByPosition(area, frame.scroll.diff.value);\r\n});\r\n\r\nfunction getIsDisplaced(_ref) {\r\n  var displaced = _ref.displaced,\r\n      id = _ref.id;\r\n  return Boolean(displaced.visible[id] || displaced.invisible[id]);\r\n}\r\n\r\nfunction atIndex(_ref) {\r\n  var draggable = _ref.draggable,\r\n      closest = _ref.closest,\r\n      inHomeList = _ref.inHomeList;\r\n\r\n  if (!closest) {\r\n    return null;\r\n  }\r\n\r\n  if (!inHomeList) {\r\n    return closest.descriptor.index;\r\n  }\r\n\r\n  if (closest.descriptor.index > draggable.descriptor.index) {\r\n    return closest.descriptor.index - 1;\r\n  }\r\n\r\n  return closest.descriptor.index;\r\n}\r\n\r\nvar getReorderImpact = (function (_ref2) {\r\n  var targetRect = _ref2.pageBorderBoxWithDroppableScroll,\r\n      draggable = _ref2.draggable,\r\n      destination = _ref2.destination,\r\n      insideDestination = _ref2.insideDestination,\r\n      last = _ref2.last,\r\n      viewport = _ref2.viewport,\r\n      afterCritical = _ref2.afterCritical;\r\n  var axis = destination.axis;\r\n  var displacedBy = getDisplacedBy(destination.axis, draggable.displaceBy);\r\n  var displacement = displacedBy.value;\r\n  var targetStart = targetRect[axis.start];\r\n  var targetEnd = targetRect[axis.end];\r\n  var withoutDragging = removeDraggableFromList(draggable, insideDestination);\r\n  var closest = find(withoutDragging, function (child) {\r\n    var id = child.descriptor.id;\r\n    var childCenter = child.page.borderBox.center[axis.line];\r\n    var didStartAfterCritical$1 = didStartAfterCritical(id, afterCritical);\r\n    var isDisplaced = getIsDisplaced({\r\n      displaced: last,\r\n      id: id\r\n    });\r\n\r\n    if (didStartAfterCritical$1) {\r\n      if (isDisplaced) {\r\n        return targetEnd <= childCenter;\r\n      }\r\n\r\n      return targetStart < childCenter - displacement;\r\n    }\r\n\r\n    if (isDisplaced) {\r\n      return targetEnd <= childCenter + displacement;\r\n    }\r\n\r\n    return targetStart < childCenter;\r\n  });\r\n  var newIndex = atIndex({\r\n    draggable: draggable,\r\n    closest: closest,\r\n    inHomeList: isHomeOf(draggable, destination)\r\n  });\r\n  return calculateReorderImpact({\r\n    draggable: draggable,\r\n    insideDestination: insideDestination,\r\n    destination: destination,\r\n    viewport: viewport,\r\n    last: last,\r\n    displacedBy: displacedBy,\r\n    index: newIndex\r\n  });\r\n});\r\n\r\nvar combineThresholdDivisor = 4;\r\nvar getCombineImpact = (function (_ref) {\r\n  var draggable = _ref.draggable,\r\n      targetRect = _ref.pageBorderBoxWithDroppableScroll,\r\n      previousImpact = _ref.previousImpact,\r\n      destination = _ref.destination,\r\n      insideDestination = _ref.insideDestination,\r\n      afterCritical = _ref.afterCritical;\r\n\r\n  if (!destination.isCombineEnabled) {\r\n    return null;\r\n  }\r\n\r\n  var axis = destination.axis;\r\n  var displacedBy = getDisplacedBy(destination.axis, draggable.displaceBy);\r\n  var displacement = displacedBy.value;\r\n  var targetStart = targetRect[axis.start];\r\n  var targetEnd = targetRect[axis.end];\r\n  var withoutDragging = removeDraggableFromList(draggable, insideDestination);\r\n  var combineWith = find(withoutDragging, function (child) {\r\n    var id = child.descriptor.id;\r\n    var childRect = child.page.borderBox;\r\n    var childSize = childRect[axis.size];\r\n    var threshold = childSize / combineThresholdDivisor;\r\n    var didStartAfterCritical$1 = didStartAfterCritical(id, afterCritical);\r\n    var isDisplaced = getIsDisplaced({\r\n      displaced: previousImpact.displaced,\r\n      id: id\r\n    });\r\n\r\n    if (didStartAfterCritical$1) {\r\n      if (isDisplaced) {\r\n        return targetEnd > childRect[axis.start] + threshold && targetEnd < childRect[axis.end] - threshold;\r\n      }\r\n\r\n      return targetStart > childRect[axis.start] - displacement + threshold && targetStart < childRect[axis.end] - displacement - threshold;\r\n    }\r\n\r\n    if (isDisplaced) {\r\n      return targetEnd > childRect[axis.start] + displacement + threshold && targetEnd < childRect[axis.end] + displacement - threshold;\r\n    }\r\n\r\n    return targetStart > childRect[axis.start] + threshold && targetStart < childRect[axis.end] - threshold;\r\n  });\r\n\r\n  if (!combineWith) {\r\n    return null;\r\n  }\r\n\r\n  var impact = {\r\n    displacedBy: displacedBy,\r\n    displaced: previousImpact.displaced,\r\n    at: {\r\n      type: 'COMBINE',\r\n      combine: {\r\n        draggableId: combineWith.descriptor.id,\r\n        droppableId: destination.descriptor.id\r\n      }\r\n    }\r\n  };\r\n  return impact;\r\n});\r\n\r\nvar getDragImpact = (function (_ref) {\r\n  var pageOffset = _ref.pageOffset,\r\n      draggable = _ref.draggable,\r\n      draggables = _ref.draggables,\r\n      droppables = _ref.droppables,\r\n      previousImpact = _ref.previousImpact,\r\n      viewport = _ref.viewport,\r\n      afterCritical = _ref.afterCritical;\r\n  var pageBorderBox = offsetRectByPosition(draggable.page.borderBox, pageOffset);\r\n  var destinationId = getDroppableOver$1({\r\n    pageBorderBox: pageBorderBox,\r\n    draggable: draggable,\r\n    droppables: droppables\r\n  });\r\n\r\n  if (!destinationId) {\r\n    return noImpact;\r\n  }\r\n\r\n  var destination = droppables[destinationId];\r\n  var insideDestination = getDraggablesInsideDroppable(destination.descriptor.id, draggables);\r\n  var pageBorderBoxWithDroppableScroll = withDroppableScroll(destination, pageBorderBox);\r\n  return getCombineImpact({\r\n    pageBorderBoxWithDroppableScroll: pageBorderBoxWithDroppableScroll,\r\n    draggable: draggable,\r\n    previousImpact: previousImpact,\r\n    destination: destination,\r\n    insideDestination: insideDestination,\r\n    afterCritical: afterCritical\r\n  }) || getReorderImpact({\r\n    pageBorderBoxWithDroppableScroll: pageBorderBoxWithDroppableScroll,\r\n    draggable: draggable,\r\n    destination: destination,\r\n    insideDestination: insideDestination,\r\n    last: previousImpact.displaced,\r\n    viewport: viewport,\r\n    afterCritical: afterCritical\r\n  });\r\n});\r\n\r\nvar patchDroppableMap = (function (droppables, updated) {\r\n  var _extends2;\r\n\r\n  return _extends({}, droppables, (_extends2 = {}, _extends2[updated.descriptor.id] = updated, _extends2));\r\n});\r\n\r\nvar clearUnusedPlaceholder = function clearUnusedPlaceholder(_ref) {\r\n  var previousImpact = _ref.previousImpact,\r\n      impact = _ref.impact,\r\n      droppables = _ref.droppables;\r\n  var last = whatIsDraggedOver(previousImpact);\r\n  var now = whatIsDraggedOver(impact);\r\n\r\n  if (!last) {\r\n    return droppables;\r\n  }\r\n\r\n  if (last === now) {\r\n    return droppables;\r\n  }\r\n\r\n  var lastDroppable = droppables[last];\r\n\r\n  if (!lastDroppable.subject.withPlaceholder) {\r\n    return droppables;\r\n  }\r\n\r\n  var updated = removePlaceholder(lastDroppable);\r\n  return patchDroppableMap(droppables, updated);\r\n};\r\n\r\nvar recomputePlaceholders = (function (_ref2) {\r\n  var draggable = _ref2.draggable,\r\n      draggables = _ref2.draggables,\r\n      droppables = _ref2.droppables,\r\n      previousImpact = _ref2.previousImpact,\r\n      impact = _ref2.impact;\r\n  var cleaned = clearUnusedPlaceholder({\r\n    previousImpact: previousImpact,\r\n    impact: impact,\r\n    droppables: droppables\r\n  });\r\n  var isOver = whatIsDraggedOver(impact);\r\n\r\n  if (!isOver) {\r\n    return cleaned;\r\n  }\r\n\r\n  var droppable = droppables[isOver];\r\n\r\n  if (isHomeOf(draggable, droppable)) {\r\n    return cleaned;\r\n  }\r\n\r\n  if (droppable.subject.withPlaceholder) {\r\n    return cleaned;\r\n  }\r\n\r\n  var patched = addPlaceholder(droppable, draggable, draggables);\r\n  return patchDroppableMap(cleaned, patched);\r\n});\r\n\r\nvar update = (function (_ref) {\r\n  var state = _ref.state,\r\n      forcedClientSelection = _ref.clientSelection,\r\n      forcedDimensions = _ref.dimensions,\r\n      forcedViewport = _ref.viewport,\r\n      forcedImpact = _ref.impact,\r\n      scrollJumpRequest = _ref.scrollJumpRequest;\r\n  var viewport = forcedViewport || state.viewport;\r\n  var dimensions = forcedDimensions || state.dimensions;\r\n  var clientSelection = forcedClientSelection || state.current.client.selection;\r\n  var offset = subtract(clientSelection, state.initial.client.selection);\r\n  var client = {\r\n    offset: offset,\r\n    selection: clientSelection,\r\n    borderBoxCenter: add(state.initial.client.borderBoxCenter, offset)\r\n  };\r\n  var page = {\r\n    selection: add(client.selection, viewport.scroll.current),\r\n    borderBoxCenter: add(client.borderBoxCenter, viewport.scroll.current),\r\n    offset: add(client.offset, viewport.scroll.diff.value)\r\n  };\r\n  var current = {\r\n    client: client,\r\n    page: page\r\n  };\r\n\r\n  if (state.phase === 'COLLECTING') {\r\n    return _extends({\r\n      phase: 'COLLECTING'\r\n    }, state, {\r\n      dimensions: dimensions,\r\n      viewport: viewport,\r\n      current: current\r\n    });\r\n  }\r\n\r\n  var draggable = dimensions.draggables[state.critical.draggable.id];\r\n  var newImpact = forcedImpact || getDragImpact({\r\n    pageOffset: page.offset,\r\n    draggable: draggable,\r\n    draggables: dimensions.draggables,\r\n    droppables: dimensions.droppables,\r\n    previousImpact: state.impact,\r\n    viewport: viewport,\r\n    afterCritical: state.afterCritical\r\n  });\r\n  var withUpdatedPlaceholders = recomputePlaceholders({\r\n    draggable: draggable,\r\n    impact: newImpact,\r\n    previousImpact: state.impact,\r\n    draggables: dimensions.draggables,\r\n    droppables: dimensions.droppables\r\n  });\r\n\r\n  var result = _extends({}, state, {\r\n    current: current,\r\n    dimensions: {\r\n      draggables: dimensions.draggables,\r\n      droppables: withUpdatedPlaceholders\r\n    },\r\n    impact: newImpact,\r\n    viewport: viewport,\r\n    scrollJumpRequest: scrollJumpRequest || null,\r\n    forceShouldAnimate: scrollJumpRequest ? false : null\r\n  });\r\n\r\n  return result;\r\n});\r\n\r\nfunction getDraggables$1(ids, draggables) {\r\n  return ids.map(function (id) {\r\n    return draggables[id];\r\n  });\r\n}\r\n\r\nvar recompute = (function (_ref) {\r\n  var impact = _ref.impact,\r\n      viewport = _ref.viewport,\r\n      draggables = _ref.draggables,\r\n      destination = _ref.destination,\r\n      forceShouldAnimate = _ref.forceShouldAnimate;\r\n  var last = impact.displaced;\r\n  var afterDragging = getDraggables$1(last.all, draggables);\r\n  var displaced = getDisplacementGroups({\r\n    afterDragging: afterDragging,\r\n    destination: destination,\r\n    displacedBy: impact.displacedBy,\r\n    viewport: viewport.frame,\r\n    forceShouldAnimate: forceShouldAnimate,\r\n    last: last\r\n  });\r\n  return _extends({}, impact, {\r\n    displaced: displaced\r\n  });\r\n});\r\n\r\nvar getClientBorderBoxCenter = (function (_ref) {\r\n  var impact = _ref.impact,\r\n      draggable = _ref.draggable,\r\n      droppable = _ref.droppable,\r\n      draggables = _ref.draggables,\r\n      viewport = _ref.viewport,\r\n      afterCritical = _ref.afterCritical;\r\n  var pageBorderBoxCenter = getPageBorderBoxCenterFromImpact({\r\n    impact: impact,\r\n    draggable: draggable,\r\n    draggables: draggables,\r\n    droppable: droppable,\r\n    afterCritical: afterCritical\r\n  });\r\n  return getClientFromPageBorderBoxCenter({\r\n    pageBorderBoxCenter: pageBorderBoxCenter,\r\n    draggable: draggable,\r\n    viewport: viewport\r\n  });\r\n});\r\n\r\nvar refreshSnap = (function (_ref) {\r\n  var state = _ref.state,\r\n      forcedDimensions = _ref.dimensions,\r\n      forcedViewport = _ref.viewport;\r\n  !(state.movementMode === 'SNAP') ? process.env.NODE_ENV !== \"production\" ? invariant(false) : invariant(false) : void 0;\r\n  var needsVisibilityCheck = state.impact;\r\n  var viewport = forcedViewport || state.viewport;\r\n  var dimensions = forcedDimensions || state.dimensions;\r\n  var draggables = dimensions.draggables,\r\n      droppables = dimensions.droppables;\r\n  var draggable = draggables[state.critical.draggable.id];\r\n  var isOver = whatIsDraggedOver(needsVisibilityCheck);\r\n  !isOver ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Must be over a destination in SNAP movement mode') : invariant(false) : void 0;\r\n  var destination = droppables[isOver];\r\n  var impact = recompute({\r\n    impact: needsVisibilityCheck,\r\n    viewport: viewport,\r\n    destination: destination,\r\n    draggables: draggables\r\n  });\r\n  var clientSelection = getClientBorderBoxCenter({\r\n    impact: impact,\r\n    draggable: draggable,\r\n    droppable: destination,\r\n    draggables: draggables,\r\n    viewport: viewport,\r\n    afterCritical: state.afterCritical\r\n  });\r\n  return update({\r\n    impact: impact,\r\n    clientSelection: clientSelection,\r\n    state: state,\r\n    dimensions: dimensions,\r\n    viewport: viewport\r\n  });\r\n});\r\n\r\nvar getHomeLocation = (function (descriptor) {\r\n  return {\r\n    index: descriptor.index,\r\n    droppableId: descriptor.droppableId\r\n  };\r\n});\r\n\r\nvar getLiftEffect = (function (_ref) {\r\n  var draggable = _ref.draggable,\r\n      home = _ref.home,\r\n      draggables = _ref.draggables,\r\n      viewport = _ref.viewport;\r\n  var displacedBy = getDisplacedBy(home.axis, draggable.displaceBy);\r\n  var insideHome = getDraggablesInsideDroppable(home.descriptor.id, draggables);\r\n  var rawIndex = insideHome.indexOf(draggable);\r\n  !(rawIndex !== -1) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Expected draggable to be inside home list') : invariant(false) : void 0;\r\n  var afterDragging = insideHome.slice(rawIndex + 1);\r\n  var effected = afterDragging.reduce(function (previous, item) {\r\n    previous[item.descriptor.id] = true;\r\n    return previous;\r\n  }, {});\r\n  var afterCritical = {\r\n    inVirtualList: home.descriptor.mode === 'virtual',\r\n    displacedBy: displacedBy,\r\n    effected: effected\r\n  };\r\n  var displaced = getDisplacementGroups({\r\n    afterDragging: afterDragging,\r\n    destination: home,\r\n    displacedBy: displacedBy,\r\n    last: null,\r\n    viewport: viewport.frame,\r\n    forceShouldAnimate: false\r\n  });\r\n  var impact = {\r\n    displaced: displaced,\r\n    displacedBy: displacedBy,\r\n    at: {\r\n      type: 'REORDER',\r\n      destination: getHomeLocation(draggable.descriptor)\r\n    }\r\n  };\r\n  return {\r\n    impact: impact,\r\n    afterCritical: afterCritical\r\n  };\r\n});\r\n\r\nvar patchDimensionMap = (function (dimensions, updated) {\r\n  return {\r\n    draggables: dimensions.draggables,\r\n    droppables: patchDroppableMap(dimensions.droppables, updated)\r\n  };\r\n});\r\n\r\nvar records = {};\r\nvar isEnabled = false;\r\n\r\nvar isTimingsEnabled = function isTimingsEnabled() {\r\n  return isEnabled;\r\n};\r\nvar start = function start(key) {\r\n  if (process.env.NODE_ENV !== 'production') {\r\n    if (!isTimingsEnabled()) {\r\n      return;\r\n    }\r\n\r\n    var now = performance.now();\r\n    records[key] = now;\r\n  }\r\n};\r\nvar finish = function finish(key) {\r\n  if (process.env.NODE_ENV !== 'production') {\r\n    if (!isTimingsEnabled()) {\r\n      return;\r\n    }\r\n\r\n    var now = performance.now();\r\n    var previous = records[key];\r\n\r\n    if (!previous) {\r\n      console.warn('cannot finish timing as no previous time found', key);\r\n      return;\r\n    }\r\n\r\n    var result = now - previous;\r\n    var rounded = result.toFixed(2);\r\n\r\n    var style = function () {\r\n      if (result < 12) {\r\n        return {\r\n          textColor: 'green',\r\n          symbol: ''\r\n        };\r\n      }\r\n\r\n      if (result < 40) {\r\n        return {\r\n          textColor: 'orange',\r\n          symbol: ''\r\n        };\r\n      }\r\n\r\n      return {\r\n        textColor: 'red',\r\n        symbol: ''\r\n      };\r\n    }();\r\n\r\n    console.log(style.symbol + \" %cTiming %c\" + rounded + \" %cms %c\" + key, 'color: blue; font-weight: bold;', \"color: \" + style.textColor + \"; font-size: 1.1em;\", 'color: grey;', 'color: purple; font-weight: bold;');\r\n  }\r\n};\r\n\r\nvar offsetDraggable = (function (_ref) {\r\n  var draggable = _ref.draggable,\r\n      offset$1 = _ref.offset,\r\n      initialWindowScroll = _ref.initialWindowScroll;\r\n  var client = offset(draggable.client, offset$1);\r\n  var page = withScroll(client, initialWindowScroll);\r\n\r\n  var moved = _extends({}, draggable, {\r\n    placeholder: _extends({}, draggable.placeholder, {\r\n      client: client\r\n    }),\r\n    client: client,\r\n    page: page\r\n  });\r\n\r\n  return moved;\r\n});\r\n\r\nvar getFrame = (function (droppable) {\r\n  var frame = droppable.frame;\r\n  !frame ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Expected Droppable to have a frame') : invariant(false) : void 0;\r\n  return frame;\r\n});\r\n\r\nvar adjustAdditionsForScrollChanges = (function (_ref) {\r\n  var additions = _ref.additions,\r\n      updatedDroppables = _ref.updatedDroppables,\r\n      viewport = _ref.viewport;\r\n  var windowScrollChange = viewport.scroll.diff.value;\r\n  return additions.map(function (draggable) {\r\n    var droppableId = draggable.descriptor.droppableId;\r\n    var modified = updatedDroppables[droppableId];\r\n    var frame = getFrame(modified);\r\n    var droppableScrollChange = frame.scroll.diff.value;\r\n    var totalChange = add(windowScrollChange, droppableScrollChange);\r\n    var moved = offsetDraggable({\r\n      draggable: draggable,\r\n      offset: totalChange,\r\n      initialWindowScroll: viewport.scroll.initial\r\n    });\r\n    return moved;\r\n  });\r\n});\r\n\r\nvar timingsKey = 'Processing dynamic changes';\r\nvar publishWhileDraggingInVirtual = (function (_ref) {\r\n  var _extends2, _extends3;\r\n\r\n  var state = _ref.state,\r\n      published = _ref.published;\r\n  start(timingsKey);\r\n  var withScrollChange = published.modified.map(function (update) {\r\n    var existing = state.dimensions.droppables[update.droppableId];\r\n    var scrolled = scrollDroppable(existing, update.scroll);\r\n    return scrolled;\r\n  });\r\n\r\n  var droppables = _extends({}, state.dimensions.droppables, toDroppableMap(withScrollChange));\r\n\r\n  var updatedAdditions = toDraggableMap(adjustAdditionsForScrollChanges({\r\n    additions: published.additions,\r\n    updatedDroppables: droppables,\r\n    viewport: state.viewport\r\n  }));\r\n\r\n  var draggables = _extends({}, state.dimensions.draggables, updatedAdditions);\r\n\r\n  published.removals.forEach(function (id) {\r\n    delete draggables[id];\r\n  });\r\n  var dimensions = {\r\n    droppables: droppables,\r\n    draggables: draggables\r\n  };\r\n  var wasOverId = whatIsDraggedOver(state.impact);\r\n  var wasOver = wasOverId ? dimensions.droppables[wasOverId] : null;\r\n  var draggable = dimensions.draggables[state.critical.draggable.id];\r\n  var home = dimensions.droppables[state.critical.droppable.id];\r\n\r\n  var _getLiftEffect = getLiftEffect({\r\n    draggable: draggable,\r\n    home: home,\r\n    draggables: draggables,\r\n    viewport: state.viewport\r\n  }),\r\n      onLiftImpact = _getLiftEffect.impact,\r\n      afterCritical = _getLiftEffect.afterCritical;\r\n\r\n  var previousImpact = wasOver && wasOver.isCombineEnabled ? state.impact : onLiftImpact;\r\n  var impact = getDragImpact({\r\n    pageOffset: state.current.page.offset,\r\n    draggable: dimensions.draggables[state.critical.draggable.id],\r\n    draggables: dimensions.draggables,\r\n    droppables: dimensions.droppables,\r\n    previousImpact: previousImpact,\r\n    viewport: state.viewport,\r\n    afterCritical: afterCritical\r\n  });\r\n  finish(timingsKey);\r\n\r\n  var draggingState = _extends({\r\n    phase: 'DRAGGING'\r\n  }, state, (_extends2 = {}, _extends2[\"phase\"] = 'DRAGGING', _extends2.impact = impact, _extends2.onLiftImpact = onLiftImpact, _extends2.dimensions = dimensions, _extends2.afterCritical = afterCritical, _extends2.forceShouldAnimate = false, _extends2));\r\n\r\n  if (state.phase === 'COLLECTING') {\r\n    return draggingState;\r\n  }\r\n\r\n  var dropPending = _extends({\r\n    phase: 'DROP_PENDING'\r\n  }, draggingState, (_extends3 = {}, _extends3[\"phase\"] = 'DROP_PENDING', _extends3.reason = state.reason, _extends3.isWaiting = false, _extends3));\r\n\r\n  return dropPending;\r\n});\r\n\r\nvar isSnapping = function isSnapping(state) {\r\n  return state.movementMode === 'SNAP';\r\n};\r\n\r\nvar postDroppableChange = function postDroppableChange(state, updated, isEnabledChanging) {\r\n  var dimensions = patchDimensionMap(state.dimensions, updated);\r\n\r\n  if (!isSnapping(state) || isEnabledChanging) {\r\n    return update({\r\n      state: state,\r\n      dimensions: dimensions\r\n    });\r\n  }\r\n\r\n  return refreshSnap({\r\n    state: state,\r\n    dimensions: dimensions\r\n  });\r\n};\r\n\r\nfunction removeScrollJumpRequest(state) {\r\n  if (state.isDragging && state.movementMode === 'SNAP') {\r\n    return _extends({\r\n      phase: 'DRAGGING'\r\n    }, state, {\r\n      scrollJumpRequest: null\r\n    });\r\n  }\r\n\r\n  return state;\r\n}\r\n\r\nvar idle = {\r\n  phase: 'IDLE',\r\n  completed: null,\r\n  shouldFlush: false\r\n};\r\nvar reducer = (function (state, action) {\r\n  if (state === void 0) {\r\n    state = idle;\r\n  }\r\n\r\n  if (action.type === 'FLUSH') {\r\n    return _extends({}, idle, {\r\n      shouldFlush: true\r\n    });\r\n  }\r\n\r\n  if (action.type === 'INITIAL_PUBLISH') {\r\n    !(state.phase === 'IDLE') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'INITIAL_PUBLISH must come after a IDLE phase') : invariant(false) : void 0;\r\n    var _action$payload = action.payload,\r\n        critical = _action$payload.critical,\r\n        clientSelection = _action$payload.clientSelection,\r\n        viewport = _action$payload.viewport,\r\n        dimensions = _action$payload.dimensions,\r\n        movementMode = _action$payload.movementMode;\r\n    var draggable = dimensions.draggables[critical.draggable.id];\r\n    var home = dimensions.droppables[critical.droppable.id];\r\n    var client = {\r\n      selection: clientSelection,\r\n      borderBoxCenter: draggable.client.borderBox.center,\r\n      offset: origin\r\n    };\r\n    var initial = {\r\n      client: client,\r\n      page: {\r\n        selection: add(client.selection, viewport.scroll.initial),\r\n        borderBoxCenter: add(client.selection, viewport.scroll.initial),\r\n        offset: add(client.selection, viewport.scroll.diff.value)\r\n      }\r\n    };\r\n    var isWindowScrollAllowed = toDroppableList(dimensions.droppables).every(function (item) {\r\n      return !item.isFixedOnPage;\r\n    });\r\n\r\n    var _getLiftEffect = getLiftEffect({\r\n      draggable: draggable,\r\n      home: home,\r\n      draggables: dimensions.draggables,\r\n      viewport: viewport\r\n    }),\r\n        impact = _getLiftEffect.impact,\r\n        afterCritical = _getLiftEffect.afterCritical;\r\n\r\n    var result = {\r\n      phase: 'DRAGGING',\r\n      isDragging: true,\r\n      critical: critical,\r\n      movementMode: movementMode,\r\n      dimensions: dimensions,\r\n      initial: initial,\r\n      current: initial,\r\n      isWindowScrollAllowed: isWindowScrollAllowed,\r\n      impact: impact,\r\n      afterCritical: afterCritical,\r\n      onLiftImpact: impact,\r\n      viewport: viewport,\r\n      scrollJumpRequest: null,\r\n      forceShouldAnimate: null\r\n    };\r\n    return result;\r\n  }\r\n\r\n  if (action.type === 'COLLECTION_STARTING') {\r\n    var _extends2;\r\n\r\n    if (state.phase === 'COLLECTING' || state.phase === 'DROP_PENDING') {\r\n      return state;\r\n    }\r\n\r\n    !(state.phase === 'DRAGGING') ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Collection cannot start from phase \" + state.phase) : invariant(false) : void 0;\r\n\r\n    var _result = _extends({\r\n      phase: 'COLLECTING'\r\n    }, state, (_extends2 = {}, _extends2[\"phase\"] = 'COLLECTING', _extends2));\r\n\r\n    return _result;\r\n  }\r\n\r\n  if (action.type === 'PUBLISH_WHILE_DRAGGING') {\r\n    !(state.phase === 'COLLECTING' || state.phase === 'DROP_PENDING') ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Unexpected \" + action.type + \" received in phase \" + state.phase) : invariant(false) : void 0;\r\n    return publishWhileDraggingInVirtual({\r\n      state: state,\r\n      published: action.payload\r\n    });\r\n  }\r\n\r\n  if (action.type === 'MOVE') {\r\n    if (state.phase === 'DROP_PENDING') {\r\n      return state;\r\n    }\r\n\r\n    !isMovementAllowed(state) ? process.env.NODE_ENV !== \"production\" ? invariant(false, action.type + \" not permitted in phase \" + state.phase) : invariant(false) : void 0;\r\n    var _clientSelection = action.payload.client;\r\n\r\n    if (isEqual(_clientSelection, state.current.client.selection)) {\r\n      return state;\r\n    }\r\n\r\n    return update({\r\n      state: state,\r\n      clientSelection: _clientSelection,\r\n      impact: isSnapping(state) ? state.impact : null\r\n    });\r\n  }\r\n\r\n  if (action.type === 'UPDATE_DROPPABLE_SCROLL') {\r\n    if (state.phase === 'DROP_PENDING') {\r\n      return removeScrollJumpRequest(state);\r\n    }\r\n\r\n    if (state.phase === 'COLLECTING') {\r\n      return removeScrollJumpRequest(state);\r\n    }\r\n\r\n    !isMovementAllowed(state) ? process.env.NODE_ENV !== \"production\" ? invariant(false, action.type + \" not permitted in phase \" + state.phase) : invariant(false) : void 0;\r\n    var _action$payload2 = action.payload,\r\n        id = _action$payload2.id,\r\n        newScroll = _action$payload2.newScroll;\r\n    var target = state.dimensions.droppables[id];\r\n\r\n    if (!target) {\r\n      return state;\r\n    }\r\n\r\n    var scrolled = scrollDroppable(target, newScroll);\r\n    return postDroppableChange(state, scrolled, false);\r\n  }\r\n\r\n  if (action.type === 'UPDATE_DROPPABLE_IS_ENABLED') {\r\n    if (state.phase === 'DROP_PENDING') {\r\n      return state;\r\n    }\r\n\r\n    !isMovementAllowed(state) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Attempting to move in an unsupported phase \" + state.phase) : invariant(false) : void 0;\r\n    var _action$payload3 = action.payload,\r\n        _id = _action$payload3.id,\r\n        isEnabled = _action$payload3.isEnabled;\r\n    var _target = state.dimensions.droppables[_id];\r\n    !_target ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot find Droppable[id: \" + _id + \"] to toggle its enabled state\") : invariant(false) : void 0;\r\n    !(_target.isEnabled !== isEnabled) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Trying to set droppable isEnabled to \" + String(isEnabled) + \"\\n      but it is already \" + String(_target.isEnabled)) : invariant(false) : void 0;\r\n\r\n    var updated = _extends({}, _target, {\r\n      isEnabled: isEnabled\r\n    });\r\n\r\n    return postDroppableChange(state, updated, true);\r\n  }\r\n\r\n  if (action.type === 'UPDATE_DROPPABLE_IS_COMBINE_ENABLED') {\r\n    if (state.phase === 'DROP_PENDING') {\r\n      return state;\r\n    }\r\n\r\n    !isMovementAllowed(state) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Attempting to move in an unsupported phase \" + state.phase) : invariant(false) : void 0;\r\n    var _action$payload4 = action.payload,\r\n        _id2 = _action$payload4.id,\r\n        isCombineEnabled = _action$payload4.isCombineEnabled;\r\n    var _target2 = state.dimensions.droppables[_id2];\r\n    !_target2 ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot find Droppable[id: \" + _id2 + \"] to toggle its isCombineEnabled state\") : invariant(false) : void 0;\r\n    !(_target2.isCombineEnabled !== isCombineEnabled) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Trying to set droppable isCombineEnabled to \" + String(isCombineEnabled) + \"\\n      but it is already \" + String(_target2.isCombineEnabled)) : invariant(false) : void 0;\r\n\r\n    var _updated = _extends({}, _target2, {\r\n      isCombineEnabled: isCombineEnabled\r\n    });\r\n\r\n    return postDroppableChange(state, _updated, true);\r\n  }\r\n\r\n  if (action.type === 'MOVE_BY_WINDOW_SCROLL') {\r\n    if (state.phase === 'DROP_PENDING' || state.phase === 'DROP_ANIMATING') {\r\n      return state;\r\n    }\r\n\r\n    !isMovementAllowed(state) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot move by window in phase \" + state.phase) : invariant(false) : void 0;\r\n    !state.isWindowScrollAllowed ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Window scrolling is currently not supported for fixed lists') : invariant(false) : void 0;\r\n    var _newScroll = action.payload.newScroll;\r\n\r\n    if (isEqual(state.viewport.scroll.current, _newScroll)) {\r\n      return removeScrollJumpRequest(state);\r\n    }\r\n\r\n    var _viewport = scrollViewport(state.viewport, _newScroll);\r\n\r\n    if (isSnapping(state)) {\r\n      return refreshSnap({\r\n        state: state,\r\n        viewport: _viewport\r\n      });\r\n    }\r\n\r\n    return update({\r\n      state: state,\r\n      viewport: _viewport\r\n    });\r\n  }\r\n\r\n  if (action.type === 'UPDATE_VIEWPORT_MAX_SCROLL') {\r\n    if (!isMovementAllowed(state)) {\r\n      return state;\r\n    }\r\n\r\n    var maxScroll = action.payload.maxScroll;\r\n\r\n    if (isEqual(maxScroll, state.viewport.scroll.max)) {\r\n      return state;\r\n    }\r\n\r\n    var withMaxScroll = _extends({}, state.viewport, {\r\n      scroll: _extends({}, state.viewport.scroll, {\r\n        max: maxScroll\r\n      })\r\n    });\r\n\r\n    return _extends({\r\n      phase: 'DRAGGING'\r\n    }, state, {\r\n      viewport: withMaxScroll\r\n    });\r\n  }\r\n\r\n  if (action.type === 'MOVE_UP' || action.type === 'MOVE_DOWN' || action.type === 'MOVE_LEFT' || action.type === 'MOVE_RIGHT') {\r\n    if (state.phase === 'COLLECTING' || state.phase === 'DROP_PENDING') {\r\n      return state;\r\n    }\r\n\r\n    !(state.phase === 'DRAGGING') ? process.env.NODE_ENV !== \"production\" ? invariant(false, action.type + \" received while not in DRAGGING phase\") : invariant(false) : void 0;\r\n\r\n    var _result2 = moveInDirection({\r\n      state: state,\r\n      type: action.type\r\n    });\r\n\r\n    if (!_result2) {\r\n      return state;\r\n    }\r\n\r\n    return update({\r\n      state: state,\r\n      impact: _result2.impact,\r\n      clientSelection: _result2.clientSelection,\r\n      scrollJumpRequest: _result2.scrollJumpRequest\r\n    });\r\n  }\r\n\r\n  if (action.type === 'DROP_PENDING') {\r\n    var _extends3;\r\n\r\n    var reason = action.payload.reason;\r\n    !(state.phase === 'COLLECTING') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Can only move into the DROP_PENDING phase from the COLLECTING phase') : invariant(false) : void 0;\r\n\r\n    var newState = _extends({\r\n      phase: 'DROP_PENDING'\r\n    }, state, (_extends3 = {}, _extends3[\"phase\"] = 'DROP_PENDING', _extends3.isWaiting = true, _extends3.reason = reason, _extends3));\r\n\r\n    return newState;\r\n  }\r\n\r\n  if (action.type === 'DROP_ANIMATE') {\r\n    var _action$payload5 = action.payload,\r\n        completed = _action$payload5.completed,\r\n        dropDuration = _action$payload5.dropDuration,\r\n        newHomeClientOffset = _action$payload5.newHomeClientOffset;\r\n    !(state.phase === 'DRAGGING' || state.phase === 'DROP_PENDING') ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot animate drop from phase \" + state.phase) : invariant(false) : void 0;\r\n    var _result3 = {\r\n      phase: 'DROP_ANIMATING',\r\n      completed: completed,\r\n      dropDuration: dropDuration,\r\n      newHomeClientOffset: newHomeClientOffset,\r\n      dimensions: state.dimensions\r\n    };\r\n    return _result3;\r\n  }\r\n\r\n  if (action.type === 'DROP_COMPLETE') {\r\n    var _completed = action.payload.completed;\r\n    return {\r\n      phase: 'IDLE',\r\n      completed: _completed,\r\n      shouldFlush: false\r\n    };\r\n  }\r\n\r\n  return state;\r\n});\r\n\r\nvar beforeInitialCapture = function beforeInitialCapture(args) {\r\n  return {\r\n    type: 'BEFORE_INITIAL_CAPTURE',\r\n    payload: args\r\n  };\r\n};\r\nvar lift = function lift(args) {\r\n  return {\r\n    type: 'LIFT',\r\n    payload: args\r\n  };\r\n};\r\nvar initialPublish = function initialPublish(args) {\r\n  return {\r\n    type: 'INITIAL_PUBLISH',\r\n    payload: args\r\n  };\r\n};\r\nvar publishWhileDragging = function publishWhileDragging(args) {\r\n  return {\r\n    type: 'PUBLISH_WHILE_DRAGGING',\r\n    payload: args\r\n  };\r\n};\r\nvar collectionStarting = function collectionStarting() {\r\n  return {\r\n    type: 'COLLECTION_STARTING',\r\n    payload: null\r\n  };\r\n};\r\nvar updateDroppableScroll = function updateDroppableScroll(args) {\r\n  return {\r\n    type: 'UPDATE_DROPPABLE_SCROLL',\r\n    payload: args\r\n  };\r\n};\r\nvar updateDroppableIsEnabled = function updateDroppableIsEnabled(args) {\r\n  return {\r\n    type: 'UPDATE_DROPPABLE_IS_ENABLED',\r\n    payload: args\r\n  };\r\n};\r\nvar updateDroppableIsCombineEnabled = function updateDroppableIsCombineEnabled(args) {\r\n  return {\r\n    type: 'UPDATE_DROPPABLE_IS_COMBINE_ENABLED',\r\n    payload: args\r\n  };\r\n};\r\nvar move = function move(args) {\r\n  return {\r\n    type: 'MOVE',\r\n    payload: args\r\n  };\r\n};\r\nvar moveByWindowScroll = function moveByWindowScroll(args) {\r\n  return {\r\n    type: 'MOVE_BY_WINDOW_SCROLL',\r\n    payload: args\r\n  };\r\n};\r\nvar updateViewportMaxScroll = function updateViewportMaxScroll(args) {\r\n  return {\r\n    type: 'UPDATE_VIEWPORT_MAX_SCROLL',\r\n    payload: args\r\n  };\r\n};\r\nvar moveUp = function moveUp() {\r\n  return {\r\n    type: 'MOVE_UP',\r\n    payload: null\r\n  };\r\n};\r\nvar moveDown = function moveDown() {\r\n  return {\r\n    type: 'MOVE_DOWN',\r\n    payload: null\r\n  };\r\n};\r\nvar moveRight = function moveRight() {\r\n  return {\r\n    type: 'MOVE_RIGHT',\r\n    payload: null\r\n  };\r\n};\r\nvar moveLeft = function moveLeft() {\r\n  return {\r\n    type: 'MOVE_LEFT',\r\n    payload: null\r\n  };\r\n};\r\nvar flush = function flush() {\r\n  return {\r\n    type: 'FLUSH',\r\n    payload: null\r\n  };\r\n};\r\nvar animateDrop = function animateDrop(args) {\r\n  return {\r\n    type: 'DROP_ANIMATE',\r\n    payload: args\r\n  };\r\n};\r\nvar completeDrop = function completeDrop(args) {\r\n  return {\r\n    type: 'DROP_COMPLETE',\r\n    payload: args\r\n  };\r\n};\r\nvar drop = function drop(args) {\r\n  return {\r\n    type: 'DROP',\r\n    payload: args\r\n  };\r\n};\r\nvar dropPending = function dropPending(args) {\r\n  return {\r\n    type: 'DROP_PENDING',\r\n    payload: args\r\n  };\r\n};\r\nvar dropAnimationFinished = function dropAnimationFinished() {\r\n  return {\r\n    type: 'DROP_ANIMATION_FINISHED',\r\n    payload: null\r\n  };\r\n};\r\n\r\nfunction checkIndexes(insideDestination) {\r\n  if (insideDestination.length <= 1) {\r\n    return;\r\n  }\r\n\r\n  var indexes = insideDestination.map(function (d) {\r\n    return d.descriptor.index;\r\n  });\r\n  var errors = {};\r\n\r\n  for (var i = 1; i < indexes.length; i++) {\r\n    var current = indexes[i];\r\n    var previous = indexes[i - 1];\r\n\r\n    if (current !== previous + 1) {\r\n      errors[current] = true;\r\n    }\r\n  }\r\n\r\n  if (!_Object$keys(errors).length) {\r\n    return;\r\n  }\r\n\r\n  var formatted = indexes.map(function (index) {\r\n    var hasError = Boolean(errors[index]);\r\n    return hasError ? \"[\\uD83D\\uDD25\" + index + \"]\" : \"\" + index;\r\n  }).join(', ');\r\n  process.env.NODE_ENV !== \"production\" ? warning(\"\\n    Detected non-consecutive <Draggable /> indexes.\\n\\n    (This can cause unexpected bugs)\\n\\n    \" + formatted + \"\\n  \") : void 0;\r\n}\r\n\r\nfunction validateDimensions(critical, dimensions) {\r\n  if (process.env.NODE_ENV !== 'production') {\r\n    var insideDestination = getDraggablesInsideDroppable(critical.droppable.id, dimensions.draggables);\r\n    checkIndexes(insideDestination);\r\n  }\r\n}\r\n\r\nvar lift$1 = (function (marshal) {\r\n  return function (_ref) {\r\n    var getState = _ref.getState,\r\n        dispatch = _ref.dispatch;\r\n    return function (next) {\r\n      return function (action) {\r\n        if (action.type !== 'LIFT') {\r\n          next(action);\r\n          return;\r\n        }\r\n\r\n        var _action$payload = action.payload,\r\n            id = _action$payload.id,\r\n            clientSelection = _action$payload.clientSelection,\r\n            movementMode = _action$payload.movementMode;\r\n        var initial = getState();\r\n\r\n        if (initial.phase === 'DROP_ANIMATING') {\r\n          dispatch(completeDrop({\r\n            completed: initial.completed\r\n          }));\r\n        }\r\n\r\n        !(getState().phase === 'IDLE') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Unexpected phase to start a drag') : invariant(false) : void 0;\r\n        dispatch(flush());\r\n        dispatch(beforeInitialCapture({\r\n          draggableId: id,\r\n          movementMode: movementMode\r\n        }));\r\n        var scrollOptions = {\r\n          shouldPublishImmediately: movementMode === 'SNAP'\r\n        };\r\n        var request = {\r\n          draggableId: id,\r\n          scrollOptions: scrollOptions\r\n        };\r\n\r\n        var _marshal$startPublish = marshal.startPublishing(request),\r\n            critical = _marshal$startPublish.critical,\r\n            dimensions = _marshal$startPublish.dimensions,\r\n            viewport = _marshal$startPublish.viewport;\r\n\r\n        validateDimensions(critical, dimensions);\r\n        dispatch(initialPublish({\r\n          critical: critical,\r\n          dimensions: dimensions,\r\n          clientSelection: clientSelection,\r\n          movementMode: movementMode,\r\n          viewport: viewport\r\n        }));\r\n      };\r\n    };\r\n  };\r\n});\r\n\r\nvar style = (function (marshal) {\r\n  return function () {\r\n    return function (next) {\r\n      return function (action) {\r\n        if (action.type === 'INITIAL_PUBLISH') {\r\n          marshal.dragging();\r\n        }\r\n\r\n        if (action.type === 'DROP_ANIMATE') {\r\n          marshal.dropping(action.payload.completed.result.reason);\r\n        }\r\n\r\n        if (action.type === 'FLUSH' || action.type === 'DROP_COMPLETE') {\r\n          marshal.resting();\r\n        }\r\n\r\n        next(action);\r\n      };\r\n    };\r\n  };\r\n});\r\n\r\nvar curves = {\r\n  outOfTheWay: 'cubic-bezier(0.2, 0, 0, 1)',\r\n  drop: 'cubic-bezier(.2,1,.1,1)'\r\n};\r\nvar combine = {\r\n  opacity: {\r\n    drop: 0,\r\n    combining: 0.7\r\n  },\r\n  scale: {\r\n    drop: 0.75\r\n  }\r\n};\r\nvar timings = {\r\n  outOfTheWay: 0.2,\r\n  minDropTime: 0.33,\r\n  maxDropTime: 0.55\r\n};\r\nvar outOfTheWayTiming = timings.outOfTheWay + \"s \" + curves.outOfTheWay;\r\nvar transitions = {\r\n  fluid: \"opacity \" + outOfTheWayTiming,\r\n  snap: \"transform \" + outOfTheWayTiming + \", opacity \" + outOfTheWayTiming,\r\n  drop: function drop(duration) {\r\n    var timing = duration + \"s \" + curves.drop;\r\n    return \"transform \" + timing + \", opacity \" + timing;\r\n  },\r\n  outOfTheWay: \"transform \" + outOfTheWayTiming,\r\n  placeholder: \"height \" + outOfTheWayTiming + \", width \" + outOfTheWayTiming + \", margin \" + outOfTheWayTiming\r\n};\r\n\r\nvar moveTo = function moveTo(offset) {\r\n  return isEqual(offset, origin) ? null : \"translate(\" + offset.x + \"px, \" + offset.y + \"px)\";\r\n};\r\n\r\nvar transforms = {\r\n  moveTo: moveTo,\r\n  drop: function drop(offset, isCombining) {\r\n    var translate = moveTo(offset);\r\n\r\n    if (!translate) {\r\n      return null;\r\n    }\r\n\r\n    if (!isCombining) {\r\n      return translate;\r\n    }\r\n\r\n    return translate + \" scale(\" + combine.scale.drop + \")\";\r\n  }\r\n};\r\n\r\nvar minDropTime = timings.minDropTime,\r\n    maxDropTime = timings.maxDropTime;\r\nvar dropTimeRange = maxDropTime - minDropTime;\r\nvar maxDropTimeAtDistance = 1500;\r\nvar cancelDropModifier = 0.6;\r\nvar getDropDuration = (function (_ref) {\r\n  var current = _ref.current,\r\n      destination = _ref.destination,\r\n      reason = _ref.reason;\r\n  var distance$1 = distance(current, destination);\r\n\r\n  if (distance$1 <= 0) {\r\n    return minDropTime;\r\n  }\r\n\r\n  if (distance$1 >= maxDropTimeAtDistance) {\r\n    return maxDropTime;\r\n  }\r\n\r\n  var percentage = distance$1 / maxDropTimeAtDistance;\r\n  var duration = minDropTime + dropTimeRange * percentage;\r\n  var withDuration = reason === 'CANCEL' ? duration * cancelDropModifier : duration;\r\n  return Number(withDuration.toFixed(2));\r\n});\r\n\r\nvar getNewHomeClientOffset = (function (_ref) {\r\n  var impact = _ref.impact,\r\n      draggable = _ref.draggable,\r\n      dimensions = _ref.dimensions,\r\n      viewport = _ref.viewport,\r\n      afterCritical = _ref.afterCritical;\r\n  var draggables = dimensions.draggables,\r\n      droppables = dimensions.droppables;\r\n  var droppableId = whatIsDraggedOver(impact);\r\n  var destination = droppableId ? droppables[droppableId] : null;\r\n  var home = droppables[draggable.descriptor.droppableId];\r\n  var newClientCenter = getClientBorderBoxCenter({\r\n    impact: impact,\r\n    draggable: draggable,\r\n    draggables: draggables,\r\n    afterCritical: afterCritical,\r\n    droppable: destination || home,\r\n    viewport: viewport\r\n  });\r\n  var offset = subtract(newClientCenter, draggable.client.borderBox.center);\r\n  return offset;\r\n});\r\n\r\nvar getDropImpact = (function (_ref) {\r\n  var draggables = _ref.draggables,\r\n      reason = _ref.reason,\r\n      lastImpact = _ref.lastImpact,\r\n      home = _ref.home,\r\n      viewport = _ref.viewport,\r\n      onLiftImpact = _ref.onLiftImpact;\r\n\r\n  if (!lastImpact.at || reason !== 'DROP') {\r\n    var recomputedHomeImpact = recompute({\r\n      draggables: draggables,\r\n      impact: onLiftImpact,\r\n      destination: home,\r\n      viewport: viewport,\r\n      forceShouldAnimate: true\r\n    });\r\n    return {\r\n      impact: recomputedHomeImpact,\r\n      didDropInsideDroppable: false\r\n    };\r\n  }\r\n\r\n  if (lastImpact.at.type === 'REORDER') {\r\n    return {\r\n      impact: lastImpact,\r\n      didDropInsideDroppable: true\r\n    };\r\n  }\r\n\r\n  var withoutMovement = _extends({}, lastImpact, {\r\n    displaced: emptyGroups\r\n  });\r\n\r\n  return {\r\n    impact: withoutMovement,\r\n    didDropInsideDroppable: true\r\n  };\r\n});\r\n\r\nvar drop$1 = (function (_ref) {\r\n  var getState = _ref.getState,\r\n      dispatch = _ref.dispatch;\r\n  return function (next) {\r\n    return function (action) {\r\n      if (action.type !== 'DROP') {\r\n        next(action);\r\n        return;\r\n      }\r\n\r\n      var state = getState();\r\n      var reason = action.payload.reason;\r\n\r\n      if (state.phase === 'COLLECTING') {\r\n        dispatch(dropPending({\r\n          reason: reason\r\n        }));\r\n        return;\r\n      }\r\n\r\n      if (state.phase === 'IDLE') {\r\n        return;\r\n      }\r\n\r\n      var isWaitingForDrop = state.phase === 'DROP_PENDING' && state.isWaiting;\r\n      !!isWaitingForDrop ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'A DROP action occurred while DROP_PENDING and still waiting') : invariant(false) : void 0;\r\n      !(state.phase === 'DRAGGING' || state.phase === 'DROP_PENDING') ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot drop in phase: \" + state.phase) : invariant(false) : void 0;\r\n      var critical = state.critical;\r\n      var dimensions = state.dimensions;\r\n      var draggable = dimensions.draggables[state.critical.draggable.id];\r\n\r\n      var _getDropImpact = getDropImpact({\r\n        reason: reason,\r\n        lastImpact: state.impact,\r\n        afterCritical: state.afterCritical,\r\n        onLiftImpact: state.onLiftImpact,\r\n        home: state.dimensions.droppables[state.critical.droppable.id],\r\n        viewport: state.viewport,\r\n        draggables: state.dimensions.draggables\r\n      }),\r\n          impact = _getDropImpact.impact,\r\n          didDropInsideDroppable = _getDropImpact.didDropInsideDroppable;\r\n\r\n      var destination = didDropInsideDroppable ? tryGetDestination(impact) : null;\r\n      var combine = didDropInsideDroppable ? tryGetCombine(impact) : null;\r\n      var source = {\r\n        index: critical.draggable.index,\r\n        droppableId: critical.droppable.id\r\n      };\r\n      var result = {\r\n        draggableId: draggable.descriptor.id,\r\n        type: draggable.descriptor.type,\r\n        source: source,\r\n        reason: reason,\r\n        mode: state.movementMode,\r\n        destination: destination,\r\n        combine: combine\r\n      };\r\n      var newHomeClientOffset = getNewHomeClientOffset({\r\n        impact: impact,\r\n        draggable: draggable,\r\n        dimensions: dimensions,\r\n        viewport: state.viewport,\r\n        afterCritical: state.afterCritical\r\n      });\r\n      var completed = {\r\n        critical: state.critical,\r\n        afterCritical: state.afterCritical,\r\n        result: result,\r\n        impact: impact\r\n      };\r\n      var isAnimationRequired = !isEqual(state.current.client.offset, newHomeClientOffset) || Boolean(result.combine);\r\n\r\n      if (!isAnimationRequired) {\r\n        dispatch(completeDrop({\r\n          completed: completed\r\n        }));\r\n        return;\r\n      }\r\n\r\n      var dropDuration = getDropDuration({\r\n        current: state.current.client.offset,\r\n        destination: newHomeClientOffset,\r\n        reason: reason\r\n      });\r\n      var args = {\r\n        newHomeClientOffset: newHomeClientOffset,\r\n        dropDuration: dropDuration,\r\n        completed: completed\r\n      };\r\n      dispatch(animateDrop(args));\r\n    };\r\n  };\r\n});\r\n\r\nvar getWindowScroll = (function () {\r\n  return {\r\n    x: window.pageXOffset,\r\n    y: window.pageYOffset\r\n  };\r\n});\r\n\r\nfunction getWindowScrollBinding(update) {\r\n  return {\r\n    eventName: 'scroll',\r\n    options: {\r\n      passive: true,\r\n      capture: false\r\n    },\r\n    fn: function fn(event) {\r\n      if (event.target !== window && event.target !== window.document) {\r\n        return;\r\n      }\r\n\r\n      update();\r\n    }\r\n  };\r\n}\r\n\r\nfunction getScrollListener(_ref) {\r\n  var onWindowScroll = _ref.onWindowScroll;\r\n\r\n  function updateScroll() {\r\n    onWindowScroll(getWindowScroll());\r\n  }\r\n\r\n  var scheduled = rafSchd(updateScroll);\r\n  var binding = getWindowScrollBinding(scheduled);\r\n  var unbind = noop;\r\n\r\n  function isActive() {\r\n    return unbind !== noop;\r\n  }\r\n\r\n  function start() {\r\n    !!isActive() ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot start scroll listener when already active') : invariant(false) : void 0;\r\n    unbind = bindEvents(window, [binding]);\r\n  }\r\n\r\n  function stop() {\r\n    !isActive() ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot stop scroll listener when not active') : invariant(false) : void 0;\r\n    scheduled.cancel();\r\n    unbind();\r\n    unbind = noop;\r\n  }\r\n\r\n  return {\r\n    start: start,\r\n    stop: stop,\r\n    isActive: isActive\r\n  };\r\n}\r\n\r\nvar shouldEnd = function shouldEnd(action) {\r\n  return action.type === 'DROP_COMPLETE' || action.type === 'DROP_ANIMATE' || action.type === 'FLUSH';\r\n};\r\n\r\nvar scrollListener = (function (store) {\r\n  var listener = getScrollListener({\r\n    onWindowScroll: function onWindowScroll(newScroll) {\r\n      store.dispatch(moveByWindowScroll({\r\n        newScroll: newScroll\r\n      }));\r\n    }\r\n  });\r\n  return function (next) {\r\n    return function (action) {\r\n      if (!listener.isActive() && action.type === 'INITIAL_PUBLISH') {\r\n        listener.start();\r\n      }\r\n\r\n      if (listener.isActive() && shouldEnd(action)) {\r\n        listener.stop();\r\n      }\r\n\r\n      next(action);\r\n    };\r\n  };\r\n});\r\n\r\nvar getExpiringAnnounce = (function (announce) {\r\n  var wasCalled = false;\r\n  var isExpired = false;\r\n  var timeoutId = setTimeout(function () {\r\n    isExpired = true;\r\n  });\r\n\r\n  var result = function result(message) {\r\n    if (wasCalled) {\r\n      process.env.NODE_ENV !== \"production\" ? warning('Announcement already made. Not making a second announcement') : void 0;\r\n      return;\r\n    }\r\n\r\n    if (isExpired) {\r\n      process.env.NODE_ENV !== \"production\" ? warning(\"\\n        Announcements cannot be made asynchronously.\\n        Default message has already been announced.\\n      \") : void 0;\r\n      return;\r\n    }\r\n\r\n    wasCalled = true;\r\n    announce(message);\r\n    clearTimeout(timeoutId);\r\n  };\r\n\r\n  result.wasCalled = function () {\r\n    return wasCalled;\r\n  };\r\n\r\n  return result;\r\n});\r\n\r\nvar getAsyncMarshal = (function () {\r\n  var entries = [];\r\n\r\n  var execute = function execute(timerId) {\r\n    var index = findIndex(entries, function (item) {\r\n      return item.timerId === timerId;\r\n    });\r\n    !(index !== -1) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Could not find timer') : invariant(false) : void 0;\r\n\r\n    var _entries$splice = entries.splice(index, 1),\r\n        entry = _entries$splice[0];\r\n\r\n    entry.callback();\r\n  };\r\n\r\n  var add = function add(fn) {\r\n    var timerId = setTimeout(function () {\r\n      return execute(timerId);\r\n    });\r\n    var entry = {\r\n      timerId: timerId,\r\n      callback: fn\r\n    };\r\n    entries.push(entry);\r\n  };\r\n\r\n  var flush = function flush() {\r\n    if (!entries.length) {\r\n      return;\r\n    }\r\n\r\n    var shallow = [].concat(entries);\r\n    entries.length = 0;\r\n    shallow.forEach(function (entry) {\r\n      clearTimeout(entry.timerId);\r\n      entry.callback();\r\n    });\r\n  };\r\n\r\n  return {\r\n    add: add,\r\n    flush: flush\r\n  };\r\n});\r\n\r\nvar areLocationsEqual = function areLocationsEqual(first, second) {\r\n  if (first == null && second == null) {\r\n    return true;\r\n  }\r\n\r\n  if (first == null || second == null) {\r\n    return false;\r\n  }\r\n\r\n  return first.droppableId === second.droppableId && first.index === second.index;\r\n};\r\nvar isCombineEqual = function isCombineEqual(first, second) {\r\n  if (first == null && second == null) {\r\n    return true;\r\n  }\r\n\r\n  if (first == null || second == null) {\r\n    return false;\r\n  }\r\n\r\n  return first.draggableId === second.draggableId && first.droppableId === second.droppableId;\r\n};\r\nvar isCriticalEqual = function isCriticalEqual(first, second) {\r\n  if (first === second) {\r\n    return true;\r\n  }\r\n\r\n  var isDraggableEqual = first.draggable.id === second.draggable.id && first.draggable.droppableId === second.draggable.droppableId && first.draggable.type === second.draggable.type && first.draggable.index === second.draggable.index;\r\n  var isDroppableEqual = first.droppable.id === second.droppable.id && first.droppable.type === second.droppable.type;\r\n  return isDraggableEqual && isDroppableEqual;\r\n};\r\n\r\nvar withTimings = function withTimings(key, fn) {\r\n  start(key);\r\n  fn();\r\n  finish(key);\r\n};\r\n\r\nvar getDragStart = function getDragStart(critical, mode) {\r\n  return {\r\n    draggableId: critical.draggable.id,\r\n    type: critical.droppable.type,\r\n    source: {\r\n      droppableId: critical.droppable.id,\r\n      index: critical.draggable.index\r\n    },\r\n    mode: mode\r\n  };\r\n};\r\n\r\nvar execute = function execute(responder, data, announce, getDefaultMessage) {\r\n  if (!responder) {\r\n    announce(getDefaultMessage(data));\r\n    return;\r\n  }\r\n\r\n  var willExpire = getExpiringAnnounce(announce);\r\n  var provided = {\r\n    announce: willExpire\r\n  };\r\n  responder(data, provided);\r\n\r\n  if (!willExpire.wasCalled()) {\r\n    announce(getDefaultMessage(data));\r\n  }\r\n};\r\n\r\nvar getPublisher = (function (getResponders, announce) {\r\n  var asyncMarshal = getAsyncMarshal();\r\n  var dragging = null;\r\n\r\n  var beforeCapture = function beforeCapture(draggableId, mode) {\r\n    !!dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot fire onBeforeCapture as a drag start has already been published') : invariant(false) : void 0;\r\n    withTimings('onBeforeCapture', function () {\r\n      var fn = getResponders().onBeforeCapture;\r\n\r\n      if (fn) {\r\n        var before = {\r\n          draggableId: draggableId,\r\n          mode: mode\r\n        };\r\n        fn(before);\r\n      }\r\n    });\r\n  };\r\n\r\n  var beforeStart = function beforeStart(critical, mode) {\r\n    !!dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot fire onBeforeDragStart as a drag start has already been published') : invariant(false) : void 0;\r\n    withTimings('onBeforeDragStart', function () {\r\n      var fn = getResponders().onBeforeDragStart;\r\n\r\n      if (fn) {\r\n        fn(getDragStart(critical, mode));\r\n      }\r\n    });\r\n  };\r\n\r\n  var start = function start(critical, mode) {\r\n    !!dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot fire onBeforeDragStart as a drag start has already been published') : invariant(false) : void 0;\r\n    var data = getDragStart(critical, mode);\r\n    dragging = {\r\n      mode: mode,\r\n      lastCritical: critical,\r\n      lastLocation: data.source,\r\n      lastCombine: null\r\n    };\r\n    asyncMarshal.add(function () {\r\n      withTimings('onDragStart', function () {\r\n        return execute(getResponders().onDragStart, data, announce, preset.onDragStart);\r\n      });\r\n    });\r\n  };\r\n\r\n  var update = function update(critical, impact) {\r\n    var location = tryGetDestination(impact);\r\n    var combine = tryGetCombine(impact);\r\n    !dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot fire onDragMove when onDragStart has not been called') : invariant(false) : void 0;\r\n    var hasCriticalChanged = !isCriticalEqual(critical, dragging.lastCritical);\r\n\r\n    if (hasCriticalChanged) {\r\n      dragging.lastCritical = critical;\r\n    }\r\n\r\n    var hasLocationChanged = !areLocationsEqual(dragging.lastLocation, location);\r\n\r\n    if (hasLocationChanged) {\r\n      dragging.lastLocation = location;\r\n    }\r\n\r\n    var hasGroupingChanged = !isCombineEqual(dragging.lastCombine, combine);\r\n\r\n    if (hasGroupingChanged) {\r\n      dragging.lastCombine = combine;\r\n    }\r\n\r\n    if (!hasCriticalChanged && !hasLocationChanged && !hasGroupingChanged) {\r\n      return;\r\n    }\r\n\r\n    var data = _extends({}, getDragStart(critical, dragging.mode), {\r\n      combine: combine,\r\n      destination: location\r\n    });\r\n\r\n    asyncMarshal.add(function () {\r\n      withTimings('onDragUpdate', function () {\r\n        return execute(getResponders().onDragUpdate, data, announce, preset.onDragUpdate);\r\n      });\r\n    });\r\n  };\r\n\r\n  var flush = function flush() {\r\n    !dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Can only flush responders while dragging') : invariant(false) : void 0;\r\n    asyncMarshal.flush();\r\n  };\r\n\r\n  var drop = function drop(result) {\r\n    !dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot fire onDragEnd when there is no matching onDragStart') : invariant(false) : void 0;\r\n    dragging = null;\r\n    withTimings('onDragEnd', function () {\r\n      return execute(getResponders().onDragEnd, result, announce, preset.onDragEnd);\r\n    });\r\n  };\r\n\r\n  var abort = function abort() {\r\n    if (!dragging) {\r\n      return;\r\n    }\r\n\r\n    var result = _extends({}, getDragStart(dragging.lastCritical, dragging.mode), {\r\n      combine: null,\r\n      destination: null,\r\n      reason: 'CANCEL'\r\n    });\r\n\r\n    drop(result);\r\n  };\r\n\r\n  return {\r\n    beforeCapture: beforeCapture,\r\n    beforeStart: beforeStart,\r\n    start: start,\r\n    update: update,\r\n    flush: flush,\r\n    drop: drop,\r\n    abort: abort\r\n  };\r\n});\r\n\r\nvar responders = (function (getResponders, announce) {\r\n  var publisher = getPublisher(getResponders, announce);\r\n  return function (store) {\r\n    return function (next) {\r\n      return function (action) {\r\n        if (action.type === 'BEFORE_INITIAL_CAPTURE') {\r\n          publisher.beforeCapture(action.payload.draggableId, action.payload.movementMode);\r\n          return;\r\n        }\r\n\r\n        if (action.type === 'INITIAL_PUBLISH') {\r\n          var critical = action.payload.critical;\r\n          publisher.beforeStart(critical, action.payload.movementMode);\r\n          next(action);\r\n          publisher.start(critical, action.payload.movementMode);\r\n          return;\r\n        }\r\n\r\n        if (action.type === 'DROP_COMPLETE') {\r\n          var result = action.payload.completed.result;\r\n          publisher.flush();\r\n          next(action);\r\n          publisher.drop(result);\r\n          return;\r\n        }\r\n\r\n        next(action);\r\n\r\n        if (action.type === 'FLUSH') {\r\n          publisher.abort();\r\n          return;\r\n        }\r\n\r\n        var state = store.getState();\r\n\r\n        if (state.phase === 'DRAGGING') {\r\n          publisher.update(state.critical, state.impact);\r\n        }\r\n      };\r\n    };\r\n  };\r\n});\r\n\r\nvar dropAnimationFinish = (function (store) {\r\n  return function (next) {\r\n    return function (action) {\r\n      if (action.type !== 'DROP_ANIMATION_FINISHED') {\r\n        next(action);\r\n        return;\r\n      }\r\n\r\n      var state = store.getState();\r\n      !(state.phase === 'DROP_ANIMATING') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot finish a drop animating when no drop is occurring') : invariant(false) : void 0;\r\n      store.dispatch(completeDrop({\r\n        completed: state.completed\r\n      }));\r\n    };\r\n  };\r\n});\r\n\r\nvar dropAnimationFlushOnScroll = (function (store) {\r\n  var unbind = null;\r\n  var frameId = null;\r\n\r\n  function clear() {\r\n    if (frameId) {\r\n      cancelAnimationFrame(frameId);\r\n      frameId = null;\r\n    }\r\n\r\n    if (unbind) {\r\n      unbind();\r\n      unbind = null;\r\n    }\r\n  }\r\n\r\n  return function (next) {\r\n    return function (action) {\r\n      if (action.type === 'FLUSH' || action.type === 'DROP_COMPLETE' || action.type === 'DROP_ANIMATION_FINISHED') {\r\n        clear();\r\n      }\r\n\r\n      next(action);\r\n\r\n      if (action.type !== 'DROP_ANIMATE') {\r\n        return;\r\n      }\r\n\r\n      var binding = {\r\n        eventName: 'scroll',\r\n        options: {\r\n          capture: true,\r\n          passive: false,\r\n          once: true\r\n        },\r\n        fn: function flushDropAnimation() {\r\n          var state = store.getState();\r\n\r\n          if (state.phase === 'DROP_ANIMATING') {\r\n            store.dispatch(dropAnimationFinished());\r\n          }\r\n        }\r\n      };\r\n      frameId = requestAnimationFrame(function () {\r\n        frameId = null;\r\n        unbind = bindEvents(window, [binding]);\r\n      });\r\n    };\r\n  };\r\n});\r\n\r\nvar dimensionMarshalStopper = (function (marshal) {\r\n  return function () {\r\n    return function (next) {\r\n      return function (action) {\r\n        if (action.type === 'DROP_COMPLETE' || action.type === 'FLUSH' || action.type === 'DROP_ANIMATE') {\r\n          marshal.stopPublishing();\r\n        }\r\n\r\n        next(action);\r\n      };\r\n    };\r\n  };\r\n});\r\n\r\nvar focus = (function (marshal) {\r\n  var isWatching = false;\r\n  return function () {\r\n    return function (next) {\r\n      return function (action) {\r\n        if (action.type === 'INITIAL_PUBLISH') {\r\n          isWatching = true;\r\n          marshal.tryRecordFocus(action.payload.critical.draggable.id);\r\n          next(action);\r\n          marshal.tryRestoreFocusRecorded();\r\n          return;\r\n        }\r\n\r\n        next(action);\r\n\r\n        if (!isWatching) {\r\n          return;\r\n        }\r\n\r\n        if (action.type === 'FLUSH') {\r\n          isWatching = false;\r\n          marshal.tryRestoreFocusRecorded();\r\n          return;\r\n        }\r\n\r\n        if (action.type === 'DROP_COMPLETE') {\r\n          isWatching = false;\r\n          var result = action.payload.completed.result;\r\n\r\n          if (result.combine) {\r\n            marshal.tryShiftRecord(result.draggableId, result.combine.draggableId);\r\n          }\r\n\r\n          marshal.tryRestoreFocusRecorded();\r\n        }\r\n      };\r\n    };\r\n  };\r\n});\r\n\r\nvar shouldStop = function shouldStop(action) {\r\n  return action.type === 'DROP_COMPLETE' || action.type === 'DROP_ANIMATE' || action.type === 'FLUSH';\r\n};\r\n\r\nvar autoScroll = (function (autoScroller) {\r\n  return function (store) {\r\n    return function (next) {\r\n      return function (action) {\r\n        if (shouldStop(action)) {\r\n          autoScroller.stop();\r\n          next(action);\r\n          return;\r\n        }\r\n\r\n        if (action.type === 'INITIAL_PUBLISH') {\r\n          next(action);\r\n          var state = store.getState();\r\n          !(state.phase === 'DRAGGING') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Expected phase to be DRAGGING after INITIAL_PUBLISH') : invariant(false) : void 0;\r\n          autoScroller.start(state);\r\n          return;\r\n        }\r\n\r\n        next(action);\r\n        autoScroller.scroll(store.getState());\r\n      };\r\n    };\r\n  };\r\n});\r\n\r\nvar pendingDrop = (function (store) {\r\n  return function (next) {\r\n    return function (action) {\r\n      next(action);\r\n\r\n      if (action.type !== 'PUBLISH_WHILE_DRAGGING') {\r\n        return;\r\n      }\r\n\r\n      var postActionState = store.getState();\r\n\r\n      if (postActionState.phase !== 'DROP_PENDING') {\r\n        return;\r\n      }\r\n\r\n      if (postActionState.isWaiting) {\r\n        return;\r\n      }\r\n\r\n      store.dispatch(drop({\r\n        reason: postActionState.reason\r\n      }));\r\n    };\r\n  };\r\n});\r\n\r\nvar composeEnhancers = process.env.NODE_ENV !== 'production' && typeof window !== 'undefined' && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ : compose;\r\nvar createStore = (function (_ref) {\r\n  var dimensionMarshal = _ref.dimensionMarshal,\r\n      focusMarshal = _ref.focusMarshal,\r\n      styleMarshal = _ref.styleMarshal,\r\n      getResponders = _ref.getResponders,\r\n      announce = _ref.announce,\r\n      autoScroller = _ref.autoScroller;\r\n  return createStore$1(reducer, composeEnhancers(applyMiddleware(style(styleMarshal), dimensionMarshalStopper(dimensionMarshal), lift$1(dimensionMarshal), drop$1, dropAnimationFinish, dropAnimationFlushOnScroll, pendingDrop, autoScroll(autoScroller), scrollListener, focus(focusMarshal), responders(getResponders, announce))));\r\n});\r\n\r\nvar clean$1 = function clean() {\r\n  return {\r\n    additions: {},\r\n    removals: {},\r\n    modified: {}\r\n  };\r\n};\r\n\r\nvar timingKey = 'Publish collection from DOM';\r\nfunction createPublisher(_ref) {\r\n  var registry = _ref.registry,\r\n      callbacks = _ref.callbacks;\r\n  var staging = clean$1();\r\n  var frameId = null;\r\n\r\n  var collect = function collect() {\r\n    if (frameId) {\r\n      return;\r\n    }\r\n\r\n    callbacks.collectionStarting();\r\n    frameId = requestAnimationFrame(function () {\r\n      frameId = null;\r\n      start(timingKey);\r\n      var _staging = staging,\r\n          additions = _staging.additions,\r\n          removals = _staging.removals,\r\n          modified = _staging.modified;\r\n\r\n      var added = _Object$keys(additions).map(function (id) {\r\n        return registry.draggable.getById(id).getDimension(origin);\r\n      }).sort(function (a, b) {\r\n        return a.descriptor.index - b.descriptor.index;\r\n      });\r\n\r\n      var updated = _Object$keys(modified).map(function (id) {\r\n        var entry = registry.droppable.getById(id);\r\n        var scroll = entry.callbacks.getScrollWhileDragging();\r\n        return {\r\n          droppableId: id,\r\n          scroll: scroll\r\n        };\r\n      });\r\n\r\n      var result = {\r\n        additions: added,\r\n        removals: _Object$keys(removals),\r\n        modified: updated\r\n      };\r\n      staging = clean$1();\r\n      finish(timingKey);\r\n      callbacks.publish(result);\r\n    });\r\n  };\r\n\r\n  var add = function add(entry) {\r\n    var id = entry.descriptor.id;\r\n    staging.additions[id] = entry;\r\n    staging.modified[entry.descriptor.droppableId] = true;\r\n\r\n    if (staging.removals[id]) {\r\n      delete staging.removals[id];\r\n    }\r\n\r\n    collect();\r\n  };\r\n\r\n  var remove = function remove(entry) {\r\n    var descriptor = entry.descriptor;\r\n    staging.removals[descriptor.id] = true;\r\n    staging.modified[descriptor.droppableId] = true;\r\n\r\n    if (staging.additions[descriptor.id]) {\r\n      delete staging.additions[descriptor.id];\r\n    }\r\n\r\n    collect();\r\n  };\r\n\r\n  var stop = function stop() {\r\n    if (!frameId) {\r\n      return;\r\n    }\r\n\r\n    cancelAnimationFrame(frameId);\r\n    frameId = null;\r\n    staging = clean$1();\r\n  };\r\n\r\n  return {\r\n    add: add,\r\n    remove: remove,\r\n    stop: stop\r\n  };\r\n}\r\n\r\nvar getMaxScroll = (function (_ref) {\r\n  var scrollHeight = _ref.scrollHeight,\r\n      scrollWidth = _ref.scrollWidth,\r\n      height = _ref.height,\r\n      width = _ref.width;\r\n  var maxScroll = subtract({\r\n    x: scrollWidth,\r\n    y: scrollHeight\r\n  }, {\r\n    x: width,\r\n    y: height\r\n  });\r\n  var adjustedMaxScroll = {\r\n    x: Math.max(0, maxScroll.x),\r\n    y: Math.max(0, maxScroll.y)\r\n  };\r\n  return adjustedMaxScroll;\r\n});\r\n\r\nvar getDocumentElement = (function () {\r\n  var doc = document.documentElement;\r\n  !doc ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot find document.documentElement') : invariant(false) : void 0;\r\n  return doc;\r\n});\r\n\r\nvar getMaxWindowScroll = (function () {\r\n  var doc = getDocumentElement();\r\n  var maxScroll = getMaxScroll({\r\n    scrollHeight: doc.scrollHeight,\r\n    scrollWidth: doc.scrollWidth,\r\n    width: doc.clientWidth,\r\n    height: doc.clientHeight\r\n  });\r\n  return maxScroll;\r\n});\r\n\r\nvar getViewport = (function () {\r\n  var scroll = getWindowScroll();\r\n  var maxScroll = getMaxWindowScroll();\r\n  var top = scroll.y;\r\n  var left = scroll.x;\r\n  var doc = getDocumentElement();\r\n  var width = doc.clientWidth;\r\n  var height = doc.clientHeight;\r\n  var right = left + width;\r\n  var bottom = top + height;\r\n  var frame = getRect({\r\n    top: top,\r\n    left: left,\r\n    right: right,\r\n    bottom: bottom\r\n  });\r\n  var viewport = {\r\n    frame: frame,\r\n    scroll: {\r\n      initial: scroll,\r\n      current: scroll,\r\n      max: maxScroll,\r\n      diff: {\r\n        value: origin,\r\n        displacement: origin\r\n      }\r\n    }\r\n  };\r\n  return viewport;\r\n});\r\n\r\nvar getInitialPublish = (function (_ref) {\r\n  var critical = _ref.critical,\r\n      scrollOptions = _ref.scrollOptions,\r\n      registry = _ref.registry;\r\n  var timingKey = 'Initial collection from DOM';\r\n  start(timingKey);\r\n  var viewport = getViewport();\r\n  var windowScroll = viewport.scroll.current;\r\n  var home = critical.droppable;\r\n  var droppables = registry.droppable.getAllByType(home.type).map(function (entry) {\r\n    return entry.callbacks.getDimensionAndWatchScroll(windowScroll, scrollOptions);\r\n  });\r\n  var draggables = registry.draggable.getAllByType(critical.draggable.type).map(function (entry) {\r\n    return entry.getDimension(windowScroll);\r\n  });\r\n  var dimensions = {\r\n    draggables: toDraggableMap(draggables),\r\n    droppables: toDroppableMap(droppables)\r\n  };\r\n  finish(timingKey);\r\n  var result = {\r\n    dimensions: dimensions,\r\n    critical: critical,\r\n    viewport: viewport\r\n  };\r\n  return result;\r\n});\r\n\r\nfunction shouldPublishUpdate(registry, dragging, entry) {\r\n  if (entry.descriptor.id === dragging.id) {\r\n    return false;\r\n  }\r\n\r\n  if (entry.descriptor.type !== dragging.type) {\r\n    return false;\r\n  }\r\n\r\n  var home = registry.droppable.getById(entry.descriptor.droppableId);\r\n\r\n  if (home.descriptor.mode !== 'virtual') {\r\n    process.env.NODE_ENV !== \"production\" ? warning(\"\\n      You are attempting to add or remove a Draggable [id: \" + entry.descriptor.id + \"]\\n      while a drag is occurring. This is only supported for virtual lists.\\n\\n      See https://github.com/atlassian/react-beautiful-dnd/blob/master/docs/patterns/virtual-lists.md\\n    \") : void 0;\r\n    return false;\r\n  }\r\n\r\n  return true;\r\n}\r\n\r\nvar createDimensionMarshal = (function (registry, callbacks) {\r\n  var collection = null;\r\n  var publisher = createPublisher({\r\n    callbacks: {\r\n      publish: callbacks.publishWhileDragging,\r\n      collectionStarting: callbacks.collectionStarting\r\n    },\r\n    registry: registry\r\n  });\r\n\r\n  var updateDroppableIsEnabled = function updateDroppableIsEnabled(id, isEnabled) {\r\n    !registry.droppable.exists(id) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot update is enabled flag of Droppable \" + id + \" as it is not registered\") : invariant(false) : void 0;\r\n\r\n    if (!collection) {\r\n      return;\r\n    }\r\n\r\n    callbacks.updateDroppableIsEnabled({\r\n      id: id,\r\n      isEnabled: isEnabled\r\n    });\r\n  };\r\n\r\n  var updateDroppableIsCombineEnabled = function updateDroppableIsCombineEnabled(id, isCombineEnabled) {\r\n    if (!collection) {\r\n      return;\r\n    }\r\n\r\n    !registry.droppable.exists(id) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot update isCombineEnabled flag of Droppable \" + id + \" as it is not registered\") : invariant(false) : void 0;\r\n    callbacks.updateDroppableIsCombineEnabled({\r\n      id: id,\r\n      isCombineEnabled: isCombineEnabled\r\n    });\r\n  };\r\n\r\n  var updateDroppableScroll = function updateDroppableScroll(id, newScroll) {\r\n    if (!collection) {\r\n      return;\r\n    }\r\n\r\n    !registry.droppable.exists(id) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot update the scroll on Droppable \" + id + \" as it is not registered\") : invariant(false) : void 0;\r\n    callbacks.updateDroppableScroll({\r\n      id: id,\r\n      newScroll: newScroll\r\n    });\r\n  };\r\n\r\n  var scrollDroppable = function scrollDroppable(id, change) {\r\n    if (!collection) {\r\n      return;\r\n    }\r\n\r\n    registry.droppable.getById(id).callbacks.scroll(change);\r\n  };\r\n\r\n  var stopPublishing = function stopPublishing() {\r\n    if (!collection) {\r\n      return;\r\n    }\r\n\r\n    publisher.stop();\r\n    var home = collection.critical.droppable;\r\n    registry.droppable.getAllByType(home.type).forEach(function (entry) {\r\n      return entry.callbacks.dragStopped();\r\n    });\r\n    collection.unsubscribe();\r\n    collection = null;\r\n  };\r\n\r\n  var subscriber = function subscriber(event) {\r\n    !collection ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Should only be subscribed when a collection is occurring') : invariant(false) : void 0;\r\n    var dragging = collection.critical.draggable;\r\n\r\n    if (event.type === 'ADDITION') {\r\n      if (shouldPublishUpdate(registry, dragging, event.value)) {\r\n        publisher.add(event.value);\r\n      }\r\n    }\r\n\r\n    if (event.type === 'REMOVAL') {\r\n      if (shouldPublishUpdate(registry, dragging, event.value)) {\r\n        publisher.remove(event.value);\r\n      }\r\n    }\r\n  };\r\n\r\n  var startPublishing = function startPublishing(request) {\r\n    !!collection ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot start capturing critical dimensions as there is already a collection') : invariant(false) : void 0;\r\n    var entry = registry.draggable.getById(request.draggableId);\r\n    var home = registry.droppable.getById(entry.descriptor.droppableId);\r\n    var critical = {\r\n      draggable: entry.descriptor,\r\n      droppable: home.descriptor\r\n    };\r\n    var unsubscribe = registry.subscribe(subscriber);\r\n    collection = {\r\n      critical: critical,\r\n      unsubscribe: unsubscribe\r\n    };\r\n    return getInitialPublish({\r\n      critical: critical,\r\n      registry: registry,\r\n      scrollOptions: request.scrollOptions\r\n    });\r\n  };\r\n\r\n  var marshal = {\r\n    updateDroppableIsEnabled: updateDroppableIsEnabled,\r\n    updateDroppableIsCombineEnabled: updateDroppableIsCombineEnabled,\r\n    scrollDroppable: scrollDroppable,\r\n    updateDroppableScroll: updateDroppableScroll,\r\n    startPublishing: startPublishing,\r\n    stopPublishing: stopPublishing\r\n  };\r\n  return marshal;\r\n});\r\n\r\nvar canStartDrag = (function (state, id) {\r\n  if (state.phase === 'IDLE') {\r\n    return true;\r\n  }\r\n\r\n  if (state.phase !== 'DROP_ANIMATING') {\r\n    return false;\r\n  }\r\n\r\n  if (state.completed.result.draggableId === id) {\r\n    return false;\r\n  }\r\n\r\n  return state.completed.result.reason === 'DROP';\r\n});\r\n\r\nvar scrollWindow = (function (change) {\r\n  window.scrollBy(change.x, change.y);\r\n});\r\n\r\nvar getScrollableDroppables = memoizeOne(function (droppables) {\r\n  return toDroppableList(droppables).filter(function (droppable) {\r\n    if (!droppable.isEnabled) {\r\n      return false;\r\n    }\r\n\r\n    if (!droppable.frame) {\r\n      return false;\r\n    }\r\n\r\n    return true;\r\n  });\r\n});\r\n\r\nvar getScrollableDroppableOver = function getScrollableDroppableOver(target, droppables) {\r\n  var maybe = find(getScrollableDroppables(droppables), function (droppable) {\r\n    !droppable.frame ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Invalid result') : invariant(false) : void 0;\r\n    return isPositionInFrame(droppable.frame.pageMarginBox)(target);\r\n  });\r\n  return maybe;\r\n};\r\n\r\nvar getBestScrollableDroppable = (function (_ref) {\r\n  var center = _ref.center,\r\n      destination = _ref.destination,\r\n      droppables = _ref.droppables;\r\n\r\n  if (destination) {\r\n    var _dimension = droppables[destination];\r\n\r\n    if (!_dimension.frame) {\r\n      return null;\r\n    }\r\n\r\n    return _dimension;\r\n  }\r\n\r\n  var dimension = getScrollableDroppableOver(center, droppables);\r\n  return dimension;\r\n});\r\n\r\nvar config = {\r\n  startFromPercentage: 0.25,\r\n  maxScrollAtPercentage: 0.05,\r\n  maxPixelScroll: 28,\r\n  ease: function ease(percentage) {\r\n    return Math.pow(percentage, 2);\r\n  },\r\n  durationDampening: {\r\n    stopDampeningAt: 1200,\r\n    accelerateAt: 360\r\n  }\r\n};\r\n\r\nvar getDistanceThresholds = (function (container, axis) {\r\n  var startScrollingFrom = container[axis.size] * config.startFromPercentage;\r\n  var maxScrollValueAt = container[axis.size] * config.maxScrollAtPercentage;\r\n  var thresholds = {\r\n    startScrollingFrom: startScrollingFrom,\r\n    maxScrollValueAt: maxScrollValueAt\r\n  };\r\n  return thresholds;\r\n});\r\n\r\nvar getPercentage = (function (_ref) {\r\n  var startOfRange = _ref.startOfRange,\r\n      endOfRange = _ref.endOfRange,\r\n      current = _ref.current;\r\n  var range = endOfRange - startOfRange;\r\n\r\n  if (range === 0) {\r\n    process.env.NODE_ENV !== \"production\" ? warning(\"\\n      Detected distance range of 0 in the fluid auto scroller\\n      This is unexpected and would cause a divide by 0 issue.\\n      Not allowing an auto scroll\\n    \") : void 0;\r\n    return 0;\r\n  }\r\n\r\n  var currentInRange = current - startOfRange;\r\n  var percentage = currentInRange / range;\r\n  return percentage;\r\n});\r\n\r\nvar minScroll = 1;\r\n\r\nvar getValueFromDistance = (function (distanceToEdge, thresholds) {\r\n  if (distanceToEdge > thresholds.startScrollingFrom) {\r\n    return 0;\r\n  }\r\n\r\n  if (distanceToEdge <= thresholds.maxScrollValueAt) {\r\n    return config.maxPixelScroll;\r\n  }\r\n\r\n  if (distanceToEdge === thresholds.startScrollingFrom) {\r\n    return minScroll;\r\n  }\r\n\r\n  var percentageFromMaxScrollValueAt = getPercentage({\r\n    startOfRange: thresholds.maxScrollValueAt,\r\n    endOfRange: thresholds.startScrollingFrom,\r\n    current: distanceToEdge\r\n  });\r\n  var percentageFromStartScrollingFrom = 1 - percentageFromMaxScrollValueAt;\r\n  var scroll = config.maxPixelScroll * config.ease(percentageFromStartScrollingFrom);\r\n  return Math.ceil(scroll);\r\n});\r\n\r\nvar accelerateAt = config.durationDampening.accelerateAt;\r\nvar stopAt = config.durationDampening.stopDampeningAt;\r\nvar dampenValueByTime = (function (proposedScroll, dragStartTime) {\r\n  var startOfRange = dragStartTime;\r\n  var endOfRange = stopAt;\r\n\r\n  var now = _Date$now();\r\n\r\n  var runTime = now - startOfRange;\r\n\r\n  if (runTime >= stopAt) {\r\n    return proposedScroll;\r\n  }\r\n\r\n  if (runTime < accelerateAt) {\r\n    return minScroll;\r\n  }\r\n\r\n  var betweenAccelerateAtAndStopAtPercentage = getPercentage({\r\n    startOfRange: accelerateAt,\r\n    endOfRange: endOfRange,\r\n    current: runTime\r\n  });\r\n  var scroll = proposedScroll * config.ease(betweenAccelerateAtAndStopAtPercentage);\r\n  return Math.ceil(scroll);\r\n});\r\n\r\nvar getValue = (function (_ref) {\r\n  var distanceToEdge = _ref.distanceToEdge,\r\n      thresholds = _ref.thresholds,\r\n      dragStartTime = _ref.dragStartTime,\r\n      shouldUseTimeDampening = _ref.shouldUseTimeDampening;\r\n  var scroll = getValueFromDistance(distanceToEdge, thresholds);\r\n\r\n  if (scroll === 0) {\r\n    return 0;\r\n  }\r\n\r\n  if (!shouldUseTimeDampening) {\r\n    return scroll;\r\n  }\r\n\r\n  return Math.max(dampenValueByTime(scroll, dragStartTime), minScroll);\r\n});\r\n\r\nvar getScrollOnAxis = (function (_ref) {\r\n  var container = _ref.container,\r\n      distanceToEdges = _ref.distanceToEdges,\r\n      dragStartTime = _ref.dragStartTime,\r\n      axis = _ref.axis,\r\n      shouldUseTimeDampening = _ref.shouldUseTimeDampening;\r\n  var thresholds = getDistanceThresholds(container, axis);\r\n  var isCloserToEnd = distanceToEdges[axis.end] < distanceToEdges[axis.start];\r\n\r\n  if (isCloserToEnd) {\r\n    return getValue({\r\n      distanceToEdge: distanceToEdges[axis.end],\r\n      thresholds: thresholds,\r\n      dragStartTime: dragStartTime,\r\n      shouldUseTimeDampening: shouldUseTimeDampening\r\n    });\r\n  }\r\n\r\n  return -1 * getValue({\r\n    distanceToEdge: distanceToEdges[axis.start],\r\n    thresholds: thresholds,\r\n    dragStartTime: dragStartTime,\r\n    shouldUseTimeDampening: shouldUseTimeDampening\r\n  });\r\n});\r\n\r\nvar adjustForSizeLimits = (function (_ref) {\r\n  var container = _ref.container,\r\n      subject = _ref.subject,\r\n      proposedScroll = _ref.proposedScroll;\r\n  var isTooBigVertically = subject.height > container.height;\r\n  var isTooBigHorizontally = subject.width > container.width;\r\n\r\n  if (!isTooBigHorizontally && !isTooBigVertically) {\r\n    return proposedScroll;\r\n  }\r\n\r\n  if (isTooBigHorizontally && isTooBigVertically) {\r\n    return null;\r\n  }\r\n\r\n  return {\r\n    x: isTooBigHorizontally ? 0 : proposedScroll.x,\r\n    y: isTooBigVertically ? 0 : proposedScroll.y\r\n  };\r\n});\r\n\r\nvar clean$2 = apply(function (value) {\r\n  return value === 0 ? 0 : value;\r\n});\r\nvar getScroll = (function (_ref) {\r\n  var dragStartTime = _ref.dragStartTime,\r\n      container = _ref.container,\r\n      subject = _ref.subject,\r\n      center = _ref.center,\r\n      shouldUseTimeDampening = _ref.shouldUseTimeDampening;\r\n  var distanceToEdges = {\r\n    top: center.y - container.top,\r\n    right: container.right - center.x,\r\n    bottom: container.bottom - center.y,\r\n    left: center.x - container.left\r\n  };\r\n  var y = getScrollOnAxis({\r\n    container: container,\r\n    distanceToEdges: distanceToEdges,\r\n    dragStartTime: dragStartTime,\r\n    axis: vertical,\r\n    shouldUseTimeDampening: shouldUseTimeDampening\r\n  });\r\n  var x = getScrollOnAxis({\r\n    container: container,\r\n    distanceToEdges: distanceToEdges,\r\n    dragStartTime: dragStartTime,\r\n    axis: horizontal,\r\n    shouldUseTimeDampening: shouldUseTimeDampening\r\n  });\r\n  var required = clean$2({\r\n    x: x,\r\n    y: y\r\n  });\r\n\r\n  if (isEqual(required, origin)) {\r\n    return null;\r\n  }\r\n\r\n  var limited = adjustForSizeLimits({\r\n    container: container,\r\n    subject: subject,\r\n    proposedScroll: required\r\n  });\r\n\r\n  if (!limited) {\r\n    return null;\r\n  }\r\n\r\n  return isEqual(limited, origin) ? null : limited;\r\n});\r\n\r\nvar smallestSigned = apply(function (value) {\r\n  if (value === 0) {\r\n    return 0;\r\n  }\r\n\r\n  return value > 0 ? 1 : -1;\r\n});\r\nvar getOverlap = function () {\r\n  var getRemainder = function getRemainder(target, max) {\r\n    if (target < 0) {\r\n      return target;\r\n    }\r\n\r\n    if (target > max) {\r\n      return target - max;\r\n    }\r\n\r\n    return 0;\r\n  };\r\n\r\n  return function (_ref) {\r\n    var current = _ref.current,\r\n        max = _ref.max,\r\n        change = _ref.change;\r\n    var targetScroll = add(current, change);\r\n    var overlap = {\r\n      x: getRemainder(targetScroll.x, max.x),\r\n      y: getRemainder(targetScroll.y, max.y)\r\n    };\r\n\r\n    if (isEqual(overlap, origin)) {\r\n      return null;\r\n    }\r\n\r\n    return overlap;\r\n  };\r\n}();\r\nvar canPartiallyScroll = function canPartiallyScroll(_ref2) {\r\n  var rawMax = _ref2.max,\r\n      current = _ref2.current,\r\n      change = _ref2.change;\r\n  var max = {\r\n    x: Math.max(current.x, rawMax.x),\r\n    y: Math.max(current.y, rawMax.y)\r\n  };\r\n  var smallestChange = smallestSigned(change);\r\n  var overlap = getOverlap({\r\n    max: max,\r\n    current: current,\r\n    change: smallestChange\r\n  });\r\n\r\n  if (!overlap) {\r\n    return true;\r\n  }\r\n\r\n  if (smallestChange.x !== 0 && overlap.x === 0) {\r\n    return true;\r\n  }\r\n\r\n  if (smallestChange.y !== 0 && overlap.y === 0) {\r\n    return true;\r\n  }\r\n\r\n  return false;\r\n};\r\nvar canScrollWindow = function canScrollWindow(viewport, change) {\r\n  return canPartiallyScroll({\r\n    current: viewport.scroll.current,\r\n    max: viewport.scroll.max,\r\n    change: change\r\n  });\r\n};\r\nvar getWindowOverlap = function getWindowOverlap(viewport, change) {\r\n  if (!canScrollWindow(viewport, change)) {\r\n    return null;\r\n  }\r\n\r\n  var max = viewport.scroll.max;\r\n  var current = viewport.scroll.current;\r\n  return getOverlap({\r\n    current: current,\r\n    max: max,\r\n    change: change\r\n  });\r\n};\r\nvar canScrollDroppable = function canScrollDroppable(droppable, change) {\r\n  var frame = droppable.frame;\r\n\r\n  if (!frame) {\r\n    return false;\r\n  }\r\n\r\n  return canPartiallyScroll({\r\n    current: frame.scroll.current,\r\n    max: frame.scroll.max,\r\n    change: change\r\n  });\r\n};\r\nvar getDroppableOverlap = function getDroppableOverlap(droppable, change) {\r\n  var frame = droppable.frame;\r\n\r\n  if (!frame) {\r\n    return null;\r\n  }\r\n\r\n  if (!canScrollDroppable(droppable, change)) {\r\n    return null;\r\n  }\r\n\r\n  return getOverlap({\r\n    current: frame.scroll.current,\r\n    max: frame.scroll.max,\r\n    change: change\r\n  });\r\n};\r\n\r\nvar getWindowScrollChange = (function (_ref) {\r\n  var viewport = _ref.viewport,\r\n      subject = _ref.subject,\r\n      center = _ref.center,\r\n      dragStartTime = _ref.dragStartTime,\r\n      shouldUseTimeDampening = _ref.shouldUseTimeDampening;\r\n  var scroll = getScroll({\r\n    dragStartTime: dragStartTime,\r\n    container: viewport.frame,\r\n    subject: subject,\r\n    center: center,\r\n    shouldUseTimeDampening: shouldUseTimeDampening\r\n  });\r\n  return scroll && canScrollWindow(viewport, scroll) ? scroll : null;\r\n});\r\n\r\nvar getDroppableScrollChange = (function (_ref) {\r\n  var droppable = _ref.droppable,\r\n      subject = _ref.subject,\r\n      center = _ref.center,\r\n      dragStartTime = _ref.dragStartTime,\r\n      shouldUseTimeDampening = _ref.shouldUseTimeDampening;\r\n  var frame = droppable.frame;\r\n\r\n  if (!frame) {\r\n    return null;\r\n  }\r\n\r\n  var scroll = getScroll({\r\n    dragStartTime: dragStartTime,\r\n    container: frame.pageMarginBox,\r\n    subject: subject,\r\n    center: center,\r\n    shouldUseTimeDampening: shouldUseTimeDampening\r\n  });\r\n  return scroll && canScrollDroppable(droppable, scroll) ? scroll : null;\r\n});\r\n\r\nvar scroll$1 = (function (_ref) {\r\n  var state = _ref.state,\r\n      dragStartTime = _ref.dragStartTime,\r\n      shouldUseTimeDampening = _ref.shouldUseTimeDampening,\r\n      scrollWindow = _ref.scrollWindow,\r\n      scrollDroppable = _ref.scrollDroppable;\r\n  var center = state.current.page.borderBoxCenter;\r\n  var draggable = state.dimensions.draggables[state.critical.draggable.id];\r\n  var subject = draggable.page.marginBox;\r\n\r\n  if (state.isWindowScrollAllowed) {\r\n    var viewport = state.viewport;\r\n\r\n    var _change = getWindowScrollChange({\r\n      dragStartTime: dragStartTime,\r\n      viewport: viewport,\r\n      subject: subject,\r\n      center: center,\r\n      shouldUseTimeDampening: shouldUseTimeDampening\r\n    });\r\n\r\n    if (_change) {\r\n      scrollWindow(_change);\r\n      return;\r\n    }\r\n  }\r\n\r\n  var droppable = getBestScrollableDroppable({\r\n    center: center,\r\n    destination: whatIsDraggedOver(state.impact),\r\n    droppables: state.dimensions.droppables\r\n  });\r\n\r\n  if (!droppable) {\r\n    return;\r\n  }\r\n\r\n  var change = getDroppableScrollChange({\r\n    dragStartTime: dragStartTime,\r\n    droppable: droppable,\r\n    subject: subject,\r\n    center: center,\r\n    shouldUseTimeDampening: shouldUseTimeDampening\r\n  });\r\n\r\n  if (change) {\r\n    scrollDroppable(droppable.descriptor.id, change);\r\n  }\r\n});\r\n\r\nvar createFluidScroller = (function (_ref) {\r\n  var scrollWindow = _ref.scrollWindow,\r\n      scrollDroppable = _ref.scrollDroppable;\r\n  var scheduleWindowScroll = rafSchd(scrollWindow);\r\n  var scheduleDroppableScroll = rafSchd(scrollDroppable);\r\n  var dragging = null;\r\n\r\n  var tryScroll = function tryScroll(state) {\r\n    !dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot fluid scroll if not dragging') : invariant(false) : void 0;\r\n    var _dragging = dragging,\r\n        shouldUseTimeDampening = _dragging.shouldUseTimeDampening,\r\n        dragStartTime = _dragging.dragStartTime;\r\n    scroll$1({\r\n      state: state,\r\n      scrollWindow: scheduleWindowScroll,\r\n      scrollDroppable: scheduleDroppableScroll,\r\n      dragStartTime: dragStartTime,\r\n      shouldUseTimeDampening: shouldUseTimeDampening\r\n    });\r\n  };\r\n\r\n  var start$1 = function start$1(state) {\r\n    start('starting fluid scroller');\r\n    !!dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot start auto scrolling when already started') : invariant(false) : void 0;\r\n\r\n    var dragStartTime = _Date$now();\r\n\r\n    var wasScrollNeeded = false;\r\n\r\n    var fakeScrollCallback = function fakeScrollCallback() {\r\n      wasScrollNeeded = true;\r\n    };\r\n\r\n    scroll$1({\r\n      state: state,\r\n      dragStartTime: 0,\r\n      shouldUseTimeDampening: false,\r\n      scrollWindow: fakeScrollCallback,\r\n      scrollDroppable: fakeScrollCallback\r\n    });\r\n    dragging = {\r\n      dragStartTime: dragStartTime,\r\n      shouldUseTimeDampening: wasScrollNeeded\r\n    };\r\n    finish('starting fluid scroller');\r\n\r\n    if (wasScrollNeeded) {\r\n      tryScroll(state);\r\n    }\r\n  };\r\n\r\n  var stop = function stop() {\r\n    if (!dragging) {\r\n      return;\r\n    }\r\n\r\n    scheduleWindowScroll.cancel();\r\n    scheduleDroppableScroll.cancel();\r\n    dragging = null;\r\n  };\r\n\r\n  return {\r\n    start: start$1,\r\n    stop: stop,\r\n    scroll: tryScroll\r\n  };\r\n});\r\n\r\nvar createJumpScroller = (function (_ref) {\r\n  var move = _ref.move,\r\n      scrollDroppable = _ref.scrollDroppable,\r\n      scrollWindow = _ref.scrollWindow;\r\n\r\n  var moveByOffset = function moveByOffset(state, offset) {\r\n    var client = add(state.current.client.selection, offset);\r\n    move({\r\n      client: client\r\n    });\r\n  };\r\n\r\n  var scrollDroppableAsMuchAsItCan = function scrollDroppableAsMuchAsItCan(droppable, change) {\r\n    if (!canScrollDroppable(droppable, change)) {\r\n      return change;\r\n    }\r\n\r\n    var overlap = getDroppableOverlap(droppable, change);\r\n\r\n    if (!overlap) {\r\n      scrollDroppable(droppable.descriptor.id, change);\r\n      return null;\r\n    }\r\n\r\n    var whatTheDroppableCanScroll = subtract(change, overlap);\r\n    scrollDroppable(droppable.descriptor.id, whatTheDroppableCanScroll);\r\n    var remainder = subtract(change, whatTheDroppableCanScroll);\r\n    return remainder;\r\n  };\r\n\r\n  var scrollWindowAsMuchAsItCan = function scrollWindowAsMuchAsItCan(isWindowScrollAllowed, viewport, change) {\r\n    if (!isWindowScrollAllowed) {\r\n      return change;\r\n    }\r\n\r\n    if (!canScrollWindow(viewport, change)) {\r\n      return change;\r\n    }\r\n\r\n    var overlap = getWindowOverlap(viewport, change);\r\n\r\n    if (!overlap) {\r\n      scrollWindow(change);\r\n      return null;\r\n    }\r\n\r\n    var whatTheWindowCanScroll = subtract(change, overlap);\r\n    scrollWindow(whatTheWindowCanScroll);\r\n    var remainder = subtract(change, whatTheWindowCanScroll);\r\n    return remainder;\r\n  };\r\n\r\n  var jumpScroller = function jumpScroller(state) {\r\n    var request = state.scrollJumpRequest;\r\n\r\n    if (!request) {\r\n      return;\r\n    }\r\n\r\n    var destination = whatIsDraggedOver(state.impact);\r\n    !destination ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot perform a jump scroll when there is no destination') : invariant(false) : void 0;\r\n    var droppableRemainder = scrollDroppableAsMuchAsItCan(state.dimensions.droppables[destination], request);\r\n\r\n    if (!droppableRemainder) {\r\n      return;\r\n    }\r\n\r\n    var viewport = state.viewport;\r\n    var windowRemainder = scrollWindowAsMuchAsItCan(state.isWindowScrollAllowed, viewport, droppableRemainder);\r\n\r\n    if (!windowRemainder) {\r\n      return;\r\n    }\r\n\r\n    moveByOffset(state, windowRemainder);\r\n  };\r\n\r\n  return jumpScroller;\r\n});\r\n\r\nvar createAutoScroller = (function (_ref) {\r\n  var scrollDroppable = _ref.scrollDroppable,\r\n      scrollWindow = _ref.scrollWindow,\r\n      move = _ref.move;\r\n  var fluidScroller = createFluidScroller({\r\n    scrollWindow: scrollWindow,\r\n    scrollDroppable: scrollDroppable\r\n  });\r\n  var jumpScroll = createJumpScroller({\r\n    move: move,\r\n    scrollWindow: scrollWindow,\r\n    scrollDroppable: scrollDroppable\r\n  });\r\n\r\n  var scroll = function scroll(state) {\r\n    if (state.phase !== 'DRAGGING') {\r\n      return;\r\n    }\r\n\r\n    if (state.movementMode === 'FLUID') {\r\n      fluidScroller.scroll(state);\r\n      return;\r\n    }\r\n\r\n    if (!state.scrollJumpRequest) {\r\n      return;\r\n    }\r\n\r\n    jumpScroll(state);\r\n  };\r\n\r\n  var scroller = {\r\n    scroll: scroll,\r\n    start: fluidScroller.start,\r\n    stop: fluidScroller.stop\r\n  };\r\n  return scroller;\r\n});\r\n\r\nvar prefix$1 = 'data-rbd';\r\nvar dragHandle = function () {\r\n  var base = prefix$1 + \"-drag-handle\";\r\n  return {\r\n    base: base,\r\n    draggableId: base + \"-draggable-id\",\r\n    contextId: base + \"-context-id\"\r\n  };\r\n}();\r\nvar draggable = function () {\r\n  var base = prefix$1 + \"-draggable\";\r\n  return {\r\n    base: base,\r\n    contextId: base + \"-context-id\",\r\n    id: base + \"-id\"\r\n  };\r\n}();\r\nvar droppable = function () {\r\n  var base = prefix$1 + \"-droppable\";\r\n  return {\r\n    base: base,\r\n    contextId: base + \"-context-id\",\r\n    id: base + \"-id\"\r\n  };\r\n}();\r\nvar scrollContainer = {\r\n  contextId: prefix$1 + \"-scroll-container-context-id\"\r\n};\r\n\r\nvar makeGetSelector = function makeGetSelector(context) {\r\n  return function (attribute) {\r\n    return \"[\" + attribute + \"=\\\"\" + context + \"\\\"]\";\r\n  };\r\n};\r\n\r\nvar getStyles = function getStyles(rules, property) {\r\n  return rules.map(function (rule) {\r\n    var value = rule.styles[property];\r\n\r\n    if (!value) {\r\n      return '';\r\n    }\r\n\r\n    return rule.selector + \" { \" + value + \" }\";\r\n  }).join(' ');\r\n};\r\n\r\nvar noPointerEvents = 'pointer-events: none;';\r\nvar getStyles$1 = (function (contextId) {\r\n  var getSelector = makeGetSelector(contextId);\r\n\r\n  var dragHandle$1 = function () {\r\n    var grabCursor = \"\\n      cursor: -webkit-grab;\\n      cursor: grab;\\n    \";\r\n    return {\r\n      selector: getSelector(dragHandle.contextId),\r\n      styles: {\r\n        always: \"\\n          -webkit-touch-callout: none;\\n          -webkit-tap-highlight-color: rgba(0,0,0,0);\\n          touch-action: manipulation;\\n        \",\r\n        resting: grabCursor,\r\n        dragging: noPointerEvents,\r\n        dropAnimating: grabCursor\r\n      }\r\n    };\r\n  }();\r\n\r\n  var draggable$1 = function () {\r\n    var transition = \"\\n      transition: \" + transitions.outOfTheWay + \";\\n    \";\r\n    return {\r\n      selector: getSelector(draggable.contextId),\r\n      styles: {\r\n        dragging: transition,\r\n        dropAnimating: transition,\r\n        userCancel: transition\r\n      }\r\n    };\r\n  }();\r\n\r\n  var droppable$1 = {\r\n    selector: getSelector(droppable.contextId),\r\n    styles: {\r\n      always: \"overflow-anchor: none;\"\r\n    }\r\n  };\r\n  var body = {\r\n    selector: 'body',\r\n    styles: {\r\n      dragging: \"\\n        cursor: grabbing;\\n        cursor: -webkit-grabbing;\\n        user-select: none;\\n        -webkit-user-select: none;\\n        -moz-user-select: none;\\n        -ms-user-select: none;\\n        overflow-anchor: none;\\n      \"\r\n    }\r\n  };\r\n  var rules = [draggable$1, dragHandle$1, droppable$1, body];\r\n  return {\r\n    always: getStyles(rules, 'always'),\r\n    resting: getStyles(rules, 'resting'),\r\n    dragging: getStyles(rules, 'dragging'),\r\n    dropAnimating: getStyles(rules, 'dropAnimating'),\r\n    userCancel: getStyles(rules, 'userCancel')\r\n  };\r\n});\r\n\r\nvar useIsomorphicLayoutEffect = typeof window !== 'undefined' && typeof window.document !== 'undefined' && typeof window.document.createElement !== 'undefined' ? useLayoutEffect : useEffect;\r\n\r\nvar getHead = function getHead() {\r\n  var head = document.querySelector('head');\r\n  !head ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot find the head to append a style to') : invariant(false) : void 0;\r\n  return head;\r\n};\r\n\r\nvar createStyleEl = function createStyleEl(nonce) {\r\n  var el = document.createElement('style');\r\n\r\n  if (nonce) {\r\n    el.setAttribute('nonce', nonce);\r\n  }\r\n\r\n  el.type = 'text/css';\r\n  return el;\r\n};\r\n\r\nfunction useStyleMarshal(contextId, nonce) {\r\n  var styles = useMemo(function () {\r\n    return getStyles$1(contextId);\r\n  }, [contextId]);\r\n  var alwaysRef = useRef(null);\r\n  var dynamicRef = useRef(null);\r\n  var setDynamicStyle = useCallback(memoizeOne(function (proposed) {\r\n    var el = dynamicRef.current;\r\n    !el ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot set dynamic style element if it is not set') : invariant(false) : void 0;\r\n    el.textContent = proposed;\r\n  }), []);\r\n  var setAlwaysStyle = useCallback(function (proposed) {\r\n    var el = alwaysRef.current;\r\n    !el ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot set dynamic style element if it is not set') : invariant(false) : void 0;\r\n    el.textContent = proposed;\r\n  }, []);\r\n  useIsomorphicLayoutEffect(function () {\r\n    !(!alwaysRef.current && !dynamicRef.current) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'style elements already mounted') : invariant(false) : void 0;\r\n    var always = createStyleEl(nonce);\r\n    var dynamic = createStyleEl(nonce);\r\n    alwaysRef.current = always;\r\n    dynamicRef.current = dynamic;\r\n    always.setAttribute(prefix$1 + \"-always\", contextId);\r\n    dynamic.setAttribute(prefix$1 + \"-dynamic\", contextId);\r\n    getHead().appendChild(always);\r\n    getHead().appendChild(dynamic);\r\n    setAlwaysStyle(styles.always);\r\n    setDynamicStyle(styles.resting);\r\n    return function () {\r\n      var remove = function remove(ref) {\r\n        var current = ref.current;\r\n        !current ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot unmount ref as it is not set') : invariant(false) : void 0;\r\n        getHead().removeChild(current);\r\n        ref.current = null;\r\n      };\r\n\r\n      remove(alwaysRef);\r\n      remove(dynamicRef);\r\n    };\r\n  }, [nonce, setAlwaysStyle, setDynamicStyle, styles.always, styles.resting, contextId]);\r\n  var dragging = useCallback(function () {\r\n    return setDynamicStyle(styles.dragging);\r\n  }, [setDynamicStyle, styles.dragging]);\r\n  var dropping = useCallback(function (reason) {\r\n    if (reason === 'DROP') {\r\n      setDynamicStyle(styles.dropAnimating);\r\n      return;\r\n    }\r\n\r\n    setDynamicStyle(styles.userCancel);\r\n  }, [setDynamicStyle, styles.dropAnimating, styles.userCancel]);\r\n  var resting = useCallback(function () {\r\n    if (!dynamicRef.current) {\r\n      return;\r\n    }\r\n\r\n    setDynamicStyle(styles.resting);\r\n  }, [setDynamicStyle, styles.resting]);\r\n  var marshal = useMemo(function () {\r\n    return {\r\n      dragging: dragging,\r\n      dropping: dropping,\r\n      resting: resting\r\n    };\r\n  }, [dragging, dropping, resting]);\r\n  return marshal;\r\n}\r\n\r\nvar getWindowFromEl = (function (el) {\r\n  return el && el.ownerDocument ? el.ownerDocument.defaultView : window;\r\n});\r\n\r\nfunction isHtmlElement(el) {\r\n  return el instanceof getWindowFromEl(el).HTMLElement;\r\n}\r\n\r\nfunction findDragHandle(contextId, draggableId) {\r\n  var selector = \"[\" + dragHandle.contextId + \"=\\\"\" + contextId + \"\\\"]\";\r\n  var possible = toArray(document.querySelectorAll(selector));\r\n\r\n  if (!possible.length) {\r\n    process.env.NODE_ENV !== \"production\" ? warning(\"Unable to find any drag handles in the context \\\"\" + contextId + \"\\\"\") : void 0;\r\n    return null;\r\n  }\r\n\r\n  var handle = find(possible, function (el) {\r\n    return el.getAttribute(dragHandle.draggableId) === draggableId;\r\n  });\r\n\r\n  if (!handle) {\r\n    process.env.NODE_ENV !== \"production\" ? warning(\"Unable to find drag handle with id \\\"\" + draggableId + \"\\\" as no handle with a matching id was found\") : void 0;\r\n    return null;\r\n  }\r\n\r\n  if (!isHtmlElement(handle)) {\r\n    process.env.NODE_ENV !== \"production\" ? warning('drag handle needs to be a HTMLElement') : void 0;\r\n    return null;\r\n  }\r\n\r\n  return handle;\r\n}\r\n\r\nfunction useFocusMarshal(contextId) {\r\n  var entriesRef = useRef({});\r\n  var recordRef = useRef(null);\r\n  var restoreFocusFrameRef = useRef(null);\r\n  var isMountedRef = useRef(false);\r\n  var register = useCallback(function register(id, focus) {\r\n    var entry = {\r\n      id: id,\r\n      focus: focus\r\n    };\r\n    entriesRef.current[id] = entry;\r\n    return function unregister() {\r\n      var entries = entriesRef.current;\r\n      var current = entries[id];\r\n\r\n      if (current !== entry) {\r\n        delete entries[id];\r\n      }\r\n    };\r\n  }, []);\r\n  var tryGiveFocus = useCallback(function tryGiveFocus(tryGiveFocusTo) {\r\n    var handle = findDragHandle(contextId, tryGiveFocusTo);\r\n\r\n    if (handle && handle !== document.activeElement) {\r\n      handle.focus();\r\n    }\r\n  }, [contextId]);\r\n  var tryShiftRecord = useCallback(function tryShiftRecord(previous, redirectTo) {\r\n    if (recordRef.current === previous) {\r\n      recordRef.current = redirectTo;\r\n    }\r\n  }, []);\r\n  var tryRestoreFocusRecorded = useCallback(function tryRestoreFocusRecorded() {\r\n    if (restoreFocusFrameRef.current) {\r\n      return;\r\n    }\r\n\r\n    if (!isMountedRef.current) {\r\n      return;\r\n    }\r\n\r\n    restoreFocusFrameRef.current = requestAnimationFrame(function () {\r\n      restoreFocusFrameRef.current = null;\r\n      var record = recordRef.current;\r\n\r\n      if (record) {\r\n        tryGiveFocus(record);\r\n      }\r\n    });\r\n  }, [tryGiveFocus]);\r\n  var tryRecordFocus = useCallback(function tryRecordFocus(id) {\r\n    recordRef.current = null;\r\n    var focused = document.activeElement;\r\n\r\n    if (!focused) {\r\n      return;\r\n    }\r\n\r\n    if (focused.getAttribute(dragHandle.draggableId) !== id) {\r\n      return;\r\n    }\r\n\r\n    recordRef.current = id;\r\n  }, []);\r\n  useIsomorphicLayoutEffect(function () {\r\n    isMountedRef.current = true;\r\n    return function clearFrameOnUnmount() {\r\n      isMountedRef.current = false;\r\n      var frameId = restoreFocusFrameRef.current;\r\n\r\n      if (frameId) {\r\n        cancelAnimationFrame(frameId);\r\n      }\r\n    };\r\n  }, []);\r\n  var marshal = useMemo(function () {\r\n    return {\r\n      register: register,\r\n      tryRecordFocus: tryRecordFocus,\r\n      tryRestoreFocusRecorded: tryRestoreFocusRecorded,\r\n      tryShiftRecord: tryShiftRecord\r\n    };\r\n  }, [register, tryRecordFocus, tryRestoreFocusRecorded, tryShiftRecord]);\r\n  return marshal;\r\n}\r\n\r\nfunction createRegistry() {\r\n  var entries = {\r\n    draggables: {},\r\n    droppables: {}\r\n  };\r\n  var subscribers = [];\r\n\r\n  function subscribe(cb) {\r\n    subscribers.push(cb);\r\n    return function unsubscribe() {\r\n      var index = subscribers.indexOf(cb);\r\n\r\n      if (index === -1) {\r\n        return;\r\n      }\r\n\r\n      subscribers.splice(index, 1);\r\n    };\r\n  }\r\n\r\n  function notify(event) {\r\n    if (subscribers.length) {\r\n      subscribers.forEach(function (cb) {\r\n        return cb(event);\r\n      });\r\n    }\r\n  }\r\n\r\n  function findDraggableById(id) {\r\n    return entries.draggables[id] || null;\r\n  }\r\n\r\n  function getDraggableById(id) {\r\n    var entry = findDraggableById(id);\r\n    !entry ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot find draggable entry with id [\" + id + \"]\") : invariant(false) : void 0;\r\n    return entry;\r\n  }\r\n\r\n  var draggableAPI = {\r\n    register: function register(entry) {\r\n      entries.draggables[entry.descriptor.id] = entry;\r\n      notify({\r\n        type: 'ADDITION',\r\n        value: entry\r\n      });\r\n    },\r\n    update: function update(entry, last) {\r\n      var current = entries.draggables[last.descriptor.id];\r\n\r\n      if (!current) {\r\n        return;\r\n      }\r\n\r\n      if (current.uniqueId !== entry.uniqueId) {\r\n        return;\r\n      }\r\n\r\n      delete entries.draggables[last.descriptor.id];\r\n      entries.draggables[entry.descriptor.id] = entry;\r\n    },\r\n    unregister: function unregister(entry) {\r\n      var draggableId = entry.descriptor.id;\r\n      var current = findDraggableById(draggableId);\r\n\r\n      if (!current) {\r\n        return;\r\n      }\r\n\r\n      if (entry.uniqueId !== current.uniqueId) {\r\n        return;\r\n      }\r\n\r\n      delete entries.draggables[draggableId];\r\n      notify({\r\n        type: 'REMOVAL',\r\n        value: entry\r\n      });\r\n    },\r\n    getById: getDraggableById,\r\n    findById: findDraggableById,\r\n    exists: function exists(id) {\r\n      return Boolean(findDraggableById(id));\r\n    },\r\n    getAllByType: function getAllByType(type) {\r\n      return values(entries.draggables).filter(function (entry) {\r\n        return entry.descriptor.type === type;\r\n      });\r\n    }\r\n  };\r\n\r\n  function findDroppableById(id) {\r\n    return entries.droppables[id] || null;\r\n  }\r\n\r\n  function getDroppableById(id) {\r\n    var entry = findDroppableById(id);\r\n    !entry ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot find droppable entry with id [\" + id + \"]\") : invariant(false) : void 0;\r\n    return entry;\r\n  }\r\n\r\n  var droppableAPI = {\r\n    register: function register(entry) {\r\n      entries.droppables[entry.descriptor.id] = entry;\r\n    },\r\n    unregister: function unregister(entry) {\r\n      var current = findDroppableById(entry.descriptor.id);\r\n\r\n      if (!current) {\r\n        return;\r\n      }\r\n\r\n      if (entry.uniqueId !== current.uniqueId) {\r\n        return;\r\n      }\r\n\r\n      delete entries.droppables[entry.descriptor.id];\r\n    },\r\n    getById: getDroppableById,\r\n    findById: findDroppableById,\r\n    exists: function exists(id) {\r\n      return Boolean(findDroppableById(id));\r\n    },\r\n    getAllByType: function getAllByType(type) {\r\n      return values(entries.droppables).filter(function (entry) {\r\n        return entry.descriptor.type === type;\r\n      });\r\n    }\r\n  };\r\n\r\n  function clean() {\r\n    entries.draggables = {};\r\n    entries.droppables = {};\r\n    subscribers.length = 0;\r\n  }\r\n\r\n  return {\r\n    draggable: draggableAPI,\r\n    droppable: droppableAPI,\r\n    subscribe: subscribe,\r\n    clean: clean\r\n  };\r\n}\r\n\r\nfunction useRegistry() {\r\n  var registry = useMemo(createRegistry, []);\r\n  useEffect(function () {\r\n    return function unmount() {\r\n      requestAnimationFrame(registry.clean);\r\n    };\r\n  }, [registry]);\r\n  return registry;\r\n}\r\n\r\nvar StoreContext = React.createContext(null);\r\n\r\nvar getBodyElement = (function () {\r\n  var body = document.body;\r\n  !body ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot find document.body') : invariant(false) : void 0;\r\n  return body;\r\n});\r\n\r\nvar visuallyHidden = {\r\n  position: 'absolute',\r\n  width: '1px',\r\n  height: '1px',\r\n  margin: '-1px',\r\n  border: '0',\r\n  padding: '0',\r\n  overflow: 'hidden',\r\n  clip: 'rect(0 0 0 0)',\r\n  'clip-path': 'inset(100%)'\r\n};\r\n\r\nvar getId = function getId(contextId) {\r\n  return \"rbd-announcement-\" + contextId;\r\n};\r\nfunction useAnnouncer(contextId) {\r\n  var id = useMemo(function () {\r\n    return getId(contextId);\r\n  }, [contextId]);\r\n  var ref = useRef(null);\r\n  useEffect(function setup() {\r\n    var el = document.createElement('div');\r\n    ref.current = el;\r\n    el.id = id;\r\n    el.setAttribute('aria-live', 'assertive');\r\n    el.setAttribute('role', 'log');\r\n    el.setAttribute('aria-atomic', 'true');\r\n\r\n    _Object$assign(el.style, visuallyHidden);\r\n\r\n    getBodyElement().appendChild(el);\r\n    return function cleanup() {\r\n      setTimeout(function remove() {\r\n        getBodyElement().removeChild(el);\r\n\r\n        if (el === ref.current) {\r\n          ref.current = null;\r\n        }\r\n      });\r\n    };\r\n  }, [id]);\r\n  var announce = useCallback(function (message) {\r\n    var el = ref.current;\r\n\r\n    if (el) {\r\n      el.textContent = message;\r\n      return;\r\n    }\r\n\r\n    process.env.NODE_ENV !== \"production\" ? warning(\"\\n      A screen reader message was trying to be announced but it was unable to do so.\\n      This can occur if you unmount your <DragDropContext /> in your onDragEnd.\\n      Consider calling provided.announce() before the unmount so that the instruction will\\n      not be lost for users relying on a screen reader.\\n\\n      Message not passed to screen reader:\\n\\n      \\\"\" + message + \"\\\"\\n    \") : void 0;\r\n  }, []);\r\n  return announce;\r\n}\r\n\r\nvar getId$1 = function getId(contextId) {\r\n  return \"rbd-lift-instruction-\" + contextId;\r\n};\r\nfunction useLiftInstruction(contextId, liftInstruction) {\r\n  var id = useMemo(function () {\r\n    return getId$1(contextId);\r\n  }, [contextId]);\r\n  useEffect(function mount() {\r\n    var el = document.createElement('div');\r\n    el.id = id;\r\n    el.textContent = liftInstruction;\r\n\r\n    _Object$assign(el.style, {\r\n      display: 'none'\r\n    });\r\n\r\n    getBodyElement().appendChild(el);\r\n    return function unmount() {\r\n      getBodyElement().removeChild(el);\r\n    };\r\n  }, [id, liftInstruction]);\r\n  return id;\r\n}\r\n\r\nvar AppContext = React.createContext(null);\r\n\r\nvar peerDependencies = {\r\n\treact: \"^16.8.5\",\r\n\t\"react-dom\": \"^16.8.5\"\r\n};\r\n\r\nvar semver = /(\\d+)\\.(\\d+)\\.(\\d+)/;\r\n\r\nvar getVersion = function getVersion(value) {\r\n  var result = semver.exec(value);\r\n  !(result != null) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Unable to parse React version \" + value) : invariant(false) : void 0;\r\n  var major = Number(result[1]);\r\n  var minor = Number(result[2]);\r\n  var patch = Number(result[3]);\r\n  return {\r\n    major: major,\r\n    minor: minor,\r\n    patch: patch,\r\n    raw: value\r\n  };\r\n};\r\n\r\nvar isSatisfied = function isSatisfied(expected, actual) {\r\n  if (actual.major > expected.major) {\r\n    return true;\r\n  }\r\n\r\n  if (actual.major < expected.major) {\r\n    return false;\r\n  }\r\n\r\n  if (actual.minor > expected.minor) {\r\n    return true;\r\n  }\r\n\r\n  if (actual.minor < expected.minor) {\r\n    return false;\r\n  }\r\n\r\n  return actual.patch >= expected.patch;\r\n};\r\n\r\nvar checkReactVersion = (function (peerDepValue, actualValue) {\r\n  var peerDep = getVersion(peerDepValue);\r\n  var actual = getVersion(actualValue);\r\n\r\n  if (isSatisfied(peerDep, actual)) {\r\n    return;\r\n  }\r\n\r\n  process.env.NODE_ENV !== \"production\" ? warning(\"\\n    React version: [\" + actual.raw + \"]\\n    does not satisfy expected peer dependency version: [\" + peerDep.raw + \"]\\n\\n    This can result in run time bugs, and even fatal crashes\\n  \") : void 0;\r\n});\r\n\r\nvar suffix = \"\\n  We expect a html5 doctype: <!doctype html>\\n  This is to ensure consistent browser layout and measurement\\n\\n  More information: https://github.com/atlassian/react-beautiful-dnd/blob/master/docs/guides/doctype.md\\n\";\r\nvar checkDoctype = (function (doc) {\r\n  var doctype = doc.doctype;\r\n\r\n  if (!doctype) {\r\n    process.env.NODE_ENV !== \"production\" ? warning(\"\\n      No <!doctype html> found.\\n\\n      \" + suffix + \"\\n    \") : void 0;\r\n    return;\r\n  }\r\n\r\n  if (doctype.name.toLowerCase() !== 'html') {\r\n    process.env.NODE_ENV !== \"production\" ? warning(\"\\n      Unexpected <!doctype> found: (\" + doctype.name + \")\\n\\n      \" + suffix + \"\\n    \") : void 0;\r\n  }\r\n\r\n  if (doctype.publicId !== '') {\r\n    process.env.NODE_ENV !== \"production\" ? warning(\"\\n      Unexpected <!doctype> publicId found: (\" + doctype.publicId + \")\\n      A html5 doctype does not have a publicId\\n\\n      \" + suffix + \"\\n    \") : void 0;\r\n  }\r\n});\r\n\r\nfunction useDev(useHook) {\r\n  if (process.env.NODE_ENV !== 'production') {\r\n    useHook();\r\n  }\r\n}\r\n\r\nfunction useDevSetupWarning(fn, inputs) {\r\n  useDev(function () {\r\n    useEffect(function () {\r\n      try {\r\n        fn();\r\n      } catch (e) {\r\n        error(\"\\n          A setup problem was encountered.\\n\\n          > \" + e.message + \"\\n        \");\r\n      }\r\n    }, inputs);\r\n  });\r\n}\r\n\r\nfunction useStartupValidation() {\r\n  useDevSetupWarning(function () {\r\n    checkReactVersion(peerDependencies.react, React.version);\r\n    checkDoctype(document);\r\n  }, []);\r\n}\r\n\r\nfunction usePrevious(current) {\r\n  var ref = useRef(current);\r\n  useEffect(function () {\r\n    ref.current = current;\r\n  });\r\n  return ref;\r\n}\r\n\r\nfunction create() {\r\n  var lock = null;\r\n\r\n  function isClaimed() {\r\n    return Boolean(lock);\r\n  }\r\n\r\n  function isActive(value) {\r\n    return value === lock;\r\n  }\r\n\r\n  function claim(abandon) {\r\n    !!lock ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot claim lock as it is already claimed') : invariant(false) : void 0;\r\n    var newLock = {\r\n      abandon: abandon\r\n    };\r\n    lock = newLock;\r\n    return newLock;\r\n  }\r\n\r\n  function release() {\r\n    !lock ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot release lock when there is no lock') : invariant(false) : void 0;\r\n    lock = null;\r\n  }\r\n\r\n  function tryAbandon() {\r\n    if (lock) {\r\n      lock.abandon();\r\n      release();\r\n    }\r\n  }\r\n\r\n  return {\r\n    isClaimed: isClaimed,\r\n    isActive: isActive,\r\n    claim: claim,\r\n    release: release,\r\n    tryAbandon: tryAbandon\r\n  };\r\n}\r\n\r\nvar tab = 9;\r\nvar enter = 13;\r\nvar escape = 27;\r\nvar space = 32;\r\nvar pageUp = 33;\r\nvar pageDown = 34;\r\nvar end = 35;\r\nvar home = 36;\r\nvar arrowLeft = 37;\r\nvar arrowUp = 38;\r\nvar arrowRight = 39;\r\nvar arrowDown = 40;\r\n\r\nvar _preventedKeys;\r\nvar preventedKeys = (_preventedKeys = {}, _preventedKeys[enter] = true, _preventedKeys[tab] = true, _preventedKeys);\r\nvar preventStandardKeyEvents = (function (event) {\r\n  if (preventedKeys[event.keyCode]) {\r\n    event.preventDefault();\r\n  }\r\n});\r\n\r\nvar supportedEventName = function () {\r\n  var base = 'visibilitychange';\r\n\r\n  if (typeof document === 'undefined') {\r\n    return base;\r\n  }\r\n\r\n  var candidates = [base, \"ms\" + base, \"webkit\" + base, \"moz\" + base, \"o\" + base];\r\n  var supported = find(candidates, function (eventName) {\r\n    return \"on\" + eventName in document;\r\n  });\r\n  return supported || base;\r\n}();\r\n\r\nvar primaryButton = 0;\r\nvar sloppyClickThreshold = 5;\r\n\r\nfunction isSloppyClickThresholdExceeded(original, current) {\r\n  return Math.abs(current.x - original.x) >= sloppyClickThreshold || Math.abs(current.y - original.y) >= sloppyClickThreshold;\r\n}\r\n\r\nvar idle$1 = {\r\n  type: 'IDLE'\r\n};\r\n\r\nfunction getCaptureBindings(_ref) {\r\n  var cancel = _ref.cancel,\r\n      completed = _ref.completed,\r\n      getPhase = _ref.getPhase,\r\n      setPhase = _ref.setPhase;\r\n  return [{\r\n    eventName: 'mousemove',\r\n    fn: function fn(event) {\r\n      var button = event.button,\r\n          clientX = event.clientX,\r\n          clientY = event.clientY;\r\n\r\n      if (button !== primaryButton) {\r\n        return;\r\n      }\r\n\r\n      var point = {\r\n        x: clientX,\r\n        y: clientY\r\n      };\r\n      var phase = getPhase();\r\n\r\n      if (phase.type === 'DRAGGING') {\r\n        event.preventDefault();\r\n        phase.actions.move(point);\r\n        return;\r\n      }\r\n\r\n      !(phase.type === 'PENDING') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot be IDLE') : invariant(false) : void 0;\r\n      var pending = phase.point;\r\n\r\n      if (!isSloppyClickThresholdExceeded(pending, point)) {\r\n        return;\r\n      }\r\n\r\n      event.preventDefault();\r\n      var actions = phase.actions.fluidLift(point);\r\n      setPhase({\r\n        type: 'DRAGGING',\r\n        actions: actions\r\n      });\r\n    }\r\n  }, {\r\n    eventName: 'mouseup',\r\n    fn: function fn(event) {\r\n      var phase = getPhase();\r\n\r\n      if (phase.type !== 'DRAGGING') {\r\n        cancel();\r\n        return;\r\n      }\r\n\r\n      event.preventDefault();\r\n      phase.actions.drop({\r\n        shouldBlockNextClick: true\r\n      });\r\n      completed();\r\n    }\r\n  }, {\r\n    eventName: 'mousedown',\r\n    fn: function fn(event) {\r\n      if (getPhase().type === 'DRAGGING') {\r\n        event.preventDefault();\r\n      }\r\n\r\n      cancel();\r\n    }\r\n  }, {\r\n    eventName: 'keydown',\r\n    fn: function fn(event) {\r\n      var phase = getPhase();\r\n\r\n      if (phase.type === 'PENDING') {\r\n        cancel();\r\n        return;\r\n      }\r\n\r\n      if (event.keyCode === escape) {\r\n        event.preventDefault();\r\n        cancel();\r\n        return;\r\n      }\r\n\r\n      preventStandardKeyEvents(event);\r\n    }\r\n  }, {\r\n    eventName: 'resize',\r\n    fn: cancel\r\n  }, {\r\n    eventName: 'scroll',\r\n    options: {\r\n      passive: true,\r\n      capture: false\r\n    },\r\n    fn: function fn() {\r\n      if (getPhase().type === 'PENDING') {\r\n        cancel();\r\n      }\r\n    }\r\n  }, {\r\n    eventName: 'webkitmouseforcedown',\r\n    fn: function fn(event) {\r\n      var phase = getPhase();\r\n      !(phase.type !== 'IDLE') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Unexpected phase') : invariant(false) : void 0;\r\n\r\n      if (phase.actions.shouldRespectForcePress()) {\r\n        cancel();\r\n        return;\r\n      }\r\n\r\n      event.preventDefault();\r\n    }\r\n  }, {\r\n    eventName: supportedEventName,\r\n    fn: cancel\r\n  }];\r\n}\r\n\r\nfunction useMouseSensor(api) {\r\n  var phaseRef = useRef(idle$1);\r\n  var unbindEventsRef = useRef(noop);\r\n  var startCaptureBinding = useMemo(function () {\r\n    return {\r\n      eventName: 'mousedown',\r\n      fn: function onMouseDown(event) {\r\n        if (event.defaultPrevented) {\r\n          return;\r\n        }\r\n\r\n        if (event.button !== primaryButton) {\r\n          return;\r\n        }\r\n\r\n        if (event.ctrlKey || event.metaKey || event.shiftKey || event.altKey) {\r\n          return;\r\n        }\r\n\r\n        var draggableId = api.findClosestDraggableId(event);\r\n\r\n        if (!draggableId) {\r\n          return;\r\n        }\r\n\r\n        var actions = api.tryGetLock(draggableId, stop, {\r\n          sourceEvent: event\r\n        });\r\n\r\n        if (!actions) {\r\n          return;\r\n        }\r\n\r\n        event.preventDefault();\r\n        var point = {\r\n          x: event.clientX,\r\n          y: event.clientY\r\n        };\r\n        unbindEventsRef.current();\r\n        startPendingDrag(actions, point);\r\n      }\r\n    };\r\n  }, [api]);\r\n  var preventForcePressBinding = useMemo(function () {\r\n    return {\r\n      eventName: 'webkitmouseforcewillbegin',\r\n      fn: function fn(event) {\r\n        if (event.defaultPrevented) {\r\n          return;\r\n        }\r\n\r\n        var id = api.findClosestDraggableId(event);\r\n\r\n        if (!id) {\r\n          return;\r\n        }\r\n\r\n        var options = api.findOptionsForDraggable(id);\r\n\r\n        if (!options) {\r\n          return;\r\n        }\r\n\r\n        if (options.shouldRespectForcePress) {\r\n          return;\r\n        }\r\n\r\n        if (!api.canGetLock(id)) {\r\n          return;\r\n        }\r\n\r\n        event.preventDefault();\r\n      }\r\n    };\r\n  }, [api]);\r\n  var listenForCapture = useCallback(function listenForCapture() {\r\n    var options = {\r\n      passive: false,\r\n      capture: true\r\n    };\r\n    unbindEventsRef.current = bindEvents(window, [preventForcePressBinding, startCaptureBinding], options);\r\n  }, [preventForcePressBinding, startCaptureBinding]);\r\n  var stop = useCallback(function () {\r\n    var current = phaseRef.current;\r\n\r\n    if (current.type === 'IDLE') {\r\n      return;\r\n    }\r\n\r\n    phaseRef.current = idle$1;\r\n    unbindEventsRef.current();\r\n    listenForCapture();\r\n  }, [listenForCapture]);\r\n  var cancel = useCallback(function () {\r\n    var phase = phaseRef.current;\r\n    stop();\r\n\r\n    if (phase.type === 'DRAGGING') {\r\n      phase.actions.cancel({\r\n        shouldBlockNextClick: true\r\n      });\r\n    }\r\n\r\n    if (phase.type === 'PENDING') {\r\n      phase.actions.abort();\r\n    }\r\n  }, [stop]);\r\n  var bindCapturingEvents = useCallback(function bindCapturingEvents() {\r\n    var options = {\r\n      capture: true,\r\n      passive: false\r\n    };\r\n    var bindings = getCaptureBindings({\r\n      cancel: cancel,\r\n      completed: stop,\r\n      getPhase: function getPhase() {\r\n        return phaseRef.current;\r\n      },\r\n      setPhase: function setPhase(phase) {\r\n        phaseRef.current = phase;\r\n      }\r\n    });\r\n    unbindEventsRef.current = bindEvents(window, bindings, options);\r\n  }, [cancel, stop]);\r\n  var startPendingDrag = useCallback(function startPendingDrag(actions, point) {\r\n    !(phaseRef.current.type === 'IDLE') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Expected to move from IDLE to PENDING drag') : invariant(false) : void 0;\r\n    phaseRef.current = {\r\n      type: 'PENDING',\r\n      point: point,\r\n      actions: actions\r\n    };\r\n    bindCapturingEvents();\r\n  }, [bindCapturingEvents]);\r\n  useIsomorphicLayoutEffect(function mount() {\r\n    listenForCapture();\r\n    return function unmount() {\r\n      unbindEventsRef.current();\r\n    };\r\n  }, [listenForCapture]);\r\n}\r\n\r\nvar _scrollJumpKeys;\r\n\r\nfunction noop$1() {}\r\n\r\nvar scrollJumpKeys = (_scrollJumpKeys = {}, _scrollJumpKeys[pageDown] = true, _scrollJumpKeys[pageUp] = true, _scrollJumpKeys[home] = true, _scrollJumpKeys[end] = true, _scrollJumpKeys);\r\n\r\nfunction getDraggingBindings(actions, stop) {\r\n  function cancel() {\r\n    stop();\r\n    actions.cancel();\r\n  }\r\n\r\n  function drop() {\r\n    stop();\r\n    actions.drop();\r\n  }\r\n\r\n  return [{\r\n    eventName: 'keydown',\r\n    fn: function fn(event) {\r\n      if (event.keyCode === escape) {\r\n        event.preventDefault();\r\n        cancel();\r\n        return;\r\n      }\r\n\r\n      if (event.keyCode === space) {\r\n        event.preventDefault();\r\n        drop();\r\n        return;\r\n      }\r\n\r\n      if (event.keyCode === arrowDown) {\r\n        event.preventDefault();\r\n        actions.moveDown();\r\n        return;\r\n      }\r\n\r\n      if (event.keyCode === arrowUp) {\r\n        event.preventDefault();\r\n        actions.moveUp();\r\n        return;\r\n      }\r\n\r\n      if (event.keyCode === arrowRight) {\r\n        event.preventDefault();\r\n        actions.moveRight();\r\n        return;\r\n      }\r\n\r\n      if (event.keyCode === arrowLeft) {\r\n        event.preventDefault();\r\n        actions.moveLeft();\r\n        return;\r\n      }\r\n\r\n      if (scrollJumpKeys[event.keyCode]) {\r\n        event.preventDefault();\r\n        return;\r\n      }\r\n\r\n      preventStandardKeyEvents(event);\r\n    }\r\n  }, {\r\n    eventName: 'mousedown',\r\n    fn: cancel\r\n  }, {\r\n    eventName: 'mouseup',\r\n    fn: cancel\r\n  }, {\r\n    eventName: 'click',\r\n    fn: cancel\r\n  }, {\r\n    eventName: 'touchstart',\r\n    fn: cancel\r\n  }, {\r\n    eventName: 'resize',\r\n    fn: cancel\r\n  }, {\r\n    eventName: 'wheel',\r\n    fn: cancel,\r\n    options: {\r\n      passive: true\r\n    }\r\n  }, {\r\n    eventName: supportedEventName,\r\n    fn: cancel\r\n  }];\r\n}\r\n\r\nfunction useKeyboardSensor(api) {\r\n  var unbindEventsRef = useRef(noop$1);\r\n  var startCaptureBinding = useMemo(function () {\r\n    return {\r\n      eventName: 'keydown',\r\n      fn: function onKeyDown(event) {\r\n        if (event.defaultPrevented) {\r\n          return;\r\n        }\r\n\r\n        if (event.keyCode !== space) {\r\n          return;\r\n        }\r\n\r\n        var draggableId = api.findClosestDraggableId(event);\r\n\r\n        if (!draggableId) {\r\n          return;\r\n        }\r\n\r\n        var preDrag = api.tryGetLock(draggableId, stop, {\r\n          sourceEvent: event\r\n        });\r\n\r\n        if (!preDrag) {\r\n          return;\r\n        }\r\n\r\n        event.preventDefault();\r\n        var isCapturing = true;\r\n        var actions = preDrag.snapLift();\r\n        unbindEventsRef.current();\r\n\r\n        function stop() {\r\n          !isCapturing ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot stop capturing a keyboard drag when not capturing') : invariant(false) : void 0;\r\n          isCapturing = false;\r\n          unbindEventsRef.current();\r\n          listenForCapture();\r\n        }\r\n\r\n        unbindEventsRef.current = bindEvents(window, getDraggingBindings(actions, stop), {\r\n          capture: true,\r\n          passive: false\r\n        });\r\n      }\r\n    };\r\n  }, [api]);\r\n  var listenForCapture = useCallback(function tryStartCapture() {\r\n    var options = {\r\n      passive: false,\r\n      capture: true\r\n    };\r\n    unbindEventsRef.current = bindEvents(window, [startCaptureBinding], options);\r\n  }, [startCaptureBinding]);\r\n  useIsomorphicLayoutEffect(function mount() {\r\n    listenForCapture();\r\n    return function unmount() {\r\n      unbindEventsRef.current();\r\n    };\r\n  }, [listenForCapture]);\r\n}\r\n\r\nvar idle$2 = {\r\n  type: 'IDLE'\r\n};\r\nvar timeForLongPress = 120;\r\nvar forcePressThreshold = 0.15;\r\n\r\nfunction getWindowBindings(_ref) {\r\n  var cancel = _ref.cancel,\r\n      getPhase = _ref.getPhase;\r\n  return [{\r\n    eventName: 'orientationchange',\r\n    fn: cancel\r\n  }, {\r\n    eventName: 'resize',\r\n    fn: cancel\r\n  }, {\r\n    eventName: 'contextmenu',\r\n    fn: function fn(event) {\r\n      event.preventDefault();\r\n    }\r\n  }, {\r\n    eventName: 'keydown',\r\n    fn: function fn(event) {\r\n      if (getPhase().type !== 'DRAGGING') {\r\n        cancel();\r\n        return;\r\n      }\r\n\r\n      if (event.keyCode === escape) {\r\n        event.preventDefault();\r\n      }\r\n\r\n      cancel();\r\n    }\r\n  }, {\r\n    eventName: supportedEventName,\r\n    fn: cancel\r\n  }];\r\n}\r\n\r\nfunction getHandleBindings(_ref2) {\r\n  var cancel = _ref2.cancel,\r\n      completed = _ref2.completed,\r\n      getPhase = _ref2.getPhase;\r\n  return [{\r\n    eventName: 'touchmove',\r\n    options: {\r\n      capture: false\r\n    },\r\n    fn: function fn(event) {\r\n      var phase = getPhase();\r\n\r\n      if (phase.type !== 'DRAGGING') {\r\n        cancel();\r\n        return;\r\n      }\r\n\r\n      phase.hasMoved = true;\r\n      var _event$touches$ = event.touches[0],\r\n          clientX = _event$touches$.clientX,\r\n          clientY = _event$touches$.clientY;\r\n      var point = {\r\n        x: clientX,\r\n        y: clientY\r\n      };\r\n      event.preventDefault();\r\n      phase.actions.move(point);\r\n    }\r\n  }, {\r\n    eventName: 'touchend',\r\n    fn: function fn(event) {\r\n      var phase = getPhase();\r\n\r\n      if (phase.type !== 'DRAGGING') {\r\n        cancel();\r\n        return;\r\n      }\r\n\r\n      event.preventDefault();\r\n      phase.actions.drop({\r\n        shouldBlockNextClick: true\r\n      });\r\n      completed();\r\n    }\r\n  }, {\r\n    eventName: 'touchcancel',\r\n    fn: function fn(event) {\r\n      if (getPhase().type !== 'DRAGGING') {\r\n        cancel();\r\n        return;\r\n      }\r\n\r\n      event.preventDefault();\r\n      cancel();\r\n    }\r\n  }, {\r\n    eventName: 'touchforcechange',\r\n    fn: function fn(event) {\r\n      var phase = getPhase();\r\n      !(phase.type !== 'IDLE') ? process.env.NODE_ENV !== \"production\" ? invariant(false) : invariant(false) : void 0;\r\n      var touch = event.touches[0];\r\n\r\n      if (!touch) {\r\n        return;\r\n      }\r\n\r\n      var isForcePress = touch.force >= forcePressThreshold;\r\n\r\n      if (!isForcePress) {\r\n        return;\r\n      }\r\n\r\n      var shouldRespect = phase.actions.shouldRespectForcePress();\r\n\r\n      if (phase.type === 'PENDING') {\r\n        if (shouldRespect) {\r\n          cancel();\r\n        }\r\n\r\n        return;\r\n      }\r\n\r\n      if (shouldRespect) {\r\n        if (phase.hasMoved) {\r\n          event.preventDefault();\r\n          return;\r\n        }\r\n\r\n        cancel();\r\n        return;\r\n      }\r\n\r\n      event.preventDefault();\r\n    }\r\n  }, {\r\n    eventName: supportedEventName,\r\n    fn: cancel\r\n  }];\r\n}\r\n\r\nfunction useMouseSensor$1(api) {\r\n  var phaseRef = useRef(idle$2);\r\n  var unbindEventsRef = useRef(noop);\r\n  var getPhase = useCallback(function getPhase() {\r\n    return phaseRef.current;\r\n  }, []);\r\n  var setPhase = useCallback(function setPhase(phase) {\r\n    phaseRef.current = phase;\r\n  }, []);\r\n  var startCaptureBinding = useMemo(function () {\r\n    return {\r\n      eventName: 'touchstart',\r\n      fn: function onTouchStart(event) {\r\n        if (event.defaultPrevented) {\r\n          return;\r\n        }\r\n\r\n        var draggableId = api.findClosestDraggableId(event);\r\n\r\n        if (!draggableId) {\r\n          return;\r\n        }\r\n\r\n        var actions = api.tryGetLock(draggableId, stop, {\r\n          sourceEvent: event\r\n        });\r\n\r\n        if (!actions) {\r\n          return;\r\n        }\r\n\r\n        var touch = event.touches[0];\r\n        var clientX = touch.clientX,\r\n            clientY = touch.clientY;\r\n        var point = {\r\n          x: clientX,\r\n          y: clientY\r\n        };\r\n        unbindEventsRef.current();\r\n        startPendingDrag(actions, point);\r\n      }\r\n    };\r\n  }, [api]);\r\n  var listenForCapture = useCallback(function listenForCapture() {\r\n    var options = {\r\n      capture: true,\r\n      passive: false\r\n    };\r\n    unbindEventsRef.current = bindEvents(window, [startCaptureBinding], options);\r\n  }, [startCaptureBinding]);\r\n  var stop = useCallback(function () {\r\n    var current = phaseRef.current;\r\n\r\n    if (current.type === 'IDLE') {\r\n      return;\r\n    }\r\n\r\n    if (current.type === 'PENDING') {\r\n      clearTimeout(current.longPressTimerId);\r\n    }\r\n\r\n    setPhase(idle$2);\r\n    unbindEventsRef.current();\r\n    listenForCapture();\r\n  }, [listenForCapture, setPhase]);\r\n  var cancel = useCallback(function () {\r\n    var phase = phaseRef.current;\r\n    stop();\r\n\r\n    if (phase.type === 'DRAGGING') {\r\n      phase.actions.cancel({\r\n        shouldBlockNextClick: true\r\n      });\r\n    }\r\n\r\n    if (phase.type === 'PENDING') {\r\n      phase.actions.abort();\r\n    }\r\n  }, [stop]);\r\n  var bindCapturingEvents = useCallback(function bindCapturingEvents() {\r\n    var options = {\r\n      capture: true,\r\n      passive: false\r\n    };\r\n    var args = {\r\n      cancel: cancel,\r\n      completed: stop,\r\n      getPhase: getPhase\r\n    };\r\n    var unbindTarget = bindEvents(window, getHandleBindings(args), options);\r\n    var unbindWindow = bindEvents(window, getWindowBindings(args), options);\r\n\r\n    unbindEventsRef.current = function unbindAll() {\r\n      unbindTarget();\r\n      unbindWindow();\r\n    };\r\n  }, [cancel, getPhase, stop]);\r\n  var startDragging = useCallback(function startDragging() {\r\n    var phase = getPhase();\r\n    !(phase.type === 'PENDING') ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot start dragging from phase \" + phase.type) : invariant(false) : void 0;\r\n    var actions = phase.actions.fluidLift(phase.point);\r\n    setPhase({\r\n      type: 'DRAGGING',\r\n      actions: actions,\r\n      hasMoved: false\r\n    });\r\n  }, [getPhase, setPhase]);\r\n  var startPendingDrag = useCallback(function startPendingDrag(actions, point) {\r\n    !(getPhase().type === 'IDLE') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Expected to move from IDLE to PENDING drag') : invariant(false) : void 0;\r\n    var longPressTimerId = setTimeout(startDragging, timeForLongPress);\r\n    setPhase({\r\n      type: 'PENDING',\r\n      point: point,\r\n      actions: actions,\r\n      longPressTimerId: longPressTimerId\r\n    });\r\n    bindCapturingEvents();\r\n  }, [bindCapturingEvents, getPhase, setPhase, startDragging]);\r\n  useIsomorphicLayoutEffect(function mount() {\r\n    listenForCapture();\r\n    return function unmount() {\r\n      unbindEventsRef.current();\r\n      var phase = getPhase();\r\n\r\n      if (phase.type === 'PENDING') {\r\n        clearTimeout(phase.longPressTimerId);\r\n        setPhase(idle$2);\r\n      }\r\n    };\r\n  }, [getPhase, listenForCapture, setPhase]);\r\n  useIsomorphicLayoutEffect(function webkitHack() {\r\n    var unbind = bindEvents(window, [{\r\n      eventName: 'touchmove',\r\n      fn: function fn() {},\r\n      options: {\r\n        capture: false,\r\n        passive: false\r\n      }\r\n    }]);\r\n    return unbind;\r\n  }, []);\r\n}\r\n\r\nfunction useValidateSensorHooks(sensorHooks) {\r\n  useDev(function () {\r\n    var previousRef = usePrevious(sensorHooks);\r\n    useDevSetupWarning(function () {\r\n      !(previousRef.current.length === sensorHooks.length) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot change the amount of sensor hooks after mounting') : invariant(false) : void 0;\r\n    });\r\n  });\r\n}\r\n\r\nvar interactiveTagNames = {\r\n  input: true,\r\n  button: true,\r\n  textarea: true,\r\n  select: true,\r\n  option: true,\r\n  optgroup: true,\r\n  video: true,\r\n  audio: true\r\n};\r\n\r\nfunction isAnInteractiveElement(parent, current) {\r\n  if (current == null) {\r\n    return false;\r\n  }\r\n\r\n  var hasAnInteractiveTag = Boolean(interactiveTagNames[current.tagName.toLowerCase()]);\r\n\r\n  if (hasAnInteractiveTag) {\r\n    return true;\r\n  }\r\n\r\n  var attribute = current.getAttribute('contenteditable');\r\n\r\n  if (attribute === 'true' || attribute === '') {\r\n    return true;\r\n  }\r\n\r\n  if (current === parent) {\r\n    return false;\r\n  }\r\n\r\n  return isAnInteractiveElement(parent, current.parentElement);\r\n}\r\n\r\nfunction isEventInInteractiveElement(draggable, event) {\r\n  var target = event.target;\r\n\r\n  if (!isHtmlElement(target)) {\r\n    return false;\r\n  }\r\n\r\n  return isAnInteractiveElement(draggable, target);\r\n}\r\n\r\nvar getBorderBoxCenterPosition = (function (el) {\r\n  return getRect(el.getBoundingClientRect()).center;\r\n});\r\n\r\nfunction isElement(el) {\r\n  return el instanceof getWindowFromEl(el).Element;\r\n}\r\n\r\nvar supportedMatchesName = function () {\r\n  var base = 'matches';\r\n\r\n  if (typeof document === 'undefined') {\r\n    return base;\r\n  }\r\n\r\n  var candidates = [base, 'msMatchesSelector', 'webkitMatchesSelector'];\r\n  var value = find(candidates, function (name) {\r\n    return name in Element.prototype;\r\n  });\r\n  return value || base;\r\n}();\r\n\r\nfunction closestPonyfill(el, selector) {\r\n  if (el == null) {\r\n    return null;\r\n  }\r\n\r\n  if (el[supportedMatchesName](selector)) {\r\n    return el;\r\n  }\r\n\r\n  return closestPonyfill(el.parentElement, selector);\r\n}\r\n\r\nfunction closest$1(el, selector) {\r\n  if (el.closest) {\r\n    return el.closest(selector);\r\n  }\r\n\r\n  return closestPonyfill(el, selector);\r\n}\r\n\r\nfunction getSelector(contextId) {\r\n  return \"[\" + dragHandle.contextId + \"=\\\"\" + contextId + \"\\\"]\";\r\n}\r\n\r\nfunction findClosestDragHandleFromEvent(contextId, event) {\r\n  var target = event.target;\r\n\r\n  if (!isElement(target)) {\r\n    process.env.NODE_ENV !== \"production\" ? warning('event.target must be a Element') : void 0;\r\n    return null;\r\n  }\r\n\r\n  var selector = getSelector(contextId);\r\n  var handle = closest$1(target, selector);\r\n\r\n  if (!handle) {\r\n    return null;\r\n  }\r\n\r\n  if (!isHtmlElement(handle)) {\r\n    process.env.NODE_ENV !== \"production\" ? warning('drag handle must be a HTMLElement') : void 0;\r\n    return null;\r\n  }\r\n\r\n  return handle;\r\n}\r\n\r\nfunction tryGetClosestDraggableIdFromEvent(contextId, event) {\r\n  var handle = findClosestDragHandleFromEvent(contextId, event);\r\n\r\n  if (!handle) {\r\n    return null;\r\n  }\r\n\r\n  return handle.getAttribute(dragHandle.draggableId);\r\n}\r\n\r\nfunction findDraggable(contextId, draggableId) {\r\n  var selector = \"[\" + draggable.contextId + \"=\\\"\" + contextId + \"\\\"]\";\r\n  var possible = toArray(document.querySelectorAll(selector));\r\n  var draggable$1 = find(possible, function (el) {\r\n    return el.getAttribute(draggable.id) === draggableId;\r\n  });\r\n\r\n  if (!draggable$1) {\r\n    return null;\r\n  }\r\n\r\n  if (!isHtmlElement(draggable$1)) {\r\n    process.env.NODE_ENV !== \"production\" ? warning('Draggable element is not a HTMLElement') : void 0;\r\n    return null;\r\n  }\r\n\r\n  return draggable$1;\r\n}\r\n\r\nfunction preventDefault(event) {\r\n  event.preventDefault();\r\n}\r\n\r\nfunction _isActive(_ref) {\r\n  var expected = _ref.expected,\r\n      phase = _ref.phase,\r\n      isLockActive = _ref.isLockActive,\r\n      shouldWarn = _ref.shouldWarn;\r\n\r\n  if (!isLockActive()) {\r\n    if (shouldWarn) {\r\n      process.env.NODE_ENV !== \"production\" ? warning(\"\\n        Cannot perform action.\\n        The sensor no longer has an action lock.\\n\\n        Tips:\\n\\n        - Throw away your action handlers when forceStop() is called\\n        - Check actions.isActive() if you really need to\\n      \") : void 0;\r\n    }\r\n\r\n    return false;\r\n  }\r\n\r\n  if (expected !== phase) {\r\n    if (shouldWarn) {\r\n      process.env.NODE_ENV !== \"production\" ? warning(\"\\n        Cannot perform action.\\n        The actions you used belong to an outdated phase\\n\\n        Current phase: \" + expected + \"\\n        You called an action from outdated phase: \" + phase + \"\\n\\n        Tips:\\n\\n        - Do not use preDragActions actions after calling preDragActions.lift()\\n      \") : void 0;\r\n    }\r\n\r\n    return false;\r\n  }\r\n\r\n  return true;\r\n}\r\n\r\nfunction canStart(_ref2) {\r\n  var lockAPI = _ref2.lockAPI,\r\n      store = _ref2.store,\r\n      registry = _ref2.registry,\r\n      draggableId = _ref2.draggableId;\r\n\r\n  if (lockAPI.isClaimed()) {\r\n    return false;\r\n  }\r\n\r\n  var entry = registry.draggable.findById(draggableId);\r\n\r\n  if (!entry) {\r\n    process.env.NODE_ENV !== \"production\" ? warning(\"Unable to find draggable with id: \" + draggableId) : void 0;\r\n    return false;\r\n  }\r\n\r\n  if (!entry.options.isEnabled) {\r\n    return false;\r\n  }\r\n\r\n  if (!canStartDrag(store.getState(), draggableId)) {\r\n    return false;\r\n  }\r\n\r\n  return true;\r\n}\r\n\r\nfunction tryStart(_ref3) {\r\n  var lockAPI = _ref3.lockAPI,\r\n      contextId = _ref3.contextId,\r\n      store = _ref3.store,\r\n      registry = _ref3.registry,\r\n      draggableId = _ref3.draggableId,\r\n      forceSensorStop = _ref3.forceSensorStop,\r\n      sourceEvent = _ref3.sourceEvent;\r\n  var shouldStart = canStart({\r\n    lockAPI: lockAPI,\r\n    store: store,\r\n    registry: registry,\r\n    draggableId: draggableId\r\n  });\r\n\r\n  if (!shouldStart) {\r\n    return null;\r\n  }\r\n\r\n  var entry = registry.draggable.getById(draggableId);\r\n  var el = findDraggable(contextId, entry.descriptor.id);\r\n\r\n  if (!el) {\r\n    process.env.NODE_ENV !== \"production\" ? warning(\"Unable to find draggable element with id: \" + draggableId) : void 0;\r\n    return null;\r\n  }\r\n\r\n  if (sourceEvent && !entry.options.canDragInteractiveElements && isEventInInteractiveElement(el, sourceEvent)) {\r\n    return null;\r\n  }\r\n\r\n  var lock = lockAPI.claim(forceSensorStop || noop);\r\n  var phase = 'PRE_DRAG';\r\n\r\n  function getShouldRespectForcePress() {\r\n    return entry.options.shouldRespectForcePress;\r\n  }\r\n\r\n  function isLockActive() {\r\n    return lockAPI.isActive(lock);\r\n  }\r\n\r\n  function tryDispatch(expected, getAction) {\r\n    if (_isActive({\r\n      expected: expected,\r\n      phase: phase,\r\n      isLockActive: isLockActive,\r\n      shouldWarn: true\r\n    })) {\r\n      store.dispatch(getAction());\r\n    }\r\n  }\r\n\r\n  var tryDispatchWhenDragging = tryDispatch.bind(this, 'DRAGGING');\r\n\r\n  function lift$1(args) {\r\n    function completed() {\r\n      lockAPI.release();\r\n      phase = 'COMPLETED';\r\n    }\r\n\r\n    if (phase !== 'PRE_DRAG') {\r\n      completed();\r\n      !(phase === 'PRE_DRAG') ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot lift in phase \" + phase) : invariant(false) : void 0;\r\n    }\r\n\r\n    store.dispatch(lift(args.liftActionArgs));\r\n    phase = 'DRAGGING';\r\n\r\n    function finish(reason, options) {\r\n      if (options === void 0) {\r\n        options = {\r\n          shouldBlockNextClick: false\r\n        };\r\n      }\r\n\r\n      args.cleanup();\r\n\r\n      if (options.shouldBlockNextClick) {\r\n        var unbind = bindEvents(window, [{\r\n          eventName: 'click',\r\n          fn: preventDefault,\r\n          options: {\r\n            once: true,\r\n            passive: false,\r\n            capture: true\r\n          }\r\n        }]);\r\n        setTimeout(unbind);\r\n      }\r\n\r\n      completed();\r\n      store.dispatch(drop({\r\n        reason: reason\r\n      }));\r\n    }\r\n\r\n    return _extends({\r\n      isActive: function isActive() {\r\n        return _isActive({\r\n          expected: 'DRAGGING',\r\n          phase: phase,\r\n          isLockActive: isLockActive,\r\n          shouldWarn: false\r\n        });\r\n      },\r\n      shouldRespectForcePress: getShouldRespectForcePress,\r\n      drop: function drop(options) {\r\n        return finish('DROP', options);\r\n      },\r\n      cancel: function cancel(options) {\r\n        return finish('CANCEL', options);\r\n      }\r\n    }, args.actions);\r\n  }\r\n\r\n  function fluidLift(clientSelection) {\r\n    var move$1 = rafSchd(function (client) {\r\n      tryDispatchWhenDragging(function () {\r\n        return move({\r\n          client: client\r\n        });\r\n      });\r\n    });\r\n    var api = lift$1({\r\n      liftActionArgs: {\r\n        id: draggableId,\r\n        clientSelection: clientSelection,\r\n        movementMode: 'FLUID'\r\n      },\r\n      cleanup: function cleanup() {\r\n        return move$1.cancel();\r\n      },\r\n      actions: {\r\n        move: move$1\r\n      }\r\n    });\r\n    return _extends({}, api, {\r\n      move: move$1\r\n    });\r\n  }\r\n\r\n  function snapLift() {\r\n    var actions = {\r\n      moveUp: function moveUp$1() {\r\n        return tryDispatchWhenDragging(moveUp);\r\n      },\r\n      moveRight: function moveRight$1() {\r\n        return tryDispatchWhenDragging(moveRight);\r\n      },\r\n      moveDown: function moveDown$1() {\r\n        return tryDispatchWhenDragging(moveDown);\r\n      },\r\n      moveLeft: function moveLeft$1() {\r\n        return tryDispatchWhenDragging(moveLeft);\r\n      }\r\n    };\r\n    return lift$1({\r\n      liftActionArgs: {\r\n        id: draggableId,\r\n        clientSelection: getBorderBoxCenterPosition(el),\r\n        movementMode: 'SNAP'\r\n      },\r\n      cleanup: noop,\r\n      actions: actions\r\n    });\r\n  }\r\n\r\n  function abortPreDrag() {\r\n    var shouldRelease = _isActive({\r\n      expected: 'PRE_DRAG',\r\n      phase: phase,\r\n      isLockActive: isLockActive,\r\n      shouldWarn: true\r\n    });\r\n\r\n    if (shouldRelease) {\r\n      lockAPI.release();\r\n    }\r\n  }\r\n\r\n  var preDrag = {\r\n    isActive: function isActive() {\r\n      return _isActive({\r\n        expected: 'PRE_DRAG',\r\n        phase: phase,\r\n        isLockActive: isLockActive,\r\n        shouldWarn: false\r\n      });\r\n    },\r\n    shouldRespectForcePress: getShouldRespectForcePress,\r\n    fluidLift: fluidLift,\r\n    snapLift: snapLift,\r\n    abort: abortPreDrag\r\n  };\r\n  return preDrag;\r\n}\r\n\r\nvar defaultSensors = [useMouseSensor, useKeyboardSensor, useMouseSensor$1];\r\nfunction useSensorMarshal(_ref4) {\r\n  var contextId = _ref4.contextId,\r\n      store = _ref4.store,\r\n      registry = _ref4.registry,\r\n      customSensors = _ref4.customSensors,\r\n      enableDefaultSensors = _ref4.enableDefaultSensors;\r\n  var useSensors = [].concat(enableDefaultSensors ? defaultSensors : [], customSensors || []);\r\n  var lockAPI = useState(function () {\r\n    return create();\r\n  })[0];\r\n  var tryAbandonLock = useCallback(function tryAbandonLock(previous, current) {\r\n    if (previous.isDragging && !current.isDragging) {\r\n      lockAPI.tryAbandon();\r\n    }\r\n  }, [lockAPI]);\r\n  useIsomorphicLayoutEffect(function listenToStore() {\r\n    var previous = store.getState();\r\n    var unsubscribe = store.subscribe(function () {\r\n      var current = store.getState();\r\n      tryAbandonLock(previous, current);\r\n      previous = current;\r\n    });\r\n    return unsubscribe;\r\n  }, [lockAPI, store, tryAbandonLock]);\r\n  useIsomorphicLayoutEffect(function () {\r\n    return lockAPI.tryAbandon;\r\n  }, [lockAPI.tryAbandon]);\r\n  var canGetLock = useCallback(function (draggableId) {\r\n    return canStart({\r\n      lockAPI: lockAPI,\r\n      registry: registry,\r\n      store: store,\r\n      draggableId: draggableId\r\n    });\r\n  }, [lockAPI, registry, store]);\r\n  var tryGetLock = useCallback(function (draggableId, forceStop, options) {\r\n    return tryStart({\r\n      lockAPI: lockAPI,\r\n      registry: registry,\r\n      contextId: contextId,\r\n      store: store,\r\n      draggableId: draggableId,\r\n      forceSensorStop: forceStop,\r\n      sourceEvent: options && options.sourceEvent ? options.sourceEvent : null\r\n    });\r\n  }, [contextId, lockAPI, registry, store]);\r\n  var findClosestDraggableId = useCallback(function (event) {\r\n    return tryGetClosestDraggableIdFromEvent(contextId, event);\r\n  }, [contextId]);\r\n  var findOptionsForDraggable = useCallback(function (id) {\r\n    var entry = registry.draggable.findById(id);\r\n    return entry ? entry.options : null;\r\n  }, [registry.draggable]);\r\n  var tryReleaseLock = useCallback(lockAPI.tryAbandon, [lockAPI]);\r\n  var isLockClaimed = useCallback(lockAPI.isClaimed, [lockAPI]);\r\n  var api = useMemo(function () {\r\n    return {\r\n      canGetLock: canGetLock,\r\n      tryGetLock: tryGetLock,\r\n      findClosestDraggableId: findClosestDraggableId,\r\n      findOptionsForDraggable: findOptionsForDraggable,\r\n      tryReleaseLock: tryReleaseLock,\r\n      isLockClaimed: isLockClaimed\r\n    };\r\n  }, [canGetLock, tryGetLock, findClosestDraggableId, findOptionsForDraggable, tryReleaseLock, isLockClaimed]);\r\n  useValidateSensorHooks(useSensors);\r\n\r\n  for (var i = 0; i < useSensors.length; i++) {\r\n    useSensors[i](api);\r\n  }\r\n}\r\n\r\nvar createResponders = function createResponders(props) {\r\n  return {\r\n    onBeforeCapture: props.onBeforeCapture,\r\n    onBeforeDragStart: props.onBeforeDragStart,\r\n    onDragStart: props.onDragStart,\r\n    onDragEnd: props.onDragEnd,\r\n    onDragUpdate: props.onDragUpdate\r\n  };\r\n};\r\n\r\nfunction getStore(lazyRef) {\r\n  !lazyRef.current ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Could not find store from lazy ref') : invariant(false) : void 0;\r\n  return lazyRef.current;\r\n}\r\n\r\nfunction App(props) {\r\n  var contextId = props.contextId,\r\n      setCallbacks = props.setCallbacks,\r\n      sensors = props.sensors,\r\n      nonce = props.nonce,\r\n      liftInstruction = props.liftInstruction;\r\n  var lazyStoreRef = useRef(null);\r\n  useStartupValidation();\r\n  var lastPropsRef = usePrevious(props);\r\n  var getResponders = useCallback(function () {\r\n    return createResponders(lastPropsRef.current);\r\n  }, [lastPropsRef]);\r\n  var announce = useAnnouncer(contextId);\r\n  var liftInstructionId = useLiftInstruction(contextId, liftInstruction);\r\n  var styleMarshal = useStyleMarshal(contextId, nonce);\r\n  var lazyDispatch = useCallback(function (action) {\r\n    getStore(lazyStoreRef).dispatch(action);\r\n  }, []);\r\n  var marshalCallbacks = useMemo(function () {\r\n    return bindActionCreators({\r\n      publishWhileDragging: publishWhileDragging,\r\n      updateDroppableScroll: updateDroppableScroll,\r\n      updateDroppableIsEnabled: updateDroppableIsEnabled,\r\n      updateDroppableIsCombineEnabled: updateDroppableIsCombineEnabled,\r\n      collectionStarting: collectionStarting\r\n    }, lazyDispatch);\r\n  }, [lazyDispatch]);\r\n  var registry = useRegistry();\r\n  var dimensionMarshal = useMemo(function () {\r\n    return createDimensionMarshal(registry, marshalCallbacks);\r\n  }, [registry, marshalCallbacks]);\r\n  var autoScroller = useMemo(function () {\r\n    return createAutoScroller(_extends({\r\n      scrollWindow: scrollWindow,\r\n      scrollDroppable: dimensionMarshal.scrollDroppable\r\n    }, bindActionCreators({\r\n      move: move\r\n    }, lazyDispatch)));\r\n  }, [dimensionMarshal.scrollDroppable, lazyDispatch]);\r\n  var focusMarshal = useFocusMarshal(contextId);\r\n  var store = useMemo(function () {\r\n    return createStore({\r\n      announce: announce,\r\n      autoScroller: autoScroller,\r\n      dimensionMarshal: dimensionMarshal,\r\n      focusMarshal: focusMarshal,\r\n      getResponders: getResponders,\r\n      styleMarshal: styleMarshal\r\n    });\r\n  }, [announce, autoScroller, dimensionMarshal, focusMarshal, getResponders, styleMarshal]);\r\n\r\n  if (process.env.NODE_ENV !== 'production') {\r\n    if (lazyStoreRef.current && lazyStoreRef.current !== store) {\r\n      process.env.NODE_ENV !== \"production\" ? warning('unexpected store change') : void 0;\r\n    }\r\n  }\r\n\r\n  lazyStoreRef.current = store;\r\n  var tryResetStore = useCallback(function () {\r\n    var current = getStore(lazyStoreRef);\r\n    var state = current.getState();\r\n\r\n    if (state.phase !== 'IDLE') {\r\n      current.dispatch(flush());\r\n    }\r\n  }, []);\r\n  var isDragging = useCallback(function () {\r\n    var state = getStore(lazyStoreRef).getState();\r\n    return state.isDragging || state.phase === 'DROP_ANIMATING';\r\n  }, []);\r\n  var appCallbacks = useMemo(function () {\r\n    return {\r\n      isDragging: isDragging,\r\n      tryAbort: tryResetStore\r\n    };\r\n  }, [isDragging, tryResetStore]);\r\n  setCallbacks(appCallbacks);\r\n  var getCanLift = useCallback(function (id) {\r\n    return canStartDrag(getStore(lazyStoreRef).getState(), id);\r\n  }, []);\r\n  var getIsMovementAllowed = useCallback(function () {\r\n    return isMovementAllowed(getStore(lazyStoreRef).getState());\r\n  }, []);\r\n  var appContext = useMemo(function () {\r\n    return {\r\n      marshal: dimensionMarshal,\r\n      focus: focusMarshal,\r\n      contextId: contextId,\r\n      canLift: getCanLift,\r\n      isMovementAllowed: getIsMovementAllowed,\r\n      liftInstructionId: liftInstructionId,\r\n      registry: registry\r\n    };\r\n  }, [contextId, dimensionMarshal, focusMarshal, getCanLift, getIsMovementAllowed, liftInstructionId, registry]);\r\n  useSensorMarshal({\r\n    contextId: contextId,\r\n    store: store,\r\n    registry: registry,\r\n    customSensors: sensors,\r\n    enableDefaultSensors: props.enableDefaultSensors !== false\r\n  });\r\n  useEffect(function () {\r\n    return tryResetStore;\r\n  }, [tryResetStore]);\r\n  return React.createElement(AppContext.Provider, {\r\n    value: appContext\r\n  }, React.createElement(Provider, {\r\n    context: StoreContext,\r\n    store: store\r\n  }, props.children));\r\n}\r\n\r\nvar instanceCount = 0;\r\nfunction resetServerContext() {\r\n  instanceCount = 0;\r\n}\r\nfunction DragDropContext(props) {\r\n  var contextId = useMemo(function () {\r\n    return \"\" + instanceCount++;\r\n  }, []);\r\n  var liftInstruction = props.liftInstruction || preset.liftInstruction;\r\n  return React.createElement(ErrorBoundary, null, function (setCallbacks) {\r\n    return React.createElement(App, {\r\n      nonce: props.nonce,\r\n      contextId: contextId,\r\n      setCallbacks: setCallbacks,\r\n      liftInstruction: liftInstruction,\r\n      enableDefaultSensors: props.enableDefaultSensors,\r\n      sensors: props.sensors,\r\n      onBeforeCapture: props.onBeforeCapture,\r\n      onBeforeDragStart: props.onBeforeDragStart,\r\n      onDragStart: props.onDragStart,\r\n      onDragUpdate: props.onDragUpdate,\r\n      onDragEnd: props.onDragEnd\r\n    }, props.children);\r\n  });\r\n}\r\n\r\nvar isEqual$1 = function isEqual(base) {\r\n  return function (value) {\r\n    return base === value;\r\n  };\r\n};\r\n\r\nvar isScroll = isEqual$1('scroll');\r\nvar isAuto = isEqual$1('auto');\r\nvar isVisible$1 = isEqual$1('visible');\r\n\r\nvar isEither = function isEither(overflow, fn) {\r\n  return fn(overflow.overflowX) || fn(overflow.overflowY);\r\n};\r\n\r\nvar isBoth = function isBoth(overflow, fn) {\r\n  return fn(overflow.overflowX) && fn(overflow.overflowY);\r\n};\r\n\r\nvar isElementScrollable = function isElementScrollable(el) {\r\n  var style = window.getComputedStyle(el);\r\n  var overflow = {\r\n    overflowX: style.overflowX,\r\n    overflowY: style.overflowY\r\n  };\r\n  return isEither(overflow, isScroll) || isEither(overflow, isAuto);\r\n};\r\n\r\nvar isBodyScrollable = function isBodyScrollable() {\r\n  if (process.env.NODE_ENV === 'production') {\r\n    return false;\r\n  }\r\n\r\n  var body = getBodyElement();\r\n  var html = document.documentElement;\r\n  !html ? process.env.NODE_ENV !== \"production\" ? invariant(false) : invariant(false) : void 0;\r\n\r\n  if (!isElementScrollable(body)) {\r\n    return false;\r\n  }\r\n\r\n  var htmlStyle = window.getComputedStyle(html);\r\n  var htmlOverflow = {\r\n    overflowX: htmlStyle.overflowX,\r\n    overflowY: htmlStyle.overflowY\r\n  };\r\n\r\n  if (isBoth(htmlOverflow, isVisible$1)) {\r\n    return false;\r\n  }\r\n\r\n  process.env.NODE_ENV !== \"production\" ? warning(\"\\n    We have detected that your <body> element might be a scroll container.\\n    We have found no reliable way of detecting whether the <body> element is a scroll container.\\n    Under most circumstances a <body> scroll bar will be on the <html> element (document.documentElement)\\n\\n    Because we cannot determine if the <body> is a scroll container, and generally it is not one,\\n    we will be treating the <body> as *not* a scroll container\\n\\n    More information: https://github.com/atlassian/react-beautiful-dnd/blob/master/docs/guides/how-we-detect-scroll-containers.md\\n  \") : void 0;\r\n  return false;\r\n};\r\n\r\nvar getClosestScrollable = function getClosestScrollable(el) {\r\n  if (el == null) {\r\n    return null;\r\n  }\r\n\r\n  if (el === document.body) {\r\n    return isBodyScrollable() ? el : null;\r\n  }\r\n\r\n  if (el === document.documentElement) {\r\n    return null;\r\n  }\r\n\r\n  if (!isElementScrollable(el)) {\r\n    return getClosestScrollable(el.parentElement);\r\n  }\r\n\r\n  return el;\r\n};\r\n\r\nvar checkForNestedScrollContainers = (function (scrollable) {\r\n  if (!scrollable) {\r\n    return;\r\n  }\r\n\r\n  var anotherScrollParent = getClosestScrollable(scrollable.parentElement);\r\n\r\n  if (!anotherScrollParent) {\r\n    return;\r\n  }\r\n\r\n  process.env.NODE_ENV !== \"production\" ? warning(\"\\n    Droppable: unsupported nested scroll container detected.\\n    A Droppable can only have one scroll parent (which can be itself)\\n    Nested scroll containers are currently not supported.\\n\\n    We hope to support nested scroll containers soon: https://github.com/atlassian/react-beautiful-dnd/issues/131\\n  \") : void 0;\r\n});\r\n\r\nvar getScroll$1 = (function (el) {\r\n  return {\r\n    x: el.scrollLeft,\r\n    y: el.scrollTop\r\n  };\r\n});\r\n\r\nvar getIsFixed = function getIsFixed(el) {\r\n  if (!el) {\r\n    return false;\r\n  }\r\n\r\n  var style = window.getComputedStyle(el);\r\n\r\n  if (style.position === 'fixed') {\r\n    return true;\r\n  }\r\n\r\n  return getIsFixed(el.parentElement);\r\n};\r\n\r\nvar getEnv = (function (start) {\r\n  var closestScrollable = getClosestScrollable(start);\r\n  var isFixedOnPage = getIsFixed(start);\r\n  return {\r\n    closestScrollable: closestScrollable,\r\n    isFixedOnPage: isFixedOnPage\r\n  };\r\n});\r\n\r\nvar getDroppableDimension = (function (_ref) {\r\n  var descriptor = _ref.descriptor,\r\n      isEnabled = _ref.isEnabled,\r\n      isCombineEnabled = _ref.isCombineEnabled,\r\n      isFixedOnPage = _ref.isFixedOnPage,\r\n      direction = _ref.direction,\r\n      client = _ref.client,\r\n      page = _ref.page,\r\n      closest = _ref.closest;\r\n\r\n  var frame = function () {\r\n    if (!closest) {\r\n      return null;\r\n    }\r\n\r\n    var scrollSize = closest.scrollSize,\r\n        frameClient = closest.client;\r\n    var maxScroll = getMaxScroll({\r\n      scrollHeight: scrollSize.scrollHeight,\r\n      scrollWidth: scrollSize.scrollWidth,\r\n      height: frameClient.paddingBox.height,\r\n      width: frameClient.paddingBox.width\r\n    });\r\n    return {\r\n      pageMarginBox: closest.page.marginBox,\r\n      frameClient: frameClient,\r\n      scrollSize: scrollSize,\r\n      shouldClipSubject: closest.shouldClipSubject,\r\n      scroll: {\r\n        initial: closest.scroll,\r\n        current: closest.scroll,\r\n        max: maxScroll,\r\n        diff: {\r\n          value: origin,\r\n          displacement: origin\r\n        }\r\n      }\r\n    };\r\n  }();\r\n\r\n  var axis = direction === 'vertical' ? vertical : horizontal;\r\n  var subject = getSubject({\r\n    page: page,\r\n    withPlaceholder: null,\r\n    axis: axis,\r\n    frame: frame\r\n  });\r\n  var dimension = {\r\n    descriptor: descriptor,\r\n    isCombineEnabled: isCombineEnabled,\r\n    isFixedOnPage: isFixedOnPage,\r\n    axis: axis,\r\n    isEnabled: isEnabled,\r\n    client: client,\r\n    page: page,\r\n    frame: frame,\r\n    subject: subject\r\n  };\r\n  return dimension;\r\n});\r\n\r\nvar getClient = function getClient(targetRef, closestScrollable) {\r\n  var base = getBox(targetRef);\r\n\r\n  if (!closestScrollable) {\r\n    return base;\r\n  }\r\n\r\n  if (targetRef !== closestScrollable) {\r\n    return base;\r\n  }\r\n\r\n  var top = base.paddingBox.top - closestScrollable.scrollTop;\r\n  var left = base.paddingBox.left - closestScrollable.scrollLeft;\r\n  var bottom = top + closestScrollable.scrollHeight;\r\n  var right = left + closestScrollable.scrollWidth;\r\n  var paddingBox = {\r\n    top: top,\r\n    right: right,\r\n    bottom: bottom,\r\n    left: left\r\n  };\r\n  var borderBox = expand(paddingBox, base.border);\r\n  var client = createBox({\r\n    borderBox: borderBox,\r\n    margin: base.margin,\r\n    border: base.border,\r\n    padding: base.padding\r\n  });\r\n  return client;\r\n};\r\n\r\nvar getDimension = (function (_ref) {\r\n  var ref = _ref.ref,\r\n      descriptor = _ref.descriptor,\r\n      env = _ref.env,\r\n      windowScroll = _ref.windowScroll,\r\n      direction = _ref.direction,\r\n      isDropDisabled = _ref.isDropDisabled,\r\n      isCombineEnabled = _ref.isCombineEnabled,\r\n      shouldClipSubject = _ref.shouldClipSubject;\r\n  var closestScrollable = env.closestScrollable;\r\n  var client = getClient(ref, closestScrollable);\r\n  var page = withScroll(client, windowScroll);\r\n\r\n  var closest = function () {\r\n    if (!closestScrollable) {\r\n      return null;\r\n    }\r\n\r\n    var frameClient = getBox(closestScrollable);\r\n    var scrollSize = {\r\n      scrollHeight: closestScrollable.scrollHeight,\r\n      scrollWidth: closestScrollable.scrollWidth\r\n    };\r\n    return {\r\n      client: frameClient,\r\n      page: withScroll(frameClient, windowScroll),\r\n      scroll: getScroll$1(closestScrollable),\r\n      scrollSize: scrollSize,\r\n      shouldClipSubject: shouldClipSubject\r\n    };\r\n  }();\r\n\r\n  var dimension = getDroppableDimension({\r\n    descriptor: descriptor,\r\n    isEnabled: !isDropDisabled,\r\n    isCombineEnabled: isCombineEnabled,\r\n    isFixedOnPage: env.isFixedOnPage,\r\n    direction: direction,\r\n    client: client,\r\n    page: page,\r\n    closest: closest\r\n  });\r\n  return dimension;\r\n});\r\n\r\nvar immediate = {\r\n  passive: false\r\n};\r\nvar delayed = {\r\n  passive: true\r\n};\r\nvar getListenerOptions = (function (options) {\r\n  return options.shouldPublishImmediately ? immediate : delayed;\r\n});\r\n\r\nfunction useRequiredContext(Context) {\r\n  var result = useContext(Context);\r\n  !result ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Could not find required context') : invariant(false) : void 0;\r\n  return result;\r\n}\r\n\r\nvar count = 0;\r\nfunction useUniqueId(prefix) {\r\n  var countRef = useRef(count++);\r\n  return prefix + \"::\" + countRef.current;\r\n}\r\n\r\nvar getClosestScrollableFromDrag = function getClosestScrollableFromDrag(dragging) {\r\n  return dragging && dragging.env.closestScrollable || null;\r\n};\r\n\r\nfunction useDroppablePublisher(args) {\r\n  var whileDraggingRef = useRef(null);\r\n  var appContext = useRequiredContext(AppContext);\r\n  var uniqueId = useUniqueId('droppable');\r\n  var registry = appContext.registry,\r\n      marshal = appContext.marshal;\r\n  var previousRef = usePrevious(args);\r\n  var descriptor = useMemo(function () {\r\n    return {\r\n      id: args.droppableId,\r\n      type: args.type,\r\n      mode: args.mode\r\n    };\r\n  }, [args.droppableId, args.mode, args.type]);\r\n  var publishedDescriptorRef = useRef(descriptor);\r\n  var memoizedUpdateScroll = useMemo(function () {\r\n    return memoizeOne(function (x, y) {\r\n      !whileDraggingRef.current ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Can only update scroll when dragging') : invariant(false) : void 0;\r\n      var scroll = {\r\n        x: x,\r\n        y: y\r\n      };\r\n      marshal.updateDroppableScroll(descriptor.id, scroll);\r\n    });\r\n  }, [descriptor.id, marshal]);\r\n  var getClosestScroll = useCallback(function () {\r\n    var dragging = whileDraggingRef.current;\r\n\r\n    if (!dragging || !dragging.env.closestScrollable) {\r\n      return origin;\r\n    }\r\n\r\n    return getScroll$1(dragging.env.closestScrollable);\r\n  }, []);\r\n  var updateScroll = useCallback(function () {\r\n    var scroll = getClosestScroll();\r\n    memoizedUpdateScroll(scroll.x, scroll.y);\r\n  }, [getClosestScroll, memoizedUpdateScroll]);\r\n  var scheduleScrollUpdate = useMemo(function () {\r\n    return rafSchd(updateScroll);\r\n  }, [updateScroll]);\r\n  var onClosestScroll = useCallback(function () {\r\n    var dragging = whileDraggingRef.current;\r\n    var closest = getClosestScrollableFromDrag(dragging);\r\n    !(dragging && closest) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Could not find scroll options while scrolling') : invariant(false) : void 0;\r\n    var options = dragging.scrollOptions;\r\n\r\n    if (options.shouldPublishImmediately) {\r\n      updateScroll();\r\n      return;\r\n    }\r\n\r\n    scheduleScrollUpdate();\r\n  }, [scheduleScrollUpdate, updateScroll]);\r\n  var getDimensionAndWatchScroll = useCallback(function (windowScroll, options) {\r\n    !!whileDraggingRef.current ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot collect a droppable while a drag is occurring') : invariant(false) : void 0;\r\n    var previous = previousRef.current;\r\n    var ref = previous.getDroppableRef();\r\n    !ref ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot collect without a droppable ref') : invariant(false) : void 0;\r\n    var env = getEnv(ref);\r\n    var dragging = {\r\n      ref: ref,\r\n      descriptor: descriptor,\r\n      env: env,\r\n      scrollOptions: options\r\n    };\r\n    whileDraggingRef.current = dragging;\r\n    var dimension = getDimension({\r\n      ref: ref,\r\n      descriptor: descriptor,\r\n      env: env,\r\n      windowScroll: windowScroll,\r\n      direction: previous.direction,\r\n      isDropDisabled: previous.isDropDisabled,\r\n      isCombineEnabled: previous.isCombineEnabled,\r\n      shouldClipSubject: !previous.ignoreContainerClipping\r\n    });\r\n    var scrollable = env.closestScrollable;\r\n\r\n    if (scrollable) {\r\n      scrollable.setAttribute(scrollContainer.contextId, appContext.contextId);\r\n      scrollable.addEventListener('scroll', onClosestScroll, getListenerOptions(dragging.scrollOptions));\r\n\r\n      if (process.env.NODE_ENV !== 'production') {\r\n        checkForNestedScrollContainers(scrollable);\r\n      }\r\n    }\r\n\r\n    return dimension;\r\n  }, [appContext.contextId, descriptor, onClosestScroll, previousRef]);\r\n  var getScrollWhileDragging = useCallback(function () {\r\n    var dragging = whileDraggingRef.current;\r\n    var closest = getClosestScrollableFromDrag(dragging);\r\n    !(dragging && closest) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Can only recollect Droppable client for Droppables that have a scroll container') : invariant(false) : void 0;\r\n    return getScroll$1(closest);\r\n  }, []);\r\n  var dragStopped = useCallback(function () {\r\n    var dragging = whileDraggingRef.current;\r\n    !dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot stop drag when no active drag') : invariant(false) : void 0;\r\n    var closest = getClosestScrollableFromDrag(dragging);\r\n    whileDraggingRef.current = null;\r\n\r\n    if (!closest) {\r\n      return;\r\n    }\r\n\r\n    scheduleScrollUpdate.cancel();\r\n    closest.removeAttribute(scrollContainer.contextId);\r\n    closest.removeEventListener('scroll', onClosestScroll, getListenerOptions(dragging.scrollOptions));\r\n  }, [onClosestScroll, scheduleScrollUpdate]);\r\n  var scroll = useCallback(function (change) {\r\n    var dragging = whileDraggingRef.current;\r\n    !dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot scroll when there is no drag') : invariant(false) : void 0;\r\n    var closest = getClosestScrollableFromDrag(dragging);\r\n    !closest ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot scroll a droppable with no closest scrollable') : invariant(false) : void 0;\r\n    closest.scrollTop += change.y;\r\n    closest.scrollLeft += change.x;\r\n  }, []);\r\n  var callbacks = useMemo(function () {\r\n    return {\r\n      getDimensionAndWatchScroll: getDimensionAndWatchScroll,\r\n      getScrollWhileDragging: getScrollWhileDragging,\r\n      dragStopped: dragStopped,\r\n      scroll: scroll\r\n    };\r\n  }, [dragStopped, getDimensionAndWatchScroll, getScrollWhileDragging, scroll]);\r\n  var entry = useMemo(function () {\r\n    return {\r\n      uniqueId: uniqueId,\r\n      descriptor: descriptor,\r\n      callbacks: callbacks\r\n    };\r\n  }, [callbacks, descriptor, uniqueId]);\r\n  useIsomorphicLayoutEffect(function () {\r\n    publishedDescriptorRef.current = entry.descriptor;\r\n    registry.droppable.register(entry);\r\n    return function () {\r\n      if (whileDraggingRef.current) {\r\n        process.env.NODE_ENV !== \"production\" ? warning('Unsupported: changing the droppableId or type of a Droppable during a drag') : void 0;\r\n        dragStopped();\r\n      }\r\n\r\n      registry.droppable.unregister(entry);\r\n    };\r\n  }, [callbacks, descriptor, dragStopped, entry, marshal, registry.droppable]);\r\n  useIsomorphicLayoutEffect(function () {\r\n    if (!whileDraggingRef.current) {\r\n      return;\r\n    }\r\n\r\n    marshal.updateDroppableIsEnabled(publishedDescriptorRef.current.id, !args.isDropDisabled);\r\n  }, [args.isDropDisabled, marshal]);\r\n  useIsomorphicLayoutEffect(function () {\r\n    if (!whileDraggingRef.current) {\r\n      return;\r\n    }\r\n\r\n    marshal.updateDroppableIsCombineEnabled(publishedDescriptorRef.current.id, args.isCombineEnabled);\r\n  }, [args.isCombineEnabled, marshal]);\r\n}\r\n\r\nfunction noop$2() {}\r\n\r\nvar empty = {\r\n  width: 0,\r\n  height: 0,\r\n  margin: noSpacing\r\n};\r\n\r\nvar getSize = function getSize(_ref) {\r\n  var isAnimatingOpenOnMount = _ref.isAnimatingOpenOnMount,\r\n      placeholder = _ref.placeholder,\r\n      animate = _ref.animate;\r\n\r\n  if (isAnimatingOpenOnMount) {\r\n    return empty;\r\n  }\r\n\r\n  if (animate === 'close') {\r\n    return empty;\r\n  }\r\n\r\n  return {\r\n    height: placeholder.client.borderBox.height,\r\n    width: placeholder.client.borderBox.width,\r\n    margin: placeholder.client.margin\r\n  };\r\n};\r\n\r\nvar getStyle = function getStyle(_ref2) {\r\n  var isAnimatingOpenOnMount = _ref2.isAnimatingOpenOnMount,\r\n      placeholder = _ref2.placeholder,\r\n      animate = _ref2.animate;\r\n  var size = getSize({\r\n    isAnimatingOpenOnMount: isAnimatingOpenOnMount,\r\n    placeholder: placeholder,\r\n    animate: animate\r\n  });\r\n  return {\r\n    display: placeholder.display,\r\n    boxSizing: 'border-box',\r\n    width: size.width,\r\n    height: size.height,\r\n    marginTop: size.margin.top,\r\n    marginRight: size.margin.right,\r\n    marginBottom: size.margin.bottom,\r\n    marginLeft: size.margin.left,\r\n    flexShrink: '0',\r\n    flexGrow: '0',\r\n    pointerEvents: 'none',\r\n    transition: animate !== 'none' ? transitions.placeholder : null\r\n  };\r\n};\r\n\r\nfunction Placeholder(props) {\r\n  var animateOpenTimerRef = useRef(null);\r\n  var tryClearAnimateOpenTimer = useCallback(function () {\r\n    if (!animateOpenTimerRef.current) {\r\n      return;\r\n    }\r\n\r\n    clearTimeout(animateOpenTimerRef.current);\r\n    animateOpenTimerRef.current = null;\r\n  }, []);\r\n  var animate = props.animate,\r\n      onTransitionEnd = props.onTransitionEnd,\r\n      onClose = props.onClose,\r\n      contextId = props.contextId;\r\n\r\n  var _useState = useState(props.animate === 'open'),\r\n      isAnimatingOpenOnMount = _useState[0],\r\n      setIsAnimatingOpenOnMount = _useState[1];\r\n\r\n  useEffect(function () {\r\n    if (!isAnimatingOpenOnMount) {\r\n      return noop$2;\r\n    }\r\n\r\n    if (animate !== 'open') {\r\n      tryClearAnimateOpenTimer();\r\n      setIsAnimatingOpenOnMount(false);\r\n      return noop$2;\r\n    }\r\n\r\n    if (animateOpenTimerRef.current) {\r\n      return noop$2;\r\n    }\r\n\r\n    animateOpenTimerRef.current = setTimeout(function () {\r\n      animateOpenTimerRef.current = null;\r\n      setIsAnimatingOpenOnMount(false);\r\n    });\r\n    return tryClearAnimateOpenTimer;\r\n  }, [animate, isAnimatingOpenOnMount, tryClearAnimateOpenTimer]);\r\n  var onSizeChangeEnd = useCallback(function (event) {\r\n    if (event.propertyName !== 'height') {\r\n      return;\r\n    }\r\n\r\n    onTransitionEnd();\r\n\r\n    if (animate === 'close') {\r\n      onClose();\r\n    }\r\n  }, [animate, onClose, onTransitionEnd]);\r\n  var style = getStyle({\r\n    isAnimatingOpenOnMount: isAnimatingOpenOnMount,\r\n    animate: props.animate,\r\n    placeholder: props.placeholder\r\n  });\r\n  return React.createElement(props.placeholder.tagName, {\r\n    style: style,\r\n    'data-rbd-placeholder-context-id': contextId,\r\n    onTransitionEnd: onSizeChangeEnd,\r\n    ref: props.innerRef\r\n  });\r\n}\r\n\r\nvar Placeholder$1 = React.memo(Placeholder);\r\n\r\nvar DroppableContext = React.createContext(null);\r\n\r\nfunction checkIsValidInnerRef(el) {\r\n  !(el && isHtmlElement(el)) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"\\n    provided.innerRef has not been provided with a HTMLElement.\\n\\n    You can find a guide on using the innerRef callback functions at:\\n    https://github.com/atlassian/react-beautiful-dnd/blob/master/docs/guides/using-inner-ref.md\\n  \") : invariant(false) : void 0;\r\n}\r\n\r\nfunction isBoolean(value) {\r\n  return typeof value === 'boolean';\r\n}\r\n\r\nfunction runChecks(args, checks) {\r\n  checks.forEach(function (check) {\r\n    return check(args);\r\n  });\r\n}\r\n\r\nvar shared = [function required(_ref) {\r\n  var props = _ref.props;\r\n  !props.droppableId ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'A Droppable requires a droppableId prop') : invariant(false) : void 0;\r\n  !(typeof props.droppableId === 'string') ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"A Droppable requires a [string] droppableId. Provided: [\" + typeof props.droppableId + \"]\") : invariant(false) : void 0;\r\n}, function _boolean(_ref2) {\r\n  var props = _ref2.props;\r\n  !isBoolean(props.isDropDisabled) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'isDropDisabled must be a boolean') : invariant(false) : void 0;\r\n  !isBoolean(props.isCombineEnabled) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'isCombineEnabled must be a boolean') : invariant(false) : void 0;\r\n  !isBoolean(props.ignoreContainerClipping) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'ignoreContainerClipping must be a boolean') : invariant(false) : void 0;\r\n}, function ref(_ref3) {\r\n  var getDroppableRef = _ref3.getDroppableRef;\r\n  checkIsValidInnerRef(getDroppableRef());\r\n}];\r\nvar standard = [function placeholder(_ref4) {\r\n  var props = _ref4.props,\r\n      getPlaceholderRef = _ref4.getPlaceholderRef;\r\n\r\n  if (!props.placeholder) {\r\n    return;\r\n  }\r\n\r\n  var ref = getPlaceholderRef();\r\n\r\n  if (ref) {\r\n    return;\r\n  }\r\n\r\n  process.env.NODE_ENV !== \"production\" ? warning(\"\\n      Droppable setup issue [droppableId: \\\"\" + props.droppableId + \"\\\"]:\\n      DroppableProvided > placeholder could not be found.\\n\\n      Please be sure to add the {provided.placeholder} React Node as a child of your Droppable.\\n      More information: https://github.com/atlassian/react-beautiful-dnd/blob/master/docs/api/droppable.md\\n    \") : void 0;\r\n}];\r\nvar virtual = [function hasClone(_ref5) {\r\n  var props = _ref5.props;\r\n  !props.renderClone ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Must provide a clone render function (renderClone) for virtual lists') : invariant(false) : void 0;\r\n}, function hasNoPlaceholder(_ref6) {\r\n  var getPlaceholderRef = _ref6.getPlaceholderRef;\r\n  !!getPlaceholderRef() ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Expected virtual list to not have a placeholder') : invariant(false) : void 0;\r\n}];\r\nfunction useValidation(args) {\r\n  useDevSetupWarning(function () {\r\n    runChecks(args, shared);\r\n\r\n    if (args.props.mode === 'standard') {\r\n      runChecks(args, standard);\r\n    }\r\n\r\n    if (args.props.mode === 'virtual') {\r\n      runChecks(args, virtual);\r\n    }\r\n  });\r\n}\r\n\r\nvar AnimateInOut = function (_React$PureComponent) {\r\n  _inheritsLoose(AnimateInOut, _React$PureComponent);\r\n\r\n  function AnimateInOut() {\r\n    var _this;\r\n\r\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\r\n      args[_key] = arguments[_key];\r\n    }\r\n\r\n    _this = _React$PureComponent.call.apply(_React$PureComponent, [this].concat(args)) || this;\r\n    _this.state = {\r\n      isVisible: Boolean(_this.props.on),\r\n      data: _this.props.on,\r\n      animate: _this.props.shouldAnimate && _this.props.on ? 'open' : 'none'\r\n    };\r\n\r\n    _this.onClose = function () {\r\n      if (_this.state.animate !== 'close') {\r\n        return;\r\n      }\r\n\r\n      _this.setState({\r\n        isVisible: false\r\n      });\r\n    };\r\n\r\n    return _this;\r\n  }\r\n\r\n  AnimateInOut.getDerivedStateFromProps = function getDerivedStateFromProps(props, state) {\r\n    if (!props.shouldAnimate) {\r\n      return {\r\n        isVisible: Boolean(props.on),\r\n        data: props.on,\r\n        animate: 'none'\r\n      };\r\n    }\r\n\r\n    if (props.on) {\r\n      return {\r\n        isVisible: true,\r\n        data: props.on,\r\n        animate: 'open'\r\n      };\r\n    }\r\n\r\n    if (state.isVisible) {\r\n      return {\r\n        isVisible: true,\r\n        data: state.data,\r\n        animate: 'close'\r\n      };\r\n    }\r\n\r\n    return {\r\n      isVisible: false,\r\n      animate: 'close',\r\n      data: null\r\n    };\r\n  };\r\n\r\n  var _proto = AnimateInOut.prototype;\r\n\r\n  _proto.render = function render() {\r\n    if (!this.state.isVisible) {\r\n      return null;\r\n    }\r\n\r\n    var provided = {\r\n      onClose: this.onClose,\r\n      data: this.state.data,\r\n      animate: this.state.animate\r\n    };\r\n    return this.props.children(provided);\r\n  };\r\n\r\n  return AnimateInOut;\r\n}(React.PureComponent);\r\n\r\nvar zIndexOptions = {\r\n  dragging: 5000,\r\n  dropAnimating: 4500\r\n};\r\n\r\nvar getDraggingTransition = function getDraggingTransition(shouldAnimateDragMovement, dropping) {\r\n  if (dropping) {\r\n    return transitions.drop(dropping.duration);\r\n  }\r\n\r\n  if (shouldAnimateDragMovement) {\r\n    return transitions.snap;\r\n  }\r\n\r\n  return transitions.fluid;\r\n};\r\n\r\nvar getDraggingOpacity = function getDraggingOpacity(isCombining, isDropAnimating) {\r\n  if (!isCombining) {\r\n    return null;\r\n  }\r\n\r\n  return isDropAnimating ? combine.opacity.drop : combine.opacity.combining;\r\n};\r\n\r\nvar getShouldDraggingAnimate = function getShouldDraggingAnimate(dragging) {\r\n  if (dragging.forceShouldAnimate != null) {\r\n    return dragging.forceShouldAnimate;\r\n  }\r\n\r\n  return dragging.mode === 'SNAP';\r\n};\r\n\r\nfunction getDraggingStyle(dragging) {\r\n  var dimension = dragging.dimension;\r\n  var box = dimension.client;\r\n  var offset = dragging.offset,\r\n      combineWith = dragging.combineWith,\r\n      dropping = dragging.dropping;\r\n  var isCombining = Boolean(combineWith);\r\n  var shouldAnimate = getShouldDraggingAnimate(dragging);\r\n  var isDropAnimating = Boolean(dropping);\r\n  var transform = isDropAnimating ? transforms.drop(offset, isCombining) : transforms.moveTo(offset);\r\n  var style = {\r\n    position: 'fixed',\r\n    top: box.marginBox.top,\r\n    left: box.marginBox.left,\r\n    boxSizing: 'border-box',\r\n    width: box.borderBox.width,\r\n    height: box.borderBox.height,\r\n    transition: getDraggingTransition(shouldAnimate, dropping),\r\n    transform: transform,\r\n    opacity: getDraggingOpacity(isCombining, isDropAnimating),\r\n    zIndex: isDropAnimating ? zIndexOptions.dropAnimating : zIndexOptions.dragging,\r\n    pointerEvents: 'none'\r\n  };\r\n  return style;\r\n}\r\n\r\nfunction getSecondaryStyle(secondary) {\r\n  return {\r\n    transform: transforms.moveTo(secondary.offset),\r\n    transition: secondary.shouldAnimateDisplacement ? null : 'none'\r\n  };\r\n}\r\n\r\nfunction getStyle$1(mapped) {\r\n  return mapped.type === 'DRAGGING' ? getDraggingStyle(mapped) : getSecondaryStyle(mapped);\r\n}\r\n\r\nfunction getDimension$1(descriptor, el, windowScroll) {\r\n  if (windowScroll === void 0) {\r\n    windowScroll = origin;\r\n  }\r\n\r\n  var computedStyles = window.getComputedStyle(el);\r\n  var borderBox = el.getBoundingClientRect();\r\n  var client = calculateBox(borderBox, computedStyles);\r\n  var page = withScroll(client, windowScroll);\r\n  var placeholder = {\r\n    client: client,\r\n    tagName: el.tagName.toLowerCase(),\r\n    display: computedStyles.display\r\n  };\r\n  var displaceBy = {\r\n    x: client.marginBox.width,\r\n    y: client.marginBox.height\r\n  };\r\n  var dimension = {\r\n    descriptor: descriptor,\r\n    placeholder: placeholder,\r\n    displaceBy: displaceBy,\r\n    client: client,\r\n    page: page\r\n  };\r\n  return dimension;\r\n}\r\n\r\nfunction useDraggablePublisher(args) {\r\n  var uniqueId = useUniqueId('draggable');\r\n  var descriptor = args.descriptor,\r\n      registry = args.registry,\r\n      getDraggableRef = args.getDraggableRef,\r\n      canDragInteractiveElements = args.canDragInteractiveElements,\r\n      shouldRespectForcePress = args.shouldRespectForcePress,\r\n      isEnabled = args.isEnabled;\r\n  var options = useMemo(function () {\r\n    return {\r\n      canDragInteractiveElements: canDragInteractiveElements,\r\n      shouldRespectForcePress: shouldRespectForcePress,\r\n      isEnabled: isEnabled\r\n    };\r\n  }, [canDragInteractiveElements, isEnabled, shouldRespectForcePress]);\r\n  var getDimension = useCallback(function (windowScroll) {\r\n    var el = getDraggableRef();\r\n    !el ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot get dimension when no ref is set') : invariant(false) : void 0;\r\n    return getDimension$1(descriptor, el, windowScroll);\r\n  }, [descriptor, getDraggableRef]);\r\n  var entry = useMemo(function () {\r\n    return {\r\n      uniqueId: uniqueId,\r\n      descriptor: descriptor,\r\n      options: options,\r\n      getDimension: getDimension\r\n    };\r\n  }, [descriptor, getDimension, options, uniqueId]);\r\n  var publishedRef = useRef(entry);\r\n  var isFirstPublishRef = useRef(true);\r\n  useIsomorphicLayoutEffect(function () {\r\n    registry.draggable.register(publishedRef.current);\r\n    return function () {\r\n      return registry.draggable.unregister(publishedRef.current);\r\n    };\r\n  }, [registry.draggable]);\r\n  useIsomorphicLayoutEffect(function () {\r\n    if (isFirstPublishRef.current) {\r\n      isFirstPublishRef.current = false;\r\n      return;\r\n    }\r\n\r\n    var last = publishedRef.current;\r\n    publishedRef.current = entry;\r\n    registry.draggable.update(entry, last);\r\n  }, [entry, registry.draggable]);\r\n}\r\n\r\nfunction useValidation$1(props, contextId, getRef) {\r\n  useDevSetupWarning(function () {\r\n    function prefix(id) {\r\n      return \"Draggable[id: \" + id + \"]: \";\r\n    }\r\n\r\n    var id = props.draggableId;\r\n    !id ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Draggable requires a draggableId') : invariant(false) : void 0;\r\n    !(typeof id === 'string') ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Draggable requires a [string] draggableId.\\n      Provided: [type: \" + typeof id + \"] (value: \" + id + \")\") : invariant(false) : void 0;\r\n    !_Number$isInteger(props.index) ? process.env.NODE_ENV !== \"production\" ? invariant(false, prefix(id) + \" requires an integer index prop\") : invariant(false) : void 0;\r\n\r\n    if (props.mapped.type === 'DRAGGING') {\r\n      return;\r\n    }\r\n\r\n    checkIsValidInnerRef(getRef());\r\n\r\n    if (props.isEnabled) {\r\n      !findDragHandle(contextId, id) ? process.env.NODE_ENV !== \"production\" ? invariant(false, prefix(id) + \" Unable to find drag handle\") : invariant(false) : void 0;\r\n    }\r\n  });\r\n}\r\nfunction useClonePropValidation(isClone) {\r\n  useDev(function () {\r\n    var initialRef = useRef(isClone);\r\n    useDevSetupWarning(function () {\r\n      !(isClone === initialRef.current) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Draggable isClone prop value changed during component life') : invariant(false) : void 0;\r\n    }, [isClone]);\r\n  });\r\n}\r\n\r\nfunction preventHtml5Dnd(event) {\r\n  event.preventDefault();\r\n}\r\n\r\nfunction Draggable(props) {\r\n  var ref = useRef(null);\r\n  var setRef = useCallback(function (el) {\r\n    ref.current = el;\r\n  }, []);\r\n  var getRef = useCallback(function () {\r\n    return ref.current;\r\n  }, []);\r\n\r\n  var _useRequiredContext = useRequiredContext(AppContext),\r\n      contextId = _useRequiredContext.contextId,\r\n      liftInstructionId = _useRequiredContext.liftInstructionId,\r\n      registry = _useRequiredContext.registry;\r\n\r\n  var _useRequiredContext2 = useRequiredContext(DroppableContext),\r\n      type = _useRequiredContext2.type,\r\n      droppableId = _useRequiredContext2.droppableId;\r\n\r\n  var descriptor = useMemo(function () {\r\n    return {\r\n      id: props.draggableId,\r\n      index: props.index,\r\n      type: type,\r\n      droppableId: droppableId\r\n    };\r\n  }, [props.draggableId, props.index, type, droppableId]);\r\n  var children = props.children,\r\n      draggableId = props.draggableId,\r\n      isEnabled = props.isEnabled,\r\n      shouldRespectForcePress = props.shouldRespectForcePress,\r\n      canDragInteractiveElements = props.canDragInteractiveElements,\r\n      isClone = props.isClone,\r\n      mapped = props.mapped,\r\n      dropAnimationFinishedAction = props.dropAnimationFinished;\r\n  useValidation$1(props, contextId, getRef);\r\n  useClonePropValidation(isClone);\r\n\r\n  if (!isClone) {\r\n    var forPublisher = useMemo(function () {\r\n      return {\r\n        descriptor: descriptor,\r\n        registry: registry,\r\n        getDraggableRef: getRef,\r\n        canDragInteractiveElements: canDragInteractiveElements,\r\n        shouldRespectForcePress: shouldRespectForcePress,\r\n        isEnabled: isEnabled\r\n      };\r\n    }, [descriptor, registry, getRef, canDragInteractiveElements, shouldRespectForcePress, isEnabled]);\r\n    useDraggablePublisher(forPublisher);\r\n  }\r\n\r\n  var dragHandleProps = useMemo(function () {\r\n    return isEnabled ? {\r\n      tabIndex: 0,\r\n      'data-rbd-drag-handle-draggable-id': draggableId,\r\n      'data-rbd-drag-handle-context-id': contextId,\r\n      'aria-labelledby': liftInstructionId,\r\n      draggable: false,\r\n      onDragStart: preventHtml5Dnd\r\n    } : null;\r\n  }, [contextId, draggableId, isEnabled, liftInstructionId]);\r\n  var onMoveEnd = useCallback(function (event) {\r\n    if (mapped.type !== 'DRAGGING') {\r\n      return;\r\n    }\r\n\r\n    if (!mapped.dropping) {\r\n      return;\r\n    }\r\n\r\n    if (event.propertyName !== 'transform') {\r\n      return;\r\n    }\r\n\r\n    dropAnimationFinishedAction();\r\n  }, [dropAnimationFinishedAction, mapped]);\r\n  var provided = useMemo(function () {\r\n    var style = getStyle$1(mapped);\r\n    var onTransitionEnd = mapped.type === 'DRAGGING' && mapped.dropping ? onMoveEnd : null;\r\n    var result = {\r\n      innerRef: setRef,\r\n      draggableProps: {\r\n        'data-rbd-draggable-context-id': contextId,\r\n        'data-rbd-draggable-id': draggableId,\r\n        style: style,\r\n        onTransitionEnd: onTransitionEnd\r\n      },\r\n      dragHandleProps: dragHandleProps\r\n    };\r\n    return result;\r\n  }, [contextId, dragHandleProps, draggableId, mapped, onMoveEnd, setRef]);\r\n  var rubric = useMemo(function () {\r\n    return {\r\n      draggableId: descriptor.id,\r\n      type: descriptor.type,\r\n      source: {\r\n        index: descriptor.index,\r\n        droppableId: descriptor.droppableId\r\n      }\r\n    };\r\n  }, [descriptor.droppableId, descriptor.id, descriptor.index, descriptor.type]);\r\n  return children(provided, mapped.snapshot, rubric);\r\n}\r\n\r\nvar isStrictEqual = (function (a, b) {\r\n  return a === b;\r\n});\r\n\r\nvar whatIsDraggedOverFromResult = (function (result) {\r\n  var combine = result.combine,\r\n      destination = result.destination;\r\n\r\n  if (destination) {\r\n    return destination.droppableId;\r\n  }\r\n\r\n  if (combine) {\r\n    return combine.droppableId;\r\n  }\r\n\r\n  return null;\r\n});\r\n\r\nvar getCombineWithFromResult = function getCombineWithFromResult(result) {\r\n  return result.combine ? result.combine.draggableId : null;\r\n};\r\n\r\nvar getCombineWithFromImpact = function getCombineWithFromImpact(impact) {\r\n  return impact.at && impact.at.type === 'COMBINE' ? impact.at.combine.draggableId : null;\r\n};\r\n\r\nfunction getDraggableSelector() {\r\n  var memoizedOffset = memoizeOne(function (x, y) {\r\n    return {\r\n      x: x,\r\n      y: y\r\n    };\r\n  });\r\n  var getMemoizedSnapshot = memoizeOne(function (mode, isClone, draggingOver, combineWith, dropping) {\r\n    return {\r\n      isDragging: true,\r\n      isClone: isClone,\r\n      isDropAnimating: Boolean(dropping),\r\n      dropAnimation: dropping,\r\n      mode: mode,\r\n      draggingOver: draggingOver,\r\n      combineWith: combineWith,\r\n      combineTargetFor: null\r\n    };\r\n  });\r\n  var getMemoizedProps = memoizeOne(function (offset, mode, dimension, isClone, draggingOver, combineWith, forceShouldAnimate) {\r\n    return {\r\n      mapped: {\r\n        type: 'DRAGGING',\r\n        dropping: null,\r\n        draggingOver: draggingOver,\r\n        combineWith: combineWith,\r\n        mode: mode,\r\n        offset: offset,\r\n        dimension: dimension,\r\n        forceShouldAnimate: forceShouldAnimate,\r\n        snapshot: getMemoizedSnapshot(mode, isClone, draggingOver, combineWith, null)\r\n      }\r\n    };\r\n  });\r\n\r\n  var selector = function selector(state, ownProps) {\r\n    if (state.isDragging) {\r\n      if (state.critical.draggable.id !== ownProps.draggableId) {\r\n        return null;\r\n      }\r\n\r\n      var offset = state.current.client.offset;\r\n      var dimension = state.dimensions.draggables[ownProps.draggableId];\r\n      var draggingOver = whatIsDraggedOver(state.impact);\r\n      var combineWith = getCombineWithFromImpact(state.impact);\r\n      var forceShouldAnimate = state.forceShouldAnimate;\r\n      return getMemoizedProps(memoizedOffset(offset.x, offset.y), state.movementMode, dimension, ownProps.isClone, draggingOver, combineWith, forceShouldAnimate);\r\n    }\r\n\r\n    if (state.phase === 'DROP_ANIMATING') {\r\n      var completed = state.completed;\r\n\r\n      if (completed.result.draggableId !== ownProps.draggableId) {\r\n        return null;\r\n      }\r\n\r\n      var isClone = ownProps.isClone;\r\n      var _dimension = state.dimensions.draggables[ownProps.draggableId];\r\n      var result = completed.result;\r\n      var mode = result.mode;\r\n\r\n      var _draggingOver = whatIsDraggedOverFromResult(result);\r\n\r\n      var _combineWith = getCombineWithFromResult(result);\r\n\r\n      var duration = state.dropDuration;\r\n      var dropping = {\r\n        duration: duration,\r\n        curve: curves.drop,\r\n        moveTo: state.newHomeClientOffset,\r\n        opacity: _combineWith ? combine.opacity.drop : null,\r\n        scale: _combineWith ? combine.scale.drop : null\r\n      };\r\n      return {\r\n        mapped: {\r\n          type: 'DRAGGING',\r\n          offset: state.newHomeClientOffset,\r\n          dimension: _dimension,\r\n          dropping: dropping,\r\n          draggingOver: _draggingOver,\r\n          combineWith: _combineWith,\r\n          mode: mode,\r\n          forceShouldAnimate: null,\r\n          snapshot: getMemoizedSnapshot(mode, isClone, _draggingOver, _combineWith, dropping)\r\n        }\r\n      };\r\n    }\r\n\r\n    return null;\r\n  };\r\n\r\n  return selector;\r\n}\r\n\r\nfunction getSecondarySnapshot(combineTargetFor) {\r\n  return {\r\n    isDragging: false,\r\n    isDropAnimating: false,\r\n    isClone: false,\r\n    dropAnimation: null,\r\n    mode: null,\r\n    draggingOver: null,\r\n    combineTargetFor: combineTargetFor,\r\n    combineWith: null\r\n  };\r\n}\r\n\r\nvar atRest = {\r\n  mapped: {\r\n    type: 'SECONDARY',\r\n    offset: origin,\r\n    combineTargetFor: null,\r\n    shouldAnimateDisplacement: true,\r\n    snapshot: getSecondarySnapshot(null)\r\n  }\r\n};\r\n\r\nfunction getSecondarySelector() {\r\n  var memoizedOffset = memoizeOne(function (x, y) {\r\n    return {\r\n      x: x,\r\n      y: y\r\n    };\r\n  });\r\n  var getMemoizedSnapshot = memoizeOne(getSecondarySnapshot);\r\n  var getMemoizedProps = memoizeOne(function (offset, combineTargetFor, shouldAnimateDisplacement) {\r\n    if (combineTargetFor === void 0) {\r\n      combineTargetFor = null;\r\n    }\r\n\r\n    return {\r\n      mapped: {\r\n        type: 'SECONDARY',\r\n        offset: offset,\r\n        combineTargetFor: combineTargetFor,\r\n        shouldAnimateDisplacement: shouldAnimateDisplacement,\r\n        snapshot: getMemoizedSnapshot(combineTargetFor)\r\n      }\r\n    };\r\n  });\r\n\r\n  var getFallback = function getFallback(combineTargetFor) {\r\n    return combineTargetFor ? getMemoizedProps(origin, combineTargetFor, true) : null;\r\n  };\r\n\r\n  var getProps = function getProps(ownId, draggingId, impact, afterCritical) {\r\n    var visualDisplacement = impact.displaced.visible[ownId];\r\n    var isAfterCriticalInVirtualList = Boolean(afterCritical.inVirtualList && afterCritical.effected[ownId]);\r\n    var combine = tryGetCombine(impact);\r\n    var combineTargetFor = combine && combine.draggableId === ownId ? draggingId : null;\r\n\r\n    if (!visualDisplacement) {\r\n      if (!isAfterCriticalInVirtualList) {\r\n        return getFallback(combineTargetFor);\r\n      }\r\n\r\n      if (impact.displaced.invisible[ownId]) {\r\n        return null;\r\n      }\r\n\r\n      var change = negate(afterCritical.displacedBy.point);\r\n\r\n      var _offset = memoizedOffset(change.x, change.y);\r\n\r\n      return getMemoizedProps(_offset, combineTargetFor, true);\r\n    }\r\n\r\n    if (isAfterCriticalInVirtualList) {\r\n      return getFallback(combineTargetFor);\r\n    }\r\n\r\n    var displaceBy = impact.displacedBy.point;\r\n    var offset = memoizedOffset(displaceBy.x, displaceBy.y);\r\n    return getMemoizedProps(offset, combineTargetFor, visualDisplacement.shouldAnimate);\r\n  };\r\n\r\n  var selector = function selector(state, ownProps) {\r\n    if (state.isDragging) {\r\n      if (state.critical.draggable.id === ownProps.draggableId) {\r\n        return null;\r\n      }\r\n\r\n      return getProps(ownProps.draggableId, state.critical.draggable.id, state.impact, state.afterCritical);\r\n    }\r\n\r\n    if (state.phase === 'DROP_ANIMATING') {\r\n      var completed = state.completed;\r\n\r\n      if (completed.result.draggableId === ownProps.draggableId) {\r\n        return null;\r\n      }\r\n\r\n      return getProps(ownProps.draggableId, completed.result.draggableId, completed.impact, completed.afterCritical);\r\n    }\r\n\r\n    return null;\r\n  };\r\n\r\n  return selector;\r\n}\r\n\r\nvar makeMapStateToProps = function makeMapStateToProps() {\r\n  var draggingSelector = getDraggableSelector();\r\n  var secondarySelector = getSecondarySelector();\r\n\r\n  var selector = function selector(state, ownProps) {\r\n    return draggingSelector(state, ownProps) || secondarySelector(state, ownProps) || atRest;\r\n  };\r\n\r\n  return selector;\r\n};\r\nvar mapDispatchToProps = {\r\n  dropAnimationFinished: dropAnimationFinished\r\n};\r\nvar ConnectedDraggable = connect(makeMapStateToProps, mapDispatchToProps, null, {\r\n  context: StoreContext,\r\n  pure: true,\r\n  areStatePropsEqual: isStrictEqual\r\n})(Draggable);\r\n\r\nfunction PrivateDraggable(props) {\r\n  var droppableContext = useRequiredContext(DroppableContext);\r\n  var isUsingCloneFor = droppableContext.isUsingCloneFor;\r\n\r\n  if (isUsingCloneFor === props.draggableId && !props.isClone) {\r\n    return null;\r\n  }\r\n\r\n  return React.createElement(ConnectedDraggable, props);\r\n}\r\nfunction PublicDraggable(props) {\r\n  var isEnabled = typeof props.isDragDisabled === 'boolean' ? !props.isDragDisabled : true;\r\n  var canDragInteractiveElements = Boolean(props.disableInteractiveElementBlocking);\r\n  var shouldRespectForcePress = Boolean(props.shouldRespectForcePress);\r\n  return React.createElement(PrivateDraggable, _extends({}, props, {\r\n    isClone: false,\r\n    isEnabled: isEnabled,\r\n    canDragInteractiveElements: canDragInteractiveElements,\r\n    shouldRespectForcePress: shouldRespectForcePress\r\n  }));\r\n}\r\n\r\nfunction Droppable(props) {\r\n  var appContext = useContext(AppContext);\r\n  !appContext ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Could not find app context') : invariant(false) : void 0;\r\n  var contextId = appContext.contextId,\r\n      isMovementAllowed = appContext.isMovementAllowed;\r\n  var droppableRef = useRef(null);\r\n  var placeholderRef = useRef(null);\r\n  var children = props.children,\r\n      droppableId = props.droppableId,\r\n      type = props.type,\r\n      mode = props.mode,\r\n      direction = props.direction,\r\n      ignoreContainerClipping = props.ignoreContainerClipping,\r\n      isDropDisabled = props.isDropDisabled,\r\n      isCombineEnabled = props.isCombineEnabled,\r\n      snapshot = props.snapshot,\r\n      useClone = props.useClone,\r\n      updateViewportMaxScroll = props.updateViewportMaxScroll,\r\n      getContainerForClone = props.getContainerForClone;\r\n  var getDroppableRef = useCallback(function () {\r\n    return droppableRef.current;\r\n  }, []);\r\n  var setDroppableRef = useCallback(function (value) {\r\n    droppableRef.current = value;\r\n  }, []);\r\n  var getPlaceholderRef = useCallback(function () {\r\n    return placeholderRef.current;\r\n  }, []);\r\n  var setPlaceholderRef = useCallback(function (value) {\r\n    placeholderRef.current = value;\r\n  }, []);\r\n  useValidation({\r\n    props: props,\r\n    getDroppableRef: getDroppableRef,\r\n    getPlaceholderRef: getPlaceholderRef\r\n  });\r\n  var onPlaceholderTransitionEnd = useCallback(function () {\r\n    if (isMovementAllowed()) {\r\n      updateViewportMaxScroll({\r\n        maxScroll: getMaxWindowScroll()\r\n      });\r\n    }\r\n  }, [isMovementAllowed, updateViewportMaxScroll]);\r\n  useDroppablePublisher({\r\n    droppableId: droppableId,\r\n    type: type,\r\n    mode: mode,\r\n    direction: direction,\r\n    isDropDisabled: isDropDisabled,\r\n    isCombineEnabled: isCombineEnabled,\r\n    ignoreContainerClipping: ignoreContainerClipping,\r\n    getDroppableRef: getDroppableRef\r\n  });\r\n  var placeholder = React.createElement(AnimateInOut, {\r\n    on: props.placeholder,\r\n    shouldAnimate: props.shouldAnimatePlaceholder\r\n  }, function (_ref) {\r\n    var onClose = _ref.onClose,\r\n        data = _ref.data,\r\n        animate = _ref.animate;\r\n    return React.createElement(Placeholder$1, {\r\n      placeholder: data,\r\n      onClose: onClose,\r\n      innerRef: setPlaceholderRef,\r\n      animate: animate,\r\n      contextId: contextId,\r\n      onTransitionEnd: onPlaceholderTransitionEnd\r\n    });\r\n  });\r\n  var provided = useMemo(function () {\r\n    return {\r\n      innerRef: setDroppableRef,\r\n      placeholder: placeholder,\r\n      droppableProps: {\r\n        'data-rbd-droppable-id': droppableId,\r\n        'data-rbd-droppable-context-id': contextId\r\n      }\r\n    };\r\n  }, [contextId, droppableId, placeholder, setDroppableRef]);\r\n  var isUsingCloneFor = useClone ? useClone.dragging.draggableId : null;\r\n  var droppableContext = useMemo(function () {\r\n    return {\r\n      droppableId: droppableId,\r\n      type: type,\r\n      isUsingCloneFor: isUsingCloneFor\r\n    };\r\n  }, [droppableId, isUsingCloneFor, type]);\r\n\r\n  function getClone() {\r\n    if (!useClone) {\r\n      return null;\r\n    }\r\n\r\n    var dragging = useClone.dragging,\r\n        render = useClone.render;\r\n    var node = React.createElement(PrivateDraggable, {\r\n      draggableId: dragging.draggableId,\r\n      index: dragging.source.index,\r\n      isClone: true,\r\n      isEnabled: true,\r\n      shouldRespectForcePress: false,\r\n      canDragInteractiveElements: true\r\n    }, function (draggableProvided, draggableSnapshot) {\r\n      return render(draggableProvided, draggableSnapshot, dragging);\r\n    });\r\n    return ReactDOM.createPortal(node, getContainerForClone());\r\n  }\r\n\r\n  return React.createElement(DroppableContext.Provider, {\r\n    value: droppableContext\r\n  }, children(provided, snapshot), getClone());\r\n}\r\n\r\nvar isMatchingType = function isMatchingType(type, critical) {\r\n  return type === critical.droppable.type;\r\n};\r\n\r\nvar getDraggable = function getDraggable(critical, dimensions) {\r\n  return dimensions.draggables[critical.draggable.id];\r\n};\r\n\r\nvar makeMapStateToProps$1 = function makeMapStateToProps() {\r\n  var idleWithAnimation = {\r\n    placeholder: null,\r\n    shouldAnimatePlaceholder: true,\r\n    snapshot: {\r\n      isDraggingOver: false,\r\n      draggingOverWith: null,\r\n      draggingFromThisWith: null,\r\n      isUsingPlaceholder: false\r\n    },\r\n    useClone: null\r\n  };\r\n\r\n  var idleWithoutAnimation = _extends({}, idleWithAnimation, {\r\n    shouldAnimatePlaceholder: false\r\n  });\r\n\r\n  var getDraggableRubric = memoizeOne(function (descriptor) {\r\n    return {\r\n      draggableId: descriptor.id,\r\n      type: descriptor.type,\r\n      source: {\r\n        index: descriptor.index,\r\n        droppableId: descriptor.droppableId\r\n      }\r\n    };\r\n  });\r\n  var getMapProps = memoizeOne(function (id, isEnabled, isDraggingOverForConsumer, isDraggingOverForImpact, dragging, renderClone) {\r\n    var draggableId = dragging.descriptor.id;\r\n    var isHome = dragging.descriptor.droppableId === id;\r\n\r\n    if (isHome) {\r\n      var useClone = renderClone ? {\r\n        render: renderClone,\r\n        dragging: getDraggableRubric(dragging.descriptor)\r\n      } : null;\r\n      var _snapshot = {\r\n        isDraggingOver: isDraggingOverForConsumer,\r\n        draggingOverWith: isDraggingOverForConsumer ? draggableId : null,\r\n        draggingFromThisWith: draggableId,\r\n        isUsingPlaceholder: true\r\n      };\r\n      return {\r\n        placeholder: dragging.placeholder,\r\n        shouldAnimatePlaceholder: false,\r\n        snapshot: _snapshot,\r\n        useClone: useClone\r\n      };\r\n    }\r\n\r\n    if (!isEnabled) {\r\n      return idleWithoutAnimation;\r\n    }\r\n\r\n    if (!isDraggingOverForImpact) {\r\n      return idleWithAnimation;\r\n    }\r\n\r\n    var snapshot = {\r\n      isDraggingOver: isDraggingOverForConsumer,\r\n      draggingOverWith: draggableId,\r\n      draggingFromThisWith: null,\r\n      isUsingPlaceholder: true\r\n    };\r\n    return {\r\n      placeholder: dragging.placeholder,\r\n      shouldAnimatePlaceholder: true,\r\n      snapshot: snapshot,\r\n      useClone: null\r\n    };\r\n  });\r\n\r\n  var selector = function selector(state, ownProps) {\r\n    var id = ownProps.droppableId;\r\n    var type = ownProps.type;\r\n    var isEnabled = !ownProps.isDropDisabled;\r\n    var renderClone = ownProps.renderClone;\r\n\r\n    if (state.isDragging) {\r\n      var critical = state.critical;\r\n\r\n      if (!isMatchingType(type, critical)) {\r\n        return idleWithoutAnimation;\r\n      }\r\n\r\n      var dragging = getDraggable(critical, state.dimensions);\r\n      var isDraggingOver = whatIsDraggedOver(state.impact) === id;\r\n      return getMapProps(id, isEnabled, isDraggingOver, isDraggingOver, dragging, renderClone);\r\n    }\r\n\r\n    if (state.phase === 'DROP_ANIMATING') {\r\n      var completed = state.completed;\r\n\r\n      if (!isMatchingType(type, completed.critical)) {\r\n        return idleWithoutAnimation;\r\n      }\r\n\r\n      var _dragging = getDraggable(completed.critical, state.dimensions);\r\n\r\n      return getMapProps(id, isEnabled, whatIsDraggedOverFromResult(completed.result) === id, whatIsDraggedOver(completed.impact) === id, _dragging, renderClone);\r\n    }\r\n\r\n    if (state.phase === 'IDLE' && state.completed && !state.shouldFlush) {\r\n      var _completed = state.completed;\r\n\r\n      if (!isMatchingType(type, _completed.critical)) {\r\n        return idleWithoutAnimation;\r\n      }\r\n\r\n      var wasOver = whatIsDraggedOver(_completed.impact) === id;\r\n      var wasCombining = Boolean(_completed.impact.at && _completed.impact.at.type === 'COMBINE');\r\n      var isHome = _completed.critical.droppable.id === id;\r\n\r\n      if (wasOver) {\r\n        return wasCombining ? idleWithAnimation : idleWithoutAnimation;\r\n      }\r\n\r\n      if (isHome) {\r\n        return idleWithAnimation;\r\n      }\r\n\r\n      return idleWithoutAnimation;\r\n    }\r\n\r\n    return idleWithoutAnimation;\r\n  };\r\n\r\n  return selector;\r\n};\r\nvar mapDispatchToProps$1 = {\r\n  updateViewportMaxScroll: updateViewportMaxScroll\r\n};\r\n\r\nfunction getBody() {\r\n  !document.body ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'document.body is not ready') : invariant(false) : void 0;\r\n  return document.body;\r\n}\r\n\r\nvar defaultProps = {\r\n  mode: 'standard',\r\n  type: 'DEFAULT',\r\n  direction: 'vertical',\r\n  isDropDisabled: false,\r\n  isCombineEnabled: false,\r\n  ignoreContainerClipping: false,\r\n  renderClone: null,\r\n  getContainerForClone: getBody\r\n};\r\nvar ConnectedDroppable = connect(makeMapStateToProps$1, mapDispatchToProps$1, null, {\r\n  context: StoreContext,\r\n  pure: true,\r\n  areStatePropsEqual: isStrictEqual\r\n})(Droppable);\r\nConnectedDroppable.defaultProps = defaultProps;\r\n\r\nexport { DragDropContext, PublicDraggable as Draggable, ConnectedDroppable as Droppable, resetServerContext };\r\n"],"mappings":"AAAA,OAAOA,KAAK,IAAIC,eAAe,EAAEC,SAAS,EAAEC,MAAM,EAAEC,QAAQ,EAAEC,UAAU,QAAQ,OAAO;AACvF,SAASC,OAAO,EAAEC,WAAW,QAAQ,cAAc;AACnD,OAAOC,cAAc,MAAM,kDAAkD;AAC7E,OAAOC,QAAQ,MAAM,4CAA4C;AACjE,SAASC,WAAW,IAAIC,aAAa,EAAEC,eAAe,EAAEC,OAAO,EAAEC,kBAAkB,QAAQ,OAAO;AAClG,SAASC,QAAQ,EAAEC,OAAO,QAAQ,aAAa;AAC/C,SAASC,OAAO,EAAEC,MAAM,EAAEC,MAAM,EAAEC,UAAU,EAAEC,MAAM,EAAEC,SAAS,EAAEC,YAAY,QAAQ,eAAe;AACpG,OAAOC,UAAU,MAAM,aAAa;AACpC,OAAOC,cAAc,MAAM,8CAA8C;AACzE,OAAOC,YAAY,MAAM,4CAA4C;AACrE,OAAOC,OAAO,MAAM,UAAU;AAC9B,OAAOC,SAAS,MAAM,yCAAyC;AAC/D,OAAOC,cAAc,MAAM,8CAA8C;AACzE,OAAOC,QAAQ,MAAM,WAAW;AAChC,OAAOC,iBAAiB,MAAM,kDAAkD;AAEhF,IAAIC,YAAY,GAAGC,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY;AACxD,IAAIC,aAAa,GAAG,YAAY;AAChC,IAAIC,mBAAmB,GAAG,WAAW;AAErC,IAAIC,KAAK,GAAG,SAASA,KAAK,CAACC,KAAK,EAAE;EAChC,OAAOA,KAAK,CAACC,OAAO,CAACJ,aAAa,EAAE,GAAG,CAAC,CAACI,OAAO,CAACH,mBAAmB,EAAE,EAAE,CAAC,CAACI,IAAI,EAAE;AAClF,CAAC;AAED,IAAIC,aAAa,GAAG,SAASA,aAAa,CAACC,OAAO,EAAE;EAClD,OAAOL,KAAK,CAAC,mCAAmC,GAAGA,KAAK,CAACK,OAAO,CAAC,GAAG,2GAA2G,CAAC;AAClL,CAAC;AAED,IAAIC,mBAAmB,GAAG,SAASA,mBAAmB,CAACD,OAAO,EAAE;EAC9D,OAAO,CAACD,aAAa,CAACC,OAAO,CAAC,EAAE,sDAAsD,EAAE,kBAAkB,EAAE,iBAAiB,CAAC;AAChI,CAAC;AACD,IAAIE,cAAc,GAAG,4CAA4C;AACjE,SAASC,GAAG,CAACC,IAAI,EAAEJ,OAAO,EAAE;EAC1B,IAAIK,QAAQ;EAEZ,IAAIhB,YAAY,EAAE;IAChB;EACF;EAEA,IAAI,OAAOiB,MAAM,KAAK,WAAW,IAAIA,MAAM,CAACJ,cAAc,CAAC,EAAE;IAC3D;EACF;EAEA,CAACG,QAAQ,GAAGE,OAAO,EAAEH,IAAI,CAAC,CAACI,KAAK,CAACH,QAAQ,EAAEJ,mBAAmB,CAACD,OAAO,CAAC,CAAC;AAC1E;AACA,IAAIS,OAAO,GAAGN,GAAG,CAACO,IAAI,CAAC,IAAI,EAAE,MAAM,CAAC;AACpC,IAAIC,KAAK,GAAGR,GAAG,CAACO,IAAI,CAAC,IAAI,EAAE,OAAO,CAAC;AAEnC,SAASE,IAAI,GAAG,CAAC;AAEjB,SAASC,UAAU,CAACC,MAAM,EAAEC,WAAW,EAAE;EACvC,OAAOjD,QAAQ,CAAC,CAAC,CAAC,EAAEgD,MAAM,EAAEC,WAAW,CAAC;AAC1C;AAEA,SAASC,UAAU,CAACC,EAAE,EAAEC,QAAQ,EAAEC,aAAa,EAAE;EAC/C,IAAIC,UAAU,GAAGF,QAAQ,CAACG,GAAG,CAAC,UAAUC,OAAO,EAAE;IAC/C,IAAIC,OAAO,GAAGV,UAAU,CAACM,aAAa,EAAEG,OAAO,CAACC,OAAO,CAAC;IACxDN,EAAE,CAACO,gBAAgB,CAACF,OAAO,CAACG,SAAS,EAAEH,OAAO,CAACI,EAAE,EAAEH,OAAO,CAAC;IAC3D,OAAO,SAASI,MAAM,GAAG;MACvBV,EAAE,CAACW,mBAAmB,CAACN,OAAO,CAACG,SAAS,EAAEH,OAAO,CAACI,EAAE,EAAEH,OAAO,CAAC;IAChE,CAAC;EACH,CAAC,CAAC;EACF,OAAO,SAASM,SAAS,GAAG;IAC1BT,UAAU,CAACU,OAAO,CAAC,UAAUH,MAAM,EAAE;MACnCA,MAAM,EAAE;IACV,CAAC,CAAC;EACJ,CAAC;AACH;AAEA,IAAII,cAAc,GAAGzC,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY;AAC1D,IAAIwC,MAAM,GAAG,kBAAkB;AAC/B,SAASC,YAAY,CAACjC,OAAO,EAAE;EAC7B,IAAI,CAACA,OAAO,GAAGA,OAAO;AACxB;AAEAiC,YAAY,CAACC,SAAS,CAACC,QAAQ,GAAG,SAASA,QAAQ,GAAG;EACpD,OAAO,IAAI,CAACnC,OAAO;AACrB,CAAC;AAED,SAASoC,SAAS,CAACC,SAAS,EAAErC,OAAO,EAAE;EACrC,IAAIqC,SAAS,EAAE;IACb;EACF;EAEA,IAAIN,cAAc,EAAE;IAClB,MAAM,IAAIE,YAAY,CAACD,MAAM,CAAC;EAChC,CAAC,MAAM;IACL,MAAM,IAAIC,YAAY,CAACD,MAAM,GAAG,IAAI,IAAIhC,OAAO,IAAI,EAAE,CAAC,CAAC;EACzD;AACF;AAEA,IAAIsC,aAAa,GAAG,UAAUC,gBAAgB,EAAE;EAC9C1E,cAAc,CAACyE,aAAa,EAAEC,gBAAgB,CAAC;EAE/C,SAASD,aAAa,GAAG;IACvB,IAAIE,KAAK;IAET,KAAK,IAAIC,IAAI,GAAGC,SAAS,CAACC,MAAM,EAAEC,IAAI,GAAG,IAAIC,KAAK,CAACJ,IAAI,CAAC,EAAEK,IAAI,GAAG,CAAC,EAAEA,IAAI,GAAGL,IAAI,EAAEK,IAAI,EAAE,EAAE;MACvFF,IAAI,CAACE,IAAI,CAAC,GAAGJ,SAAS,CAACI,IAAI,CAAC;IAC9B;IAEAN,KAAK,GAAGD,gBAAgB,CAACQ,IAAI,CAACvC,KAAK,CAAC+B,gBAAgB,EAAE,CAAC,IAAI,CAAC,CAACS,MAAM,CAACJ,IAAI,CAAC,CAAC,IAAI,IAAI;IAClFJ,KAAK,CAACS,SAAS,GAAG,IAAI;IACtBT,KAAK,CAACb,MAAM,GAAGf,IAAI;IAEnB4B,KAAK,CAACU,aAAa,GAAG,UAAUC,KAAK,EAAE;MACrC,IAAIF,SAAS,GAAGT,KAAK,CAACY,YAAY,EAAE;MAEpC,IAAIH,SAAS,CAACI,UAAU,EAAE,EAAE;QAC1BJ,SAAS,CAACK,QAAQ,EAAE;QACpBhE,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,GAAGiB,OAAO,CAAC,mJAAmJ,CAAC,GAAG,KAAK,CAAC;MAC/M;MAEA,IAAI8C,GAAG,GAAGJ,KAAK,CAACxC,KAAK;MAErB,IAAI4C,GAAG,YAAYtB,YAAY,EAAE;QAC/BkB,KAAK,CAACK,cAAc,EAAE;QAEtB,IAAIlE,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,EAAE;UACzCmB,KAAK,CAAC4C,GAAG,CAACvD,OAAO,CAAC;QACpB;MACF;IACF,CAAC;IAEDwC,KAAK,CAACY,YAAY,GAAG,YAAY;MAC/B,IAAI,CAACZ,KAAK,CAACS,SAAS,EAAE;QACpB,MAAM,IAAIQ,KAAK,CAAC,iDAAiD,CAAC;MACpE;MAEA,OAAOjB,KAAK,CAACS,SAAS;IACxB,CAAC;IAEDT,KAAK,CAACkB,YAAY,GAAG,UAAUT,SAAS,EAAE;MACxCT,KAAK,CAACS,SAAS,GAAGA,SAAS;IAC7B,CAAC;IAED,OAAOT,KAAK;EACd;EAEA,IAAImB,MAAM,GAAGrB,aAAa,CAACJ,SAAS;EAEpCyB,MAAM,CAACC,iBAAiB,GAAG,SAASA,iBAAiB,GAAG;IACtD,IAAI,CAACjC,MAAM,GAAGX,UAAU,CAACV,MAAM,EAAE,CAAC;MAChCmB,SAAS,EAAE,OAAO;MAClBC,EAAE,EAAE,IAAI,CAACwB;IACX,CAAC,CAAC,CAAC;EACL,CAAC;EAEDS,MAAM,CAACE,oBAAoB,GAAG,SAASA,oBAAoB,GAAG;IAC5D,IAAI,CAAClC,MAAM,EAAE;EACf,CAAC;EAEDgC,MAAM,CAACG,iBAAiB,GAAG,SAASA,iBAAiB,CAACP,GAAG,EAAE;IACzD,IAAIA,GAAG,YAAYtB,YAAY,EAAE;MAC/B,IAAI3C,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,EAAE;QACzCmB,KAAK,CAAC4C,GAAG,CAACvD,OAAO,CAAC;MACpB;MAEA,IAAI,CAAC+D,QAAQ,CAAC,CAAC,CAAC,CAAC;MACjB;IACF;IAEA,MAAMR,GAAG;EACX,CAAC;EAEDI,MAAM,CAACK,MAAM,GAAG,SAASA,MAAM,GAAG;IAChC,OAAO,IAAI,CAACC,KAAK,CAACC,QAAQ,CAAC,IAAI,CAACR,YAAY,CAAC;EAC/C,CAAC;EAED,OAAOpB,aAAa;AACtB,CAAC,CAACjF,KAAK,CAAC8G,SAAS,CAAC;AAElB,IAAIC,eAAe,GAAG,mGAAmG;AAEzH,IAAIC,QAAQ,GAAG,SAASA,QAAQ,CAACC,KAAK,EAAE;EACtC,OAAOA,KAAK,GAAG,CAAC;AAClB,CAAC;AAED,IAAIC,WAAW,GAAG,SAASA,WAAW,CAACC,KAAK,EAAE;EAC5C,OAAO,0CAA0C,GAAGH,QAAQ,CAACG,KAAK,CAACC,MAAM,CAACH,KAAK,CAAC,GAAG,6EAA6E;AAClK,CAAC;AAED,IAAII,YAAY,GAAG,SAASA,YAAY,CAACD,MAAM,EAAEE,WAAW,EAAE;EAC5D,IAAIC,YAAY,GAAGH,MAAM,CAACI,WAAW,KAAKF,WAAW,CAACE,WAAW;EACjE,IAAIC,aAAa,GAAGT,QAAQ,CAACI,MAAM,CAACH,KAAK,CAAC;EAC1C,IAAIS,WAAW,GAAGV,QAAQ,CAACM,WAAW,CAACL,KAAK,CAAC;EAE7C,IAAIM,YAAY,EAAE;IAChB,OAAO,gDAAgD,GAAGE,aAAa,GAAG,sBAAsB,GAAGC,WAAW,GAAG,QAAQ;EAC3H;EAEA,OAAO,8CAA8C,GAAGD,aAAa,GAAG,gBAAgB,GAAGL,MAAM,CAACI,WAAW,GAAG,gBAAgB,GAAGF,WAAW,CAACE,WAAW,GAAG,oBAAoB,GAAGE,WAAW,GAAG,MAAM;AAC1M,CAAC;AAED,IAAIC,WAAW,GAAG,SAASA,WAAW,CAACC,EAAE,EAAER,MAAM,EAAES,OAAO,EAAE;EAC1D,IAAIC,UAAU,GAAGV,MAAM,CAACI,WAAW,KAAKK,OAAO,CAACL,WAAW;EAE3D,IAAIM,UAAU,EAAE;IACd,OAAO,mBAAmB,GAAGF,EAAE,GAAG,iCAAiC,GAAGC,OAAO,CAACE,WAAW;EAC3F;EAEA,OAAO,mBAAmB,GAAGH,EAAE,GAAG,kBAAkB,GAAGR,MAAM,CAACI,WAAW,GAAG,iCAAiC,GAAGK,OAAO,CAACE,WAAW,GAAG,kBAAkB,GAAGF,OAAO,CAACL,WAAW,GAAG,QAAQ;AAC3L,CAAC;AAED,IAAIQ,YAAY,GAAG,SAASA,YAAY,CAACC,MAAM,EAAE;EAC/C,IAAIC,QAAQ,GAAGD,MAAM,CAACX,WAAW;EAEjC,IAAIY,QAAQ,EAAE;IACZ,OAAOb,YAAY,CAACY,MAAM,CAACb,MAAM,EAAEc,QAAQ,CAAC;EAC9C;EAEA,IAAIL,OAAO,GAAGI,MAAM,CAACJ,OAAO;EAE5B,IAAIA,OAAO,EAAE;IACX,OAAOF,WAAW,CAACM,MAAM,CAACF,WAAW,EAAEE,MAAM,CAACb,MAAM,EAAES,OAAO,CAAC;EAChE;EAEA,OAAO,gDAAgD;AACzD,CAAC;AAED,IAAIM,eAAe,GAAG,SAASA,eAAe,CAACf,MAAM,EAAE;EACrD,OAAO,2DAA2D,GAAGJ,QAAQ,CAACI,MAAM,CAACH,KAAK,CAAC,GAAG,IAAI;AACpG,CAAC;AAED,IAAImB,SAAS,GAAG,SAASA,SAAS,CAACC,MAAM,EAAE;EACzC,IAAIA,MAAM,CAACC,MAAM,KAAK,QAAQ,EAAE;IAC9B,OAAO,qCAAqC,GAAGH,eAAe,CAACE,MAAM,CAACjB,MAAM,CAAC,GAAG,QAAQ;EAC1F;EAEA,IAAIc,QAAQ,GAAGG,MAAM,CAACf,WAAW;EACjC,IAAIO,OAAO,GAAGQ,MAAM,CAACR,OAAO;EAE5B,IAAIK,QAAQ,EAAE;IACZ,OAAO,4CAA4C,GAAGb,YAAY,CAACgB,MAAM,CAACjB,MAAM,EAAEc,QAAQ,CAAC,GAAG,QAAQ;EACxG;EAEA,IAAIL,OAAO,EAAE;IACX,OAAO,4CAA4C,GAAGF,WAAW,CAACU,MAAM,CAACN,WAAW,EAAEM,MAAM,CAACjB,MAAM,EAAES,OAAO,CAAC,GAAG,QAAQ;EAC1H;EAEA,OAAO,mEAAmE,GAAGM,eAAe,CAACE,MAAM,CAACjB,MAAM,CAAC,GAAG,MAAM;AACtH,CAAC;AAED,IAAImB,MAAM,GAAG;EACXxB,eAAe,EAAEA,eAAe;EAChCG,WAAW,EAAEA,WAAW;EACxBc,YAAY,EAAEA,YAAY;EAC1BI,SAAS,EAAEA;AACb,CAAC;AAED,IAAII,MAAM,GAAG;EACXC,CAAC,EAAE,CAAC;EACJC,CAAC,EAAE;AACL,CAAC;AACD,IAAIC,GAAG,GAAG,SAASA,GAAG,CAACC,MAAM,EAAEC,MAAM,EAAE;EACrC,OAAO;IACLJ,CAAC,EAAEG,MAAM,CAACH,CAAC,GAAGI,MAAM,CAACJ,CAAC;IACtBC,CAAC,EAAEE,MAAM,CAACF,CAAC,GAAGG,MAAM,CAACH;EACvB,CAAC;AACH,CAAC;AACD,IAAII,QAAQ,GAAG,SAASA,QAAQ,CAACF,MAAM,EAAEC,MAAM,EAAE;EAC/C,OAAO;IACLJ,CAAC,EAAEG,MAAM,CAACH,CAAC,GAAGI,MAAM,CAACJ,CAAC;IACtBC,CAAC,EAAEE,MAAM,CAACF,CAAC,GAAGG,MAAM,CAACH;EACvB,CAAC;AACH,CAAC;AACD,IAAIK,OAAO,GAAG,SAASA,OAAO,CAACH,MAAM,EAAEC,MAAM,EAAE;EAC7C,OAAOD,MAAM,CAACH,CAAC,KAAKI,MAAM,CAACJ,CAAC,IAAIG,MAAM,CAACF,CAAC,KAAKG,MAAM,CAACH,CAAC;AACvD,CAAC;AACD,IAAIM,MAAM,GAAG,SAASA,MAAM,CAACC,KAAK,EAAE;EAClC,OAAO;IACLR,CAAC,EAAEQ,KAAK,CAACR,CAAC,KAAK,CAAC,GAAG,CAACQ,KAAK,CAACR,CAAC,GAAG,CAAC;IAC/BC,CAAC,EAAEO,KAAK,CAACP,CAAC,KAAK,CAAC,GAAG,CAACO,KAAK,CAACP,CAAC,GAAG;EAChC,CAAC;AACH,CAAC;AACD,IAAIQ,KAAK,GAAG,SAASA,KAAK,CAACC,IAAI,EAAE5G,KAAK,EAAE6G,UAAU,EAAE;EAClD,IAAIC,IAAI;EAER,IAAID,UAAU,KAAK,KAAK,CAAC,EAAE;IACzBA,UAAU,GAAG,CAAC;EAChB;EAEA,OAAOC,IAAI,GAAG,CAAC,CAAC,EAAEA,IAAI,CAACF,IAAI,CAAC,GAAG5G,KAAK,EAAE8G,IAAI,CAACF,IAAI,KAAK,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC,GAAGC,UAAU,EAAEC,IAAI;AACzF,CAAC;AACD,IAAIC,QAAQ,GAAG,SAASA,QAAQ,CAACV,MAAM,EAAEC,MAAM,EAAE;EAC/C,OAAOU,IAAI,CAACC,IAAI,CAACD,IAAI,CAACE,GAAG,CAACZ,MAAM,CAACJ,CAAC,GAAGG,MAAM,CAACH,CAAC,EAAE,CAAC,CAAC,GAAGc,IAAI,CAACE,GAAG,CAACZ,MAAM,CAACH,CAAC,GAAGE,MAAM,CAACF,CAAC,EAAE,CAAC,CAAC,CAAC;AACvF,CAAC;AACD,IAAIgB,OAAO,GAAG,SAASA,OAAO,CAACC,MAAM,EAAEC,MAAM,EAAE;EAC7C,OAAOL,IAAI,CAACM,GAAG,CAAC1G,KAAK,CAACoG,IAAI,EAAEK,MAAM,CAAC5F,GAAG,CAAC,UAAUiF,KAAK,EAAE;IACtD,OAAOK,QAAQ,CAACK,MAAM,EAAEV,KAAK,CAAC;EAChC,CAAC,CAAC,CAAC;AACL,CAAC;AACD,IAAI9F,KAAK,GAAG,SAASA,KAAK,CAACkB,EAAE,EAAE;EAC7B,OAAO,UAAU4E,KAAK,EAAE;IACtB,OAAO;MACLR,CAAC,EAAEpE,EAAE,CAAC4E,KAAK,CAACR,CAAC,CAAC;MACdC,CAAC,EAAErE,EAAE,CAAC4E,KAAK,CAACP,CAAC;IACf,CAAC;EACH,CAAC;AACH,CAAC;AAED,IAAIoB,WAAW,GAAI,SAAfA,WAAW,CAAcC,KAAK,EAAEC,OAAO,EAAE;EAC3C,IAAI3B,MAAM,GAAGpH,OAAO,CAAC;IACnBgJ,GAAG,EAAEV,IAAI,CAACW,GAAG,CAACF,OAAO,CAACC,GAAG,EAAEF,KAAK,CAACE,GAAG,CAAC;IACrCE,KAAK,EAAEZ,IAAI,CAACM,GAAG,CAACG,OAAO,CAACG,KAAK,EAAEJ,KAAK,CAACI,KAAK,CAAC;IAC3CC,MAAM,EAAEb,IAAI,CAACM,GAAG,CAACG,OAAO,CAACI,MAAM,EAAEL,KAAK,CAACK,MAAM,CAAC;IAC9CC,IAAI,EAAEd,IAAI,CAACW,GAAG,CAACF,OAAO,CAACK,IAAI,EAAEN,KAAK,CAACM,IAAI;EACzC,CAAC,CAAC;EAEF,IAAIhC,MAAM,CAACiC,KAAK,IAAI,CAAC,IAAIjC,MAAM,CAACkC,MAAM,IAAI,CAAC,EAAE;IAC3C,OAAO,IAAI;EACb;EAEA,OAAOlC,MAAM;AACf,CAAE;AAEF,IAAImC,gBAAgB,GAAG,SAASA,gBAAgB,CAACC,OAAO,EAAExB,KAAK,EAAE;EAC/D,OAAO;IACLgB,GAAG,EAAEQ,OAAO,CAACR,GAAG,GAAGhB,KAAK,CAACP,CAAC;IAC1B2B,IAAI,EAAEI,OAAO,CAACJ,IAAI,GAAGpB,KAAK,CAACR,CAAC;IAC5B2B,MAAM,EAAEK,OAAO,CAACL,MAAM,GAAGnB,KAAK,CAACP,CAAC;IAChCyB,KAAK,EAAEM,OAAO,CAACN,KAAK,GAAGlB,KAAK,CAACR;EAC/B,CAAC;AACH,CAAC;AACD,IAAIiC,UAAU,GAAG,SAASA,UAAU,CAACD,OAAO,EAAE;EAC5C,OAAO,CAAC;IACNhC,CAAC,EAAEgC,OAAO,CAACJ,IAAI;IACf3B,CAAC,EAAE+B,OAAO,CAACR;EACb,CAAC,EAAE;IACDxB,CAAC,EAAEgC,OAAO,CAACN,KAAK;IAChBzB,CAAC,EAAE+B,OAAO,CAACR;EACb,CAAC,EAAE;IACDxB,CAAC,EAAEgC,OAAO,CAACJ,IAAI;IACf3B,CAAC,EAAE+B,OAAO,CAACL;EACb,CAAC,EAAE;IACD3B,CAAC,EAAEgC,OAAO,CAACN,KAAK;IAChBzB,CAAC,EAAE+B,OAAO,CAACL;EACb,CAAC,CAAC;AACJ,CAAC;AACD,IAAIO,SAAS,GAAG;EACdV,GAAG,EAAE,CAAC;EACNE,KAAK,EAAE,CAAC;EACRC,MAAM,EAAE,CAAC;EACTC,IAAI,EAAE;AACR,CAAC;AAED,IAAIO,MAAM,GAAG,SAASA,MAAM,CAACjB,MAAM,EAAEI,KAAK,EAAE;EAC1C,IAAI,CAACA,KAAK,EAAE;IACV,OAAOJ,MAAM;EACf;EAEA,OAAOa,gBAAgB,CAACb,MAAM,EAAEI,KAAK,CAACa,MAAM,CAACC,IAAI,CAACC,YAAY,CAAC;AACjE,CAAC;AAED,IAAIC,QAAQ,GAAG,SAASA,QAAQ,CAACpB,MAAM,EAAEqB,IAAI,EAAEC,eAAe,EAAE;EAC9D,IAAIA,eAAe,IAAIA,eAAe,CAACC,WAAW,EAAE;IAClD,IAAIC,SAAS;IAEb,OAAO1K,QAAQ,CAAC,CAAC,CAAC,EAAEkJ,MAAM,GAAGwB,SAAS,GAAG,CAAC,CAAC,EAAEA,SAAS,CAACH,IAAI,CAACI,GAAG,CAAC,GAAGzB,MAAM,CAACqB,IAAI,CAACI,GAAG,CAAC,GAAGH,eAAe,CAACC,WAAW,CAACF,IAAI,CAAC7B,IAAI,CAAC,EAAEgC,SAAS,EAAE;EAC3I;EAEA,OAAOxB,MAAM;AACf,CAAC;AAED,IAAI0B,IAAI,GAAG,SAASA,IAAI,CAAC1B,MAAM,EAAEI,KAAK,EAAE;EACtC,IAAIA,KAAK,IAAIA,KAAK,CAACuB,iBAAiB,EAAE;IACpC,OAAOxB,WAAW,CAACC,KAAK,CAACwB,aAAa,EAAE5B,MAAM,CAAC;EACjD;EAEA,OAAO1I,OAAO,CAAC0I,MAAM,CAAC;AACxB,CAAC;AAED,IAAI6B,UAAU,GAAI,SAAdA,UAAU,CAAcnC,IAAI,EAAE;EAChC,IAAIoC,IAAI,GAAGpC,IAAI,CAACoC,IAAI;IAChBR,eAAe,GAAG5B,IAAI,CAAC4B,eAAe;IACtCD,IAAI,GAAG3B,IAAI,CAAC2B,IAAI;IAChBjB,KAAK,GAAGV,IAAI,CAACU,KAAK;EACtB,IAAI2B,QAAQ,GAAGd,MAAM,CAACa,IAAI,CAACE,SAAS,EAAE5B,KAAK,CAAC;EAC5C,IAAI6B,SAAS,GAAGb,QAAQ,CAACW,QAAQ,EAAEV,IAAI,EAAEC,eAAe,CAAC;EACzD,IAAIY,OAAO,GAAGR,IAAI,CAACO,SAAS,EAAE7B,KAAK,CAAC;EACpC,OAAO;IACL0B,IAAI,EAAEA,IAAI;IACVR,eAAe,EAAEA,eAAe;IAChCa,MAAM,EAAED;EACV,CAAC;AACH,CAAE;AAEF,IAAIE,eAAe,GAAI,SAAnBA,eAAe,CAAcC,SAAS,EAAEC,SAAS,EAAE;EACrD,CAACD,SAAS,CAACjC,KAAK,GAAG9H,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,GAAG4C,SAAS,CAAC,KAAK,CAAC,GAAGA,SAAS,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC;EACvG,IAAImH,UAAU,GAAGF,SAAS,CAACjC,KAAK;EAChC,IAAIoC,UAAU,GAAGrD,QAAQ,CAACmD,SAAS,EAAEC,UAAU,CAACtB,MAAM,CAACwB,OAAO,CAAC;EAC/D,IAAIC,kBAAkB,GAAGrD,MAAM,CAACmD,UAAU,CAAC;EAE3C,IAAIpC,KAAK,GAAGtJ,QAAQ,CAAC,CAAC,CAAC,EAAEyL,UAAU,EAAE;IACnCtB,MAAM,EAAE;MACNwB,OAAO,EAAEF,UAAU,CAACtB,MAAM,CAACwB,OAAO;MAClCE,OAAO,EAAEL,SAAS;MAClBpB,IAAI,EAAE;QACJtI,KAAK,EAAE4J,UAAU;QACjBrB,YAAY,EAAEuB;MAChB,CAAC;MACDnC,GAAG,EAAEgC,UAAU,CAACtB,MAAM,CAACV;IACzB;EACF,CAAC,CAAC;EAEF,IAAIF,OAAO,GAAGwB,UAAU,CAAC;IACvBC,IAAI,EAAEO,SAAS,CAAChC,OAAO,CAACyB,IAAI;IAC5BR,eAAe,EAAEe,SAAS,CAAChC,OAAO,CAACiB,eAAe;IAClDD,IAAI,EAAEgB,SAAS,CAAChB,IAAI;IACpBjB,KAAK,EAAEA;EACT,CAAC,CAAC;EAEF,IAAI1B,MAAM,GAAG5H,QAAQ,CAAC,CAAC,CAAC,EAAEuL,SAAS,EAAE;IACnCjC,KAAK,EAAEA,KAAK;IACZC,OAAO,EAAEA;EACX,CAAC,CAAC;EAEF,OAAO3B,MAAM;AACf,CAAE;AAEF,SAASkE,MAAM,CAACvI,GAAG,EAAE;EACnB,OAAOvC,cAAc,CAACuC,GAAG,CAAC;AAC5B;AACA,SAASwI,SAAS,CAACC,IAAI,EAAEC,SAAS,EAAE;EAClC,IAAID,IAAI,CAACD,SAAS,EAAE;IAClB,OAAOC,IAAI,CAACD,SAAS,CAACE,SAAS,CAAC;EAClC;EAEA,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGF,IAAI,CAACnH,MAAM,EAAEqH,CAAC,EAAE,EAAE;IACpC,IAAID,SAAS,CAACD,IAAI,CAACE,CAAC,CAAC,CAAC,EAAE;MACtB,OAAOA,CAAC;IACV;EACF;EAEA,OAAO,CAAC,CAAC;AACX;AACA,SAASC,IAAI,CAACH,IAAI,EAAEC,SAAS,EAAE;EAC7B,IAAID,IAAI,CAACG,IAAI,EAAE;IACb,OAAOH,IAAI,CAACG,IAAI,CAACF,SAAS,CAAC;EAC7B;EAEA,IAAIzF,KAAK,GAAGuF,SAAS,CAACC,IAAI,EAAEC,SAAS,CAAC;EAEtC,IAAIzF,KAAK,KAAK,CAAC,CAAC,EAAE;IAChB,OAAOwF,IAAI,CAACxF,KAAK,CAAC;EACpB;EAEA,OAAO4F,SAAS;AAClB;AACA,SAASC,OAAO,CAACL,IAAI,EAAE;EACrB,OAAOjH,KAAK,CAACX,SAAS,CAACkI,KAAK,CAACrH,IAAI,CAAC+G,IAAI,CAAC;AACzC;AAEA,IAAIO,cAAc,GAAGxL,UAAU,CAAC,UAAUyL,UAAU,EAAE;EACpD,OAAOA,UAAU,CAACC,MAAM,CAAC,UAAUC,QAAQ,EAAEb,OAAO,EAAE;IACpDa,QAAQ,CAACb,OAAO,CAACc,UAAU,CAACxF,EAAE,CAAC,GAAG0E,OAAO;IACzC,OAAOa,QAAQ;EACjB,CAAC,EAAE,CAAC,CAAC,CAAC;AACR,CAAC,CAAC;AACF,IAAIE,cAAc,GAAG7L,UAAU,CAAC,UAAU8L,UAAU,EAAE;EACpD,OAAOA,UAAU,CAACJ,MAAM,CAAC,UAAUC,QAAQ,EAAEb,OAAO,EAAE;IACpDa,QAAQ,CAACb,OAAO,CAACc,UAAU,CAACxF,EAAE,CAAC,GAAG0E,OAAO;IACzC,OAAOa,QAAQ;EACjB,CAAC,EAAE,CAAC,CAAC,CAAC;AACR,CAAC,CAAC;AACF,IAAII,eAAe,GAAG/L,UAAU,CAAC,UAAUyL,UAAU,EAAE;EACrD,OAAOV,MAAM,CAACU,UAAU,CAAC;AAC3B,CAAC,CAAC;AACF,IAAIO,eAAe,GAAGhM,UAAU,CAAC,UAAU8L,UAAU,EAAE;EACrD,OAAOf,MAAM,CAACe,UAAU,CAAC;AAC3B,CAAC,CAAC;AAEF,IAAIG,4BAA4B,GAAGjM,UAAU,CAAC,UAAUgG,WAAW,EAAE8F,UAAU,EAAE;EAC/E,IAAIjF,MAAM,GAAGmF,eAAe,CAACF,UAAU,CAAC,CAACI,MAAM,CAAC,UAAUC,SAAS,EAAE;IACnE,OAAOnG,WAAW,KAAKmG,SAAS,CAACP,UAAU,CAAC5F,WAAW;EACzD,CAAC,CAAC,CAACoG,IAAI,CAAC,UAAUC,CAAC,EAAEC,CAAC,EAAE;IACtB,OAAOD,CAAC,CAACT,UAAU,CAACnG,KAAK,GAAG6G,CAAC,CAACV,UAAU,CAACnG,KAAK;EAChD,CAAC,CAAC;EACF,OAAOoB,MAAM;AACf,CAAC,CAAC;AAEF,SAAS0F,iBAAiB,CAACC,MAAM,EAAE;EACjC,IAAIA,MAAM,CAACC,EAAE,IAAID,MAAM,CAACC,EAAE,CAAClL,IAAI,KAAK,SAAS,EAAE;IAC7C,OAAOiL,MAAM,CAACC,EAAE,CAAC3G,WAAW;EAC9B;EAEA,OAAO,IAAI;AACb;AACA,SAAS4G,aAAa,CAACF,MAAM,EAAE;EAC7B,IAAIA,MAAM,CAACC,EAAE,IAAID,MAAM,CAACC,EAAE,CAAClL,IAAI,KAAK,SAAS,EAAE;IAC7C,OAAOiL,MAAM,CAACC,EAAE,CAACpG,OAAO;EAC1B;EAEA,OAAO,IAAI;AACb;AAEA,IAAIsG,uBAAuB,GAAG3M,UAAU,CAAC,UAAU4M,MAAM,EAAE3B,IAAI,EAAE;EAC/D,OAAOA,IAAI,CAACiB,MAAM,CAAC,UAAUW,IAAI,EAAE;IACjC,OAAOA,IAAI,CAACjB,UAAU,CAACxF,EAAE,KAAKwG,MAAM,CAAChB,UAAU,CAACxF,EAAE;EACpD,CAAC,CAAC;AACJ,CAAC,CAAC;AAEF,IAAI0G,iBAAiB,GAAI,SAArBA,iBAAiB,CAAcjF,IAAI,EAAE;EACvC,IAAIkF,eAAe,GAAGlF,IAAI,CAACkF,eAAe;IACtCZ,SAAS,GAAGtE,IAAI,CAACsE,SAAS;IAC1BrG,WAAW,GAAG+B,IAAI,CAAC/B,WAAW;IAC9BkH,iBAAiB,GAAGnF,IAAI,CAACmF,iBAAiB;IAC1CC,cAAc,GAAGpF,IAAI,CAACoF,cAAc;EAExC,IAAI,CAACnH,WAAW,CAACoH,gBAAgB,EAAE;IACjC,OAAO,IAAI;EACb;EAEA,IAAIxG,QAAQ,GAAG6F,iBAAiB,CAACU,cAAc,CAAC;EAEhD,IAAI,CAACvG,QAAQ,EAAE;IACb,OAAO,IAAI;EACb;EAEA,SAASyG,SAAS,CAAChF,MAAM,EAAE;IACzB,IAAIsE,EAAE,GAAG;MACPlL,IAAI,EAAE,SAAS;MACf8E,OAAO,EAAE;QACPE,WAAW,EAAE4B,MAAM;QACnBnC,WAAW,EAAEF,WAAW,CAAC8F,UAAU,CAACxF;MACtC;IACF,CAAC;IACD,OAAOnH,QAAQ,CAAC,CAAC,CAAC,EAAEgO,cAAc,EAAE;MAClCR,EAAE,EAAEA;IACN,CAAC,CAAC;EACJ;EAEA,IAAIW,GAAG,GAAGH,cAAc,CAACI,SAAS,CAACD,GAAG;EACtC,IAAIE,SAAS,GAAGF,GAAG,CAACtJ,MAAM,GAAGsJ,GAAG,CAAC,CAAC,CAAC,GAAG,IAAI;EAE1C,IAAIL,eAAe,EAAE;IACnB,OAAOO,SAAS,GAAGH,SAAS,CAACG,SAAS,CAAC,GAAG,IAAI;EAChD;EAEA,IAAIC,gBAAgB,GAAGZ,uBAAuB,CAACR,SAAS,EAAEa,iBAAiB,CAAC;EAE5E,IAAI,CAACM,SAAS,EAAE;IACd,IAAI,CAACC,gBAAgB,CAACzJ,MAAM,EAAE;MAC5B,OAAO,IAAI;IACb;IAEA,IAAI0J,IAAI,GAAGD,gBAAgB,CAACA,gBAAgB,CAACzJ,MAAM,GAAG,CAAC,CAAC;IACxD,OAAOqJ,SAAS,CAACK,IAAI,CAAC5B,UAAU,CAACxF,EAAE,CAAC;EACtC;EAEA,IAAIqH,cAAc,GAAGzC,SAAS,CAACuC,gBAAgB,EAAE,UAAUG,CAAC,EAAE;IAC5D,OAAOA,CAAC,CAAC9B,UAAU,CAACxF,EAAE,KAAKkH,SAAS;EACtC,CAAC,CAAC;EACF,EAAEG,cAAc,KAAK,CAAC,CAAC,CAAC,GAAGhN,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,GAAG4C,SAAS,CAAC,KAAK,EAAE,sCAAsC,CAAC,GAAGA,SAAS,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC;EACvJ,IAAIoK,aAAa,GAAGF,cAAc,GAAG,CAAC;EAEtC,IAAIE,aAAa,GAAG,CAAC,EAAE;IACrB,OAAO,IAAI;EACb;EAEA,IAAIC,MAAM,GAAGL,gBAAgB,CAACI,aAAa,CAAC;EAC5C,OAAOR,SAAS,CAACS,MAAM,CAAChC,UAAU,CAACxF,EAAE,CAAC;AACxC,CAAE;AAEF,IAAIyH,QAAQ,GAAI,SAAZA,QAAQ,CAAc1B,SAAS,EAAErG,WAAW,EAAE;EAChD,OAAOqG,SAAS,CAACP,UAAU,CAAC5F,WAAW,KAAKF,WAAW,CAAC8F,UAAU,CAACxF,EAAE;AACvE,CAAE;AAEF,IAAI0H,aAAa,GAAG;EAClBrG,KAAK,EAAET,MAAM;EACbjG,KAAK,EAAE;AACT,CAAC;AACD,IAAIgN,WAAW,GAAG;EAChBC,SAAS,EAAE,CAAC,CAAC;EACbC,OAAO,EAAE,CAAC,CAAC;EACXb,GAAG,EAAE;AACP,CAAC;AACD,IAAIc,QAAQ,GAAG;EACbb,SAAS,EAAEU,WAAW;EACtBI,WAAW,EAAEL,aAAa;EAC1BrB,EAAE,EAAE;AACN,CAAC;AAED,IAAI2B,QAAQ,GAAI,SAAZA,QAAQ,CAAcC,UAAU,EAAEC,UAAU,EAAE;EAChD,OAAO,UAAUvN,KAAK,EAAE;IACtB,OAAOsN,UAAU,IAAItN,KAAK,IAAIA,KAAK,IAAIuN,UAAU;EACnD,CAAC;AACH,CAAE;AAEF,IAAIC,8BAA8B,GAAI,SAAlCA,8BAA8B,CAAchG,KAAK,EAAE;EACrD,IAAIiG,gBAAgB,GAAGJ,QAAQ,CAAC7F,KAAK,CAACE,GAAG,EAAEF,KAAK,CAACK,MAAM,CAAC;EACxD,IAAI6F,kBAAkB,GAAGL,QAAQ,CAAC7F,KAAK,CAACM,IAAI,EAAEN,KAAK,CAACI,KAAK,CAAC;EAC1D,OAAO,UAAUH,OAAO,EAAE;IACxB,IAAIkG,WAAW,GAAGF,gBAAgB,CAAChG,OAAO,CAACC,GAAG,CAAC,IAAI+F,gBAAgB,CAAChG,OAAO,CAACI,MAAM,CAAC,IAAI6F,kBAAkB,CAACjG,OAAO,CAACK,IAAI,CAAC,IAAI4F,kBAAkB,CAACjG,OAAO,CAACG,KAAK,CAAC;IAE5J,IAAI+F,WAAW,EAAE;MACf,OAAO,IAAI;IACb;IAEA,IAAIC,4BAA4B,GAAGH,gBAAgB,CAAChG,OAAO,CAACC,GAAG,CAAC,IAAI+F,gBAAgB,CAAChG,OAAO,CAACI,MAAM,CAAC;IACpG,IAAIgG,8BAA8B,GAAGH,kBAAkB,CAACjG,OAAO,CAACK,IAAI,CAAC,IAAI4F,kBAAkB,CAACjG,OAAO,CAACG,KAAK,CAAC;IAC1G,IAAIkG,oBAAoB,GAAGF,4BAA4B,IAAIC,8BAA8B;IAEzF,IAAIC,oBAAoB,EAAE;MACxB,OAAO,IAAI;IACb;IAEA,IAAIC,kBAAkB,GAAGtG,OAAO,CAACC,GAAG,GAAGF,KAAK,CAACE,GAAG,IAAID,OAAO,CAACI,MAAM,GAAGL,KAAK,CAACK,MAAM;IACjF,IAAImG,oBAAoB,GAAGvG,OAAO,CAACK,IAAI,GAAGN,KAAK,CAACM,IAAI,IAAIL,OAAO,CAACG,KAAK,GAAGJ,KAAK,CAACI,KAAK;IACnF,IAAIqG,uBAAuB,GAAGF,kBAAkB,IAAIC,oBAAoB;IAExE,IAAIC,uBAAuB,EAAE;MAC3B,OAAO,IAAI;IACb;IAEA,IAAIC,uBAAuB,GAAGH,kBAAkB,IAAIF,8BAA8B,IAAIG,oBAAoB,IAAIJ,4BAA4B;IAC1I,OAAOM,uBAAuB;EAChC,CAAC;AACH,CAAE;AAEF,IAAIC,4BAA4B,GAAI,SAAhCA,4BAA4B,CAAc3G,KAAK,EAAE;EACnD,IAAIiG,gBAAgB,GAAGJ,QAAQ,CAAC7F,KAAK,CAACE,GAAG,EAAEF,KAAK,CAACK,MAAM,CAAC;EACxD,IAAI6F,kBAAkB,GAAGL,QAAQ,CAAC7F,KAAK,CAACM,IAAI,EAAEN,KAAK,CAACI,KAAK,CAAC;EAC1D,OAAO,UAAUH,OAAO,EAAE;IACxB,IAAIkG,WAAW,GAAGF,gBAAgB,CAAChG,OAAO,CAACC,GAAG,CAAC,IAAI+F,gBAAgB,CAAChG,OAAO,CAACI,MAAM,CAAC,IAAI6F,kBAAkB,CAACjG,OAAO,CAACK,IAAI,CAAC,IAAI4F,kBAAkB,CAACjG,OAAO,CAACG,KAAK,CAAC;IAC5J,OAAO+F,WAAW;EACpB,CAAC;AACH,CAAE;AAEF,IAAIS,QAAQ,GAAG;EACbC,SAAS,EAAE,UAAU;EACrBzH,IAAI,EAAE,GAAG;EACT0H,aAAa,EAAE,GAAG;EAClB1J,KAAK,EAAE,KAAK;EACZiE,GAAG,EAAE,QAAQ;EACb0F,IAAI,EAAE,QAAQ;EACdC,cAAc,EAAE,MAAM;EACtBC,YAAY,EAAE,OAAO;EACrBC,aAAa,EAAE;AACjB,CAAC;AACD,IAAIC,UAAU,GAAG;EACfN,SAAS,EAAE,YAAY;EACvBzH,IAAI,EAAE,GAAG;EACT0H,aAAa,EAAE,GAAG;EAClB1J,KAAK,EAAE,MAAM;EACbiE,GAAG,EAAE,OAAO;EACZ0F,IAAI,EAAE,OAAO;EACbC,cAAc,EAAE,KAAK;EACrBC,YAAY,EAAE,QAAQ;EACtBC,aAAa,EAAE;AACjB,CAAC;AAED,IAAIE,kCAAkC,GAAI,SAAtCA,kCAAkC,CAAcnG,IAAI,EAAE;EACxD,OAAO,UAAUjB,KAAK,EAAE;IACtB,IAAIiG,gBAAgB,GAAGJ,QAAQ,CAAC7F,KAAK,CAACE,GAAG,EAAEF,KAAK,CAACK,MAAM,CAAC;IACxD,IAAI6F,kBAAkB,GAAGL,QAAQ,CAAC7F,KAAK,CAACM,IAAI,EAAEN,KAAK,CAACI,KAAK,CAAC;IAC1D,OAAO,UAAUH,OAAO,EAAE;MACxB,IAAIgB,IAAI,KAAK2F,QAAQ,EAAE;QACrB,OAAOX,gBAAgB,CAAChG,OAAO,CAACC,GAAG,CAAC,IAAI+F,gBAAgB,CAAChG,OAAO,CAACI,MAAM,CAAC;MAC1E;MAEA,OAAO6F,kBAAkB,CAACjG,OAAO,CAACK,IAAI,CAAC,IAAI4F,kBAAkB,CAACjG,OAAO,CAACG,KAAK,CAAC;IAC9E,CAAC;EACH,CAAC;AACH,CAAE;AAEF,IAAIiH,qBAAqB,GAAG,SAASA,qBAAqB,CAACzH,MAAM,EAAErC,WAAW,EAAE;EAC9E,IAAIwD,YAAY,GAAGxD,WAAW,CAACyC,KAAK,GAAGzC,WAAW,CAACyC,KAAK,CAACa,MAAM,CAACC,IAAI,CAACC,YAAY,GAAGtC,MAAM;EAC1F,OAAOgC,gBAAgB,CAACb,MAAM,EAAEmB,YAAY,CAAC;AAC/C,CAAC;AAED,IAAIuG,oBAAoB,GAAG,SAASA,oBAAoB,CAAC1H,MAAM,EAAErC,WAAW,EAAEgK,uBAAuB,EAAE;EACrG,IAAI,CAAChK,WAAW,CAAC0C,OAAO,CAAC8B,MAAM,EAAE;IAC/B,OAAO,KAAK;EACd;EAEA,OAAOwF,uBAAuB,CAAChK,WAAW,CAAC0C,OAAO,CAAC8B,MAAM,CAAC,CAACnC,MAAM,CAAC;AACpE,CAAC;AAED,IAAI4H,mBAAmB,GAAG,SAASA,mBAAmB,CAAC5H,MAAM,EAAE6H,QAAQ,EAAEF,uBAAuB,EAAE;EAChG,OAAOA,uBAAuB,CAACE,QAAQ,CAAC,CAAC7H,MAAM,CAAC;AAClD,CAAC;AAED,IAAI8H,SAAS,GAAG,SAASA,SAAS,CAACpI,IAAI,EAAE;EACvC,IAAIqI,aAAa,GAAGrI,IAAI,CAACM,MAAM;IAC3BrC,WAAW,GAAG+B,IAAI,CAAC/B,WAAW;IAC9BkK,QAAQ,GAAGnI,IAAI,CAACmI,QAAQ;IACxBG,yBAAyB,GAAGtI,IAAI,CAACsI,yBAAyB;IAC1DL,uBAAuB,GAAGjI,IAAI,CAACiI,uBAAuB;EAC1D,IAAIM,eAAe,GAAGD,yBAAyB,GAAGP,qBAAqB,CAACM,aAAa,EAAEpK,WAAW,CAAC,GAAGoK,aAAa;EACnH,OAAOL,oBAAoB,CAACO,eAAe,EAAEtK,WAAW,EAAEgK,uBAAuB,CAAC,IAAIC,mBAAmB,CAACK,eAAe,EAAEJ,QAAQ,EAAEF,uBAAuB,CAAC;AAC/J,CAAC;AAED,IAAIO,kBAAkB,GAAG,SAASA,kBAAkB,CAACtM,IAAI,EAAE;EACzD,OAAOkM,SAAS,CAAChR,QAAQ,CAAC,CAAC,CAAC,EAAE8E,IAAI,EAAE;IAClC+L,uBAAuB,EAAEvB;EAC3B,CAAC,CAAC,CAAC;AACL,CAAC;AACD,IAAI+B,gBAAgB,GAAG,SAASA,gBAAgB,CAACvM,IAAI,EAAE;EACrD,OAAOkM,SAAS,CAAChR,QAAQ,CAAC,CAAC,CAAC,EAAE8E,IAAI,EAAE;IAClC+L,uBAAuB,EAAEZ;EAC3B,CAAC,CAAC,CAAC;AACL,CAAC;AACD,IAAIqB,sBAAsB,GAAG,SAASA,sBAAsB,CAACxM,IAAI,EAAE;EACjE,OAAOkM,SAAS,CAAChR,QAAQ,CAAC,CAAC,CAAC,EAAE8E,IAAI,EAAE;IAClC+L,uBAAuB,EAAEH,kCAAkC,CAAC5L,IAAI,CAAC+B,WAAW,CAAC0D,IAAI;EACnF,CAAC,CAAC,CAAC;AACL,CAAC;AAED,IAAIgH,gBAAgB,GAAG,SAASA,gBAAgB,CAACpK,EAAE,EAAEoH,IAAI,EAAEiD,kBAAkB,EAAE;EAC7E,IAAI,OAAOA,kBAAkB,KAAK,SAAS,EAAE;IAC3C,OAAOA,kBAAkB;EAC3B;EAEA,IAAI,CAACjD,IAAI,EAAE;IACT,OAAO,IAAI;EACb;EAEA,IAAIQ,SAAS,GAAGR,IAAI,CAACQ,SAAS;IAC1BC,OAAO,GAAGT,IAAI,CAACS,OAAO;EAE1B,IAAID,SAAS,CAAC5H,EAAE,CAAC,EAAE;IACjB,OAAO,KAAK;EACd;EAEA,IAAIuF,QAAQ,GAAGsC,OAAO,CAAC7H,EAAE,CAAC;EAC1B,OAAOuF,QAAQ,GAAGA,QAAQ,CAAC+E,aAAa,GAAG,IAAI;AACjD,CAAC;AAED,SAASC,SAAS,CAACxE,SAAS,EAAEgC,WAAW,EAAE;EACzC,IAAIhE,SAAS,GAAGgC,SAAS,CAAClC,IAAI,CAACE,SAAS;EACxC,IAAIyG,QAAQ,GAAG;IACbnI,GAAG,EAAE0F,WAAW,CAAC1G,KAAK,CAACP,CAAC;IACxByB,KAAK,EAAE,CAAC;IACRC,MAAM,EAAE,CAAC;IACTC,IAAI,EAAEsF,WAAW,CAAC1G,KAAK,CAACR;EAC1B,CAAC;EACD,OAAOxH,OAAO,CAACC,MAAM,CAACyK,SAAS,EAAEyG,QAAQ,CAAC,CAAC;AAC7C;AAEA,SAASC,qBAAqB,CAAChJ,IAAI,EAAE;EACnC,IAAIiJ,aAAa,GAAGjJ,IAAI,CAACiJ,aAAa;IAClChL,WAAW,GAAG+B,IAAI,CAAC/B,WAAW;IAC9BqI,WAAW,GAAGtG,IAAI,CAACsG,WAAW;IAC9B6B,QAAQ,GAAGnI,IAAI,CAACmI,QAAQ;IACxBS,kBAAkB,GAAG5I,IAAI,CAAC4I,kBAAkB;IAC5CjD,IAAI,GAAG3F,IAAI,CAAC2F,IAAI;EACpB,OAAOsD,aAAa,CAACpF,MAAM,CAAC,SAASjL,OAAO,CAACsQ,MAAM,EAAE5E,SAAS,EAAE;IAC9D,IAAIhE,MAAM,GAAGwI,SAAS,CAACxE,SAAS,EAAEgC,WAAW,CAAC;IAC9C,IAAI/H,EAAE,GAAG+F,SAAS,CAACP,UAAU,CAACxF,EAAE;IAChC2K,MAAM,CAAC3D,GAAG,CAAC4D,IAAI,CAAC5K,EAAE,CAAC;IACnB,IAAI6J,SAAS,GAAGI,kBAAkB,CAAC;MACjClI,MAAM,EAAEA,MAAM;MACdrC,WAAW,EAAEA,WAAW;MACxBkK,QAAQ,EAAEA,QAAQ;MAClBG,yBAAyB,EAAE;IAC7B,CAAC,CAAC;IAEF,IAAI,CAACF,SAAS,EAAE;MACdc,MAAM,CAAC/C,SAAS,CAAC7B,SAAS,CAACP,UAAU,CAACxF,EAAE,CAAC,GAAG,IAAI;MAChD,OAAO2K,MAAM;IACf;IAEA,IAAIL,aAAa,GAAGF,gBAAgB,CAACpK,EAAE,EAAEoH,IAAI,EAAEiD,kBAAkB,CAAC;IAClE,IAAInH,YAAY,GAAG;MACjB/C,WAAW,EAAEH,EAAE;MACfsK,aAAa,EAAEA;IACjB,CAAC;IACDK,MAAM,CAAC9C,OAAO,CAAC7H,EAAE,CAAC,GAAGkD,YAAY;IACjC,OAAOyH,MAAM;EACf,CAAC,EAAE;IACD3D,GAAG,EAAE,EAAE;IACPa,OAAO,EAAE,CAAC,CAAC;IACXD,SAAS,EAAE,CAAC;EACd,CAAC,CAAC;AACJ;AAEA,SAASiD,kBAAkB,CAACnF,UAAU,EAAEpJ,OAAO,EAAE;EAC/C,IAAI,CAACoJ,UAAU,CAAChI,MAAM,EAAE;IACtB,OAAO,CAAC;EACV;EAEA,IAAIoN,eAAe,GAAGpF,UAAU,CAACA,UAAU,CAAChI,MAAM,GAAG,CAAC,CAAC,CAAC8H,UAAU,CAACnG,KAAK;EACxE,OAAO/C,OAAO,CAAC4D,UAAU,GAAG4K,eAAe,GAAGA,eAAe,GAAG,CAAC;AACnE;AAEA,SAASC,OAAO,CAACtJ,IAAI,EAAE;EACrB,IAAImF,iBAAiB,GAAGnF,IAAI,CAACmF,iBAAiB;IAC1C1G,UAAU,GAAGuB,IAAI,CAACvB,UAAU;IAC5B6H,WAAW,GAAGtG,IAAI,CAACsG,WAAW;IAC9BrI,WAAW,GAAG+B,IAAI,CAAC/B,WAAW;EAClC,IAAIsL,QAAQ,GAAGH,kBAAkB,CAACjE,iBAAiB,EAAE;IACnD1G,UAAU,EAAEA;EACd,CAAC,CAAC;EACF,OAAO;IACL+G,SAAS,EAAEU,WAAW;IACtBI,WAAW,EAAEA,WAAW;IACxB1B,EAAE,EAAE;MACFlL,IAAI,EAAE,SAAS;MACfuE,WAAW,EAAE;QACXE,WAAW,EAAEF,WAAW,CAAC8F,UAAU,CAACxF,EAAE;QACtCX,KAAK,EAAE2L;MACT;IACF;EACF,CAAC;AACH;AAEA,SAASC,sBAAsB,CAACC,KAAK,EAAE;EACrC,IAAInF,SAAS,GAAGmF,KAAK,CAACnF,SAAS;IAC3Ba,iBAAiB,GAAGsE,KAAK,CAACtE,iBAAiB;IAC3ClH,WAAW,GAAGwL,KAAK,CAACxL,WAAW;IAC/BkK,QAAQ,GAAGsB,KAAK,CAACtB,QAAQ;IACzB7B,WAAW,GAAGmD,KAAK,CAACnD,WAAW;IAC/BX,IAAI,GAAG8D,KAAK,CAAC9D,IAAI;IACjB/H,KAAK,GAAG6L,KAAK,CAAC7L,KAAK;IACnBgL,kBAAkB,GAAGa,KAAK,CAACb,kBAAkB;EACjD,IAAInK,UAAU,GAAGuH,QAAQ,CAAC1B,SAAS,EAAErG,WAAW,CAAC;EAEjD,IAAIL,KAAK,IAAI,IAAI,EAAE;IACjB,OAAO0L,OAAO,CAAC;MACbnE,iBAAiB,EAAEA,iBAAiB;MACpC1G,UAAU,EAAEA,UAAU;MACtB6H,WAAW,EAAEA,WAAW;MACxBrI,WAAW,EAAEA;IACf,CAAC,CAAC;EACJ;EAEA,IAAIyL,KAAK,GAAGnG,IAAI,CAAC4B,iBAAiB,EAAE,UAAUH,IAAI,EAAE;IAClD,OAAOA,IAAI,CAACjB,UAAU,CAACnG,KAAK,KAAKA,KAAK;EACxC,CAAC,CAAC;EAEF,IAAI,CAAC8L,KAAK,EAAE;IACV,OAAOJ,OAAO,CAAC;MACbnE,iBAAiB,EAAEA,iBAAiB;MACpC1G,UAAU,EAAEA,UAAU;MACtB6H,WAAW,EAAEA,WAAW;MACxBrI,WAAW,EAAEA;IACf,CAAC,CAAC;EACJ;EAEA,IAAI0L,eAAe,GAAG7E,uBAAuB,CAACR,SAAS,EAAEa,iBAAiB,CAAC;EAC3E,IAAIyE,SAAS,GAAGzE,iBAAiB,CAAC0E,OAAO,CAACH,KAAK,CAAC;EAChD,IAAII,QAAQ,GAAGH,eAAe,CAACjG,KAAK,CAACkG,SAAS,CAAC;EAC/C,IAAIpE,SAAS,GAAGwD,qBAAqB,CAAC;IACpCC,aAAa,EAAEa,QAAQ;IACvB7L,WAAW,EAAEA,WAAW;IACxBqI,WAAW,EAAEA,WAAW;IACxBX,IAAI,EAAEA,IAAI;IACVwC,QAAQ,EAAEA,QAAQ,CAACzH,KAAK;IACxBkI,kBAAkB,EAAEA;EACtB,CAAC,CAAC;EACF,OAAO;IACLpD,SAAS,EAAEA,SAAS;IACpBc,WAAW,EAAEA,WAAW;IACxB1B,EAAE,EAAE;MACFlL,IAAI,EAAE,SAAS;MACfuE,WAAW,EAAE;QACXE,WAAW,EAAEF,WAAW,CAAC8F,UAAU,CAACxF,EAAE;QACtCX,KAAK,EAAEA;MACT;IACF;EACF,CAAC;AACH;AAEA,SAASmM,qBAAqB,CAACrL,WAAW,EAAEsL,aAAa,EAAE;EACzD,OAAOC,OAAO,CAACD,aAAa,CAACE,QAAQ,CAACxL,WAAW,CAAC,CAAC;AACrD;AAEA,IAAIyL,WAAW,GAAI,SAAfA,WAAW,CAAcnK,IAAI,EAAE;EACjC,IAAIkF,eAAe,GAAGlF,IAAI,CAACkF,eAAe;IACtCjH,WAAW,GAAG+B,IAAI,CAAC/B,WAAW;IAC9BgG,UAAU,GAAGjE,IAAI,CAACiE,UAAU;IAC5BzF,OAAO,GAAGwB,IAAI,CAACxB,OAAO;IACtBwL,aAAa,GAAGhK,IAAI,CAACgK,aAAa;EAEtC,IAAI,CAAC/L,WAAW,CAACoH,gBAAgB,EAAE;IACjC,OAAO,IAAI;EACb;EAEA,IAAI+E,SAAS,GAAG5L,OAAO,CAACE,WAAW;EACnC,IAAI2L,WAAW,GAAGpG,UAAU,CAACmG,SAAS,CAAC;EACvC,IAAIE,gBAAgB,GAAGD,WAAW,CAACtG,UAAU,CAACnG,KAAK;EACnD,IAAI2M,gCAAgC,GAAGR,qBAAqB,CAACK,SAAS,EAAEJ,aAAa,CAAC;EAEtF,IAAIO,gCAAgC,EAAE;IACpC,IAAIrF,eAAe,EAAE;MACnB,OAAOoF,gBAAgB;IACzB;IAEA,OAAOA,gBAAgB,GAAG,CAAC;EAC7B;EAEA,IAAIpF,eAAe,EAAE;IACnB,OAAOoF,gBAAgB,GAAG,CAAC;EAC7B;EAEA,OAAOA,gBAAgB;AACzB,CAAE;AAEF,IAAIE,WAAW,GAAI,SAAfA,WAAW,CAAcxK,IAAI,EAAE;EACjC,IAAIkF,eAAe,GAAGlF,IAAI,CAACkF,eAAe;IACtChH,YAAY,GAAG8B,IAAI,CAAC9B,YAAY;IAChCiH,iBAAiB,GAAGnF,IAAI,CAACmF,iBAAiB;IAC1CtG,QAAQ,GAAGmB,IAAI,CAACnB,QAAQ;EAE5B,IAAI,CAACsG,iBAAiB,CAAClJ,MAAM,EAAE;IAC7B,OAAO,IAAI;EACb;EAEA,IAAIwO,YAAY,GAAG5L,QAAQ,CAACjB,KAAK;EACjC,IAAIkI,aAAa,GAAGZ,eAAe,GAAGuF,YAAY,GAAG,CAAC,GAAGA,YAAY,GAAG,CAAC;EACzE,IAAIC,UAAU,GAAGvF,iBAAiB,CAAC,CAAC,CAAC,CAACpB,UAAU,CAACnG,KAAK;EACtD,IAAI+M,SAAS,GAAGxF,iBAAiB,CAACA,iBAAiB,CAAClJ,MAAM,GAAG,CAAC,CAAC,CAAC8H,UAAU,CAACnG,KAAK;EAChF,IAAI6I,UAAU,GAAGvI,YAAY,GAAGyM,SAAS,GAAGA,SAAS,GAAG,CAAC;EAEzD,IAAI7E,aAAa,GAAG4E,UAAU,EAAE;IAC9B,OAAO,IAAI;EACb;EAEA,IAAI5E,aAAa,GAAGW,UAAU,EAAE;IAC9B,OAAO,IAAI;EACb;EAEA,OAAOX,aAAa;AACtB,CAAE;AAEF,IAAI8E,eAAe,GAAI,SAAnBA,eAAe,CAAc5K,IAAI,EAAE;EACrC,IAAIkF,eAAe,GAAGlF,IAAI,CAACkF,eAAe;IACtChH,YAAY,GAAG8B,IAAI,CAAC9B,YAAY;IAChCoG,SAAS,GAAGtE,IAAI,CAACsE,SAAS;IAC1BL,UAAU,GAAGjE,IAAI,CAACiE,UAAU;IAC5BhG,WAAW,GAAG+B,IAAI,CAAC/B,WAAW;IAC9BkH,iBAAiB,GAAGnF,IAAI,CAACmF,iBAAiB;IAC1CC,cAAc,GAAGpF,IAAI,CAACoF,cAAc;IACpC+C,QAAQ,GAAGnI,IAAI,CAACmI,QAAQ;IACxB6B,aAAa,GAAGhK,IAAI,CAACgK,aAAa;EACtC,IAAIa,KAAK,GAAGzF,cAAc,CAACR,EAAE;EAC7B,CAACiG,KAAK,GAAGjS,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,GAAG4C,SAAS,CAAC,KAAK,EAAE,2DAA2D,CAAC,GAAGA,SAAS,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC;EAE1J,IAAImP,KAAK,CAACnR,IAAI,KAAK,SAAS,EAAE;IAC5B,IAAIoR,SAAS,GAAGN,WAAW,CAAC;MAC1BtF,eAAe,EAAEA,eAAe;MAChChH,YAAY,EAAEA,YAAY;MAC1BW,QAAQ,EAAEgM,KAAK,CAAC5M,WAAW;MAC3BkH,iBAAiB,EAAEA;IACrB,CAAC,CAAC;IAEF,IAAI2F,SAAS,IAAI,IAAI,EAAE;MACrB,OAAO,IAAI;IACb;IAEA,OAAOtB,sBAAsB,CAAC;MAC5BlF,SAAS,EAAEA,SAAS;MACpBa,iBAAiB,EAAEA,iBAAiB;MACpClH,WAAW,EAAEA,WAAW;MACxBkK,QAAQ,EAAEA,QAAQ;MAClBxC,IAAI,EAAEP,cAAc,CAACI,SAAS;MAC9Bc,WAAW,EAAElB,cAAc,CAACkB,WAAW;MACvC1I,KAAK,EAAEkN;IACT,CAAC,CAAC;EACJ;EAEA,IAAIvB,QAAQ,GAAGY,WAAW,CAAC;IACzBjF,eAAe,EAAEA,eAAe;IAChCjH,WAAW,EAAEA,WAAW;IACxBuH,SAAS,EAAEJ,cAAc,CAACI,SAAS;IACnCvB,UAAU,EAAEA,UAAU;IACtBzF,OAAO,EAAEqM,KAAK,CAACrM,OAAO;IACtBwL,aAAa,EAAEA;EACjB,CAAC,CAAC;EAEF,IAAIT,QAAQ,IAAI,IAAI,EAAE;IACpB,OAAO,IAAI;EACb;EAEA,OAAOC,sBAAsB,CAAC;IAC5BlF,SAAS,EAAEA,SAAS;IACpBa,iBAAiB,EAAEA,iBAAiB;IACpClH,WAAW,EAAEA,WAAW;IACxBkK,QAAQ,EAAEA,QAAQ;IAClBxC,IAAI,EAAEP,cAAc,CAACI,SAAS;IAC9Bc,WAAW,EAAElB,cAAc,CAACkB,WAAW;IACvC1I,KAAK,EAAE2L;EACT,CAAC,CAAC;AACJ,CAAE;AAEF,IAAIwB,2BAA2B,GAAI,SAA/BA,2BAA2B,CAAc/K,IAAI,EAAE;EACjD,IAAIwF,SAAS,GAAGxF,IAAI,CAACwF,SAAS;IAC1BwE,aAAa,GAAGhK,IAAI,CAACgK,aAAa;IAClCK,WAAW,GAAGrK,IAAI,CAACqK,WAAW;IAC9B/D,WAAW,GAAGtG,IAAI,CAACsG,WAAW;EAClC,IAAI0E,WAAW,GAAGf,OAAO,CAACzE,SAAS,CAACY,OAAO,CAACiE,WAAW,CAAC,IAAI7E,SAAS,CAACW,SAAS,CAACkE,WAAW,CAAC,CAAC;EAE7F,IAAIN,qBAAqB,CAACM,WAAW,EAAEL,aAAa,CAAC,EAAE;IACrD,OAAOgB,WAAW,GAAG7L,MAAM,GAAGQ,MAAM,CAAC2G,WAAW,CAAC1G,KAAK,CAAC;EACzD;EAEA,OAAOoL,WAAW,GAAG1E,WAAW,CAAC1G,KAAK,GAAGT,MAAM;AACjD,CAAE;AAEF,IAAI8L,aAAa,GAAI,SAAjBA,aAAa,CAAcjL,IAAI,EAAE;EACnC,IAAIgK,aAAa,GAAGhK,IAAI,CAACgK,aAAa;IAClCrF,MAAM,GAAG3E,IAAI,CAAC2E,MAAM;IACpBV,UAAU,GAAGjE,IAAI,CAACiE,UAAU;EAChC,IAAIzF,OAAO,GAAGqG,aAAa,CAACF,MAAM,CAAC;EACnC,CAACnG,OAAO,GAAG5F,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,GAAG4C,SAAS,CAAC,KAAK,CAAC,GAAGA,SAAS,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC;EAC/F,IAAI2O,WAAW,GAAG7L,OAAO,CAACE,WAAW;EACrC,IAAIwM,MAAM,GAAGjH,UAAU,CAACoG,WAAW,CAAC,CAACjI,IAAI,CAAC+I,SAAS,CAACD,MAAM;EAC1D,IAAIE,UAAU,GAAGL,2BAA2B,CAAC;IAC3CvF,SAAS,EAAEb,MAAM,CAACa,SAAS;IAC3BwE,aAAa,EAAEA,aAAa;IAC5BK,WAAW,EAAEA,WAAW;IACxB/D,WAAW,EAAE3B,MAAM,CAAC2B;EACtB,CAAC,CAAC;EACF,OAAOhH,GAAG,CAAC4L,MAAM,EAAEE,UAAU,CAAC;AAChC,CAAE;AAEF,IAAIC,kCAAkC,GAAG,SAASA,kCAAkC,CAAC1J,IAAI,EAAE2J,GAAG,EAAE;EAC9F,OAAOA,GAAG,CAACC,MAAM,CAAC5J,IAAI,CAAC7D,KAAK,CAAC,GAAGwN,GAAG,CAACH,SAAS,CAACxJ,IAAI,CAAC8F,IAAI,CAAC,GAAG,CAAC;AAC9D,CAAC;AAED,IAAI+D,gCAAgC,GAAG,SAASA,gCAAgC,CAAC7J,IAAI,EAAE2J,GAAG,EAAE;EAC1F,OAAOA,GAAG,CAACC,MAAM,CAAC5J,IAAI,CAACI,GAAG,CAAC,GAAGuJ,GAAG,CAACH,SAAS,CAACxJ,IAAI,CAAC8F,IAAI,CAAC,GAAG,CAAC;AAC5D,CAAC;AAED,IAAIgE,2BAA2B,GAAG,SAASA,2BAA2B,CAAC9J,IAAI,EAAErB,MAAM,EAAEoL,QAAQ,EAAE;EAC7F,OAAOpL,MAAM,CAACqB,IAAI,CAAC+F,cAAc,CAAC,GAAGgE,QAAQ,CAACH,MAAM,CAAC5J,IAAI,CAAC+F,cAAc,CAAC,GAAGgE,QAAQ,CAACP,SAAS,CAACxJ,IAAI,CAACiG,aAAa,CAAC,GAAG,CAAC;AACxH,CAAC;AAED,IAAI+D,OAAO,GAAG,SAASA,OAAO,CAAC3L,IAAI,EAAE;EACnC,IAAI2B,IAAI,GAAG3B,IAAI,CAAC2B,IAAI;IAChBiK,cAAc,GAAG5L,IAAI,CAAC4L,cAAc;IACpCF,QAAQ,GAAG1L,IAAI,CAAC0L,QAAQ;EAC5B,OAAO7L,KAAK,CAAC8B,IAAI,CAAC7B,IAAI,EAAE8L,cAAc,CAACtJ,SAAS,CAACX,IAAI,CAACI,GAAG,CAAC,GAAGsJ,kCAAkC,CAAC1J,IAAI,EAAE+J,QAAQ,CAAC,EAAED,2BAA2B,CAAC9J,IAAI,EAAEiK,cAAc,CAACtJ,SAAS,EAAEoJ,QAAQ,CAAC,CAAC;AACzL,CAAC;AACD,IAAIG,QAAQ,GAAG,SAASA,QAAQ,CAACpC,KAAK,EAAE;EACtC,IAAI9H,IAAI,GAAG8H,KAAK,CAAC9H,IAAI;IACjBiK,cAAc,GAAGnC,KAAK,CAACmC,cAAc;IACrCF,QAAQ,GAAGjC,KAAK,CAACiC,QAAQ;EAC7B,OAAO7L,KAAK,CAAC8B,IAAI,CAAC7B,IAAI,EAAE8L,cAAc,CAACtJ,SAAS,CAACX,IAAI,CAAC7D,KAAK,CAAC,GAAG0N,gCAAgC,CAAC7J,IAAI,EAAE+J,QAAQ,CAAC,EAAED,2BAA2B,CAAC9J,IAAI,EAAEiK,cAAc,CAACtJ,SAAS,EAAEoJ,QAAQ,CAAC,CAAC;AACzL,CAAC;AACD,IAAII,WAAW,GAAG,SAASA,WAAW,CAACC,KAAK,EAAE;EAC5C,IAAIpK,IAAI,GAAGoK,KAAK,CAACpK,IAAI;IACjBqK,QAAQ,GAAGD,KAAK,CAACC,QAAQ;IACzBN,QAAQ,GAAGK,KAAK,CAACL,QAAQ;EAC7B,OAAO7L,KAAK,CAAC8B,IAAI,CAAC7B,IAAI,EAAEkM,QAAQ,CAACC,UAAU,CAACtK,IAAI,CAAC7D,KAAK,CAAC,GAAGuN,kCAAkC,CAAC1J,IAAI,EAAE+J,QAAQ,CAAC,EAAED,2BAA2B,CAAC9J,IAAI,EAAEqK,QAAQ,CAACC,UAAU,EAAEP,QAAQ,CAAC,CAAC;AACjL,CAAC;AAED,IAAIQ,cAAc,GAAI,SAAlBA,cAAc,CAAclM,IAAI,EAAE;EACpC,IAAI2E,MAAM,GAAG3E,IAAI,CAAC2E,MAAM;IACpBL,SAAS,GAAGtE,IAAI,CAACsE,SAAS;IAC1BL,UAAU,GAAGjE,IAAI,CAACiE,UAAU;IAC5BtB,SAAS,GAAG3C,IAAI,CAAC2C,SAAS;IAC1BqH,aAAa,GAAGhK,IAAI,CAACgK,aAAa;EACtC,IAAI7E,iBAAiB,GAAGf,4BAA4B,CAACzB,SAAS,CAACoB,UAAU,CAACxF,EAAE,EAAE0F,UAAU,CAAC;EACzF,IAAIkI,aAAa,GAAG7H,SAAS,CAAClC,IAAI;EAClC,IAAIT,IAAI,GAAGgB,SAAS,CAAChB,IAAI;EAEzB,IAAI,CAACwD,iBAAiB,CAAClJ,MAAM,EAAE;IAC7B,OAAO6P,WAAW,CAAC;MACjBnK,IAAI,EAAEA,IAAI;MACVqK,QAAQ,EAAErJ,SAAS,CAACP,IAAI;MACxBsJ,QAAQ,EAAES;IACZ,CAAC,CAAC;EACJ;EAEA,IAAI3G,SAAS,GAAGb,MAAM,CAACa,SAAS;IAC5Bc,WAAW,GAAG3B,MAAM,CAAC2B,WAAW;EACpC,IAAI8F,YAAY,GAAG5G,SAAS,CAACD,GAAG,CAAC,CAAC,CAAC;EAEnC,IAAI6G,YAAY,EAAE;IAChB,IAAI/L,OAAO,GAAG4D,UAAU,CAACmI,YAAY,CAAC;IAEtC,IAAIrC,qBAAqB,CAACqC,YAAY,EAAEpC,aAAa,CAAC,EAAE;MACtD,OAAO6B,QAAQ,CAAC;QACdlK,IAAI,EAAEA,IAAI;QACViK,cAAc,EAAEvL,OAAO,CAAC+B,IAAI;QAC5BsJ,QAAQ,EAAES;MACZ,CAAC,CAAC;IACJ;IAEA,IAAIE,gBAAgB,GAAGvU,MAAM,CAACuI,OAAO,CAAC+B,IAAI,EAAEkE,WAAW,CAAC1G,KAAK,CAAC;IAC9D,OAAOiM,QAAQ,CAAC;MACdlK,IAAI,EAAEA,IAAI;MACViK,cAAc,EAAES,gBAAgB;MAChCX,QAAQ,EAAES;IACZ,CAAC,CAAC;EACJ;EAEA,IAAIxG,IAAI,GAAGR,iBAAiB,CAACA,iBAAiB,CAAClJ,MAAM,GAAG,CAAC,CAAC;EAE1D,IAAI0J,IAAI,CAAC5B,UAAU,CAACxF,EAAE,KAAK+F,SAAS,CAACP,UAAU,CAACxF,EAAE,EAAE;IAClD,OAAO4N,aAAa,CAAChB,SAAS,CAACD,MAAM;EACvC;EAEA,IAAInB,qBAAqB,CAACpE,IAAI,CAAC5B,UAAU,CAACxF,EAAE,EAAEyL,aAAa,CAAC,EAAE;IAC5D,IAAI5H,IAAI,GAAGtK,MAAM,CAAC6N,IAAI,CAACvD,IAAI,EAAEzC,MAAM,CAACqK,aAAa,CAAC1D,WAAW,CAAC1G,KAAK,CAAC,CAAC;IACrE,OAAO+L,OAAO,CAAC;MACbhK,IAAI,EAAEA,IAAI;MACViK,cAAc,EAAExJ,IAAI;MACpBsJ,QAAQ,EAAES;IACZ,CAAC,CAAC;EACJ;EAEA,OAAOR,OAAO,CAAC;IACbhK,IAAI,EAAEA,IAAI;IACViK,cAAc,EAAEjG,IAAI,CAACvD,IAAI;IACzBsJ,QAAQ,EAAES;EACZ,CAAC,CAAC;AACJ,CAAE;AAEF,IAAI7D,yBAAyB,GAAI,SAA7BA,yBAAyB,CAAc3F,SAAS,EAAE/C,KAAK,EAAE;EAC3D,IAAIc,KAAK,GAAGiC,SAAS,CAACjC,KAAK;EAE3B,IAAI,CAACA,KAAK,EAAE;IACV,OAAOd,KAAK;EACd;EAEA,OAAON,GAAG,CAACM,KAAK,EAAEc,KAAK,CAACa,MAAM,CAACC,IAAI,CAACC,YAAY,CAAC;AACnD,CAAE;AAEF,IAAI6K,qCAAqC,GAAG,SAASA,qCAAqC,CAACtM,IAAI,EAAE;EAC/F,IAAI2E,MAAM,GAAG3E,IAAI,CAAC2E,MAAM;IACpBL,SAAS,GAAGtE,IAAI,CAACsE,SAAS;IAC1B3B,SAAS,GAAG3C,IAAI,CAAC2C,SAAS;IAC1BsB,UAAU,GAAGjE,IAAI,CAACiE,UAAU;IAC5B+F,aAAa,GAAGhK,IAAI,CAACgK,aAAa;EACtC,IAAIuC,QAAQ,GAAGjI,SAAS,CAAClC,IAAI,CAAC+I,SAAS,CAACD,MAAM;EAC9C,IAAItG,EAAE,GAAGD,MAAM,CAACC,EAAE;EAElB,IAAI,CAACjC,SAAS,EAAE;IACd,OAAO4J,QAAQ;EACjB;EAEA,IAAI,CAAC3H,EAAE,EAAE;IACP,OAAO2H,QAAQ;EACjB;EAEA,IAAI3H,EAAE,CAAClL,IAAI,KAAK,SAAS,EAAE;IACzB,OAAOwS,cAAc,CAAC;MACpBvH,MAAM,EAAEA,MAAM;MACdL,SAAS,EAAEA,SAAS;MACpBL,UAAU,EAAEA,UAAU;MACtBtB,SAAS,EAAEA,SAAS;MACpBqH,aAAa,EAAEA;IACjB,CAAC,CAAC;EACJ;EAEA,OAAOiB,aAAa,CAAC;IACnBtG,MAAM,EAAEA,MAAM;IACdV,UAAU,EAAEA,UAAU;IACtB+F,aAAa,EAAEA;EACjB,CAAC,CAAC;AACJ,CAAC;AAED,IAAIwC,gCAAgC,GAAI,SAApCA,gCAAgC,CAActQ,IAAI,EAAE;EACtD,IAAIuQ,mBAAmB,GAAGH,qCAAqC,CAACpQ,IAAI,CAAC;EACrE,IAAIyG,SAAS,GAAGzG,IAAI,CAACyG,SAAS;EAC9B,IAAI0J,gBAAgB,GAAG1J,SAAS,GAAG2F,yBAAyB,CAAC3F,SAAS,EAAE8J,mBAAmB,CAAC,GAAGA,mBAAmB;EAClH,OAAOJ,gBAAgB;AACzB,CAAE;AAEF,IAAIK,cAAc,GAAI,SAAlBA,cAAc,CAAcvE,QAAQ,EAAEvF,SAAS,EAAE;EACnD,IAAIpB,IAAI,GAAG/B,QAAQ,CAACmD,SAAS,EAAEuF,QAAQ,CAAC5G,MAAM,CAACwB,OAAO,CAAC;EACvD,IAAItB,YAAY,GAAG9B,MAAM,CAAC6B,IAAI,CAAC;EAC/B,IAAId,KAAK,GAAG9I,OAAO,CAAC;IAClBgJ,GAAG,EAAEgC,SAAS,CAACvD,CAAC;IAChB0B,MAAM,EAAE6B,SAAS,CAACvD,CAAC,GAAG8I,QAAQ,CAACzH,KAAK,CAACQ,MAAM;IAC3CF,IAAI,EAAE4B,SAAS,CAACxD,CAAC;IACjB0B,KAAK,EAAE8B,SAAS,CAACxD,CAAC,GAAG+I,QAAQ,CAACzH,KAAK,CAACO;EACtC,CAAC,CAAC;EACF,IAAI0L,OAAO,GAAG;IACZjM,KAAK,EAAEA,KAAK;IACZa,MAAM,EAAE;MACNwB,OAAO,EAAEoF,QAAQ,CAAC5G,MAAM,CAACwB,OAAO;MAChClC,GAAG,EAAEsH,QAAQ,CAAC5G,MAAM,CAACV,GAAG;MACxBoC,OAAO,EAAEL,SAAS;MAClBpB,IAAI,EAAE;QACJtI,KAAK,EAAEsI,IAAI;QACXC,YAAY,EAAEA;MAChB;IACF;EACF,CAAC;EACD,OAAOkL,OAAO;AAChB,CAAE;AAEF,SAASC,aAAa,CAACC,GAAG,EAAE5I,UAAU,EAAE;EACtC,OAAO4I,GAAG,CAAClS,GAAG,CAAC,UAAU4D,EAAE,EAAE;IAC3B,OAAO0F,UAAU,CAAC1F,EAAE,CAAC;EACvB,CAAC,CAAC;AACJ;AAEA,SAASuO,aAAa,CAACvO,EAAE,EAAE2K,MAAM,EAAE;EACjC,KAAK,IAAI5F,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG4F,MAAM,CAACjN,MAAM,EAAEqH,CAAC,EAAE,EAAE;IACtC,IAAI7B,YAAY,GAAGyH,MAAM,CAAC5F,CAAC,CAAC,CAAC8C,OAAO,CAAC7H,EAAE,CAAC;IAExC,IAAIkD,YAAY,EAAE;MAChB,OAAOA,YAAY;IACrB;EACF;EAEA,OAAO,IAAI;AACb;AAEA,IAAIsL,qBAAqB,GAAI,SAAzBA,qBAAqB,CAAc/M,IAAI,EAAE;EAC3C,IAAI2E,MAAM,GAAG3E,IAAI,CAAC2E,MAAM;IACpBwD,QAAQ,GAAGnI,IAAI,CAACmI,QAAQ;IACxBlK,WAAW,GAAG+B,IAAI,CAAC/B,WAAW;IAC9BgG,UAAU,GAAGjE,IAAI,CAACiE,UAAU;IAC5B+I,eAAe,GAAGhN,IAAI,CAACgN,eAAe;EAC1C,IAAIC,gBAAgB,GAAGP,cAAc,CAACvE,QAAQ,EAAE7I,GAAG,CAAC6I,QAAQ,CAAC5G,MAAM,CAAC0B,OAAO,EAAE+J,eAAe,CAAC,CAAC;EAC9F,IAAIE,iBAAiB,GAAGjP,WAAW,CAACyC,KAAK,GAAGgC,eAAe,CAACzE,WAAW,EAAEqB,GAAG,CAACrB,WAAW,CAACyC,KAAK,CAACa,MAAM,CAAC0B,OAAO,EAAE+J,eAAe,CAAC,CAAC,GAAG/O,WAAW;EAC9I,IAAI0H,IAAI,GAAGhB,MAAM,CAACa,SAAS;EAC3B,IAAI2H,kBAAkB,GAAGnE,qBAAqB,CAAC;IAC7CC,aAAa,EAAE2D,aAAa,CAACjH,IAAI,CAACJ,GAAG,EAAEtB,UAAU,CAAC;IAClDhG,WAAW,EAAEA,WAAW;IACxBqI,WAAW,EAAE3B,MAAM,CAAC2B,WAAW;IAC/B6B,QAAQ,EAAE8E,gBAAgB,CAACvM,KAAK;IAChCiF,IAAI,EAAEA,IAAI;IACViD,kBAAkB,EAAE;EACtB,CAAC,CAAC;EACF,IAAIwE,mBAAmB,GAAGpE,qBAAqB,CAAC;IAC9CC,aAAa,EAAE2D,aAAa,CAACjH,IAAI,CAACJ,GAAG,EAAEtB,UAAU,CAAC;IAClDhG,WAAW,EAAEiP,iBAAiB;IAC9B5G,WAAW,EAAE3B,MAAM,CAAC2B,WAAW;IAC/B6B,QAAQ,EAAEA,QAAQ,CAACzH,KAAK;IACxBiF,IAAI,EAAEA,IAAI;IACViD,kBAAkB,EAAE;EACtB,CAAC,CAAC;EACF,IAAIzC,SAAS,GAAG,CAAC,CAAC;EAClB,IAAIC,OAAO,GAAG,CAAC,CAAC;EAChB,IAAI8C,MAAM,GAAG,CAACvD,IAAI,EAAEwH,kBAAkB,EAAEC,mBAAmB,CAAC;EAC5DzH,IAAI,CAACJ,GAAG,CAACnK,OAAO,CAAC,UAAUmD,EAAE,EAAE;IAC7B,IAAIkD,YAAY,GAAGqL,aAAa,CAACvO,EAAE,EAAE2K,MAAM,CAAC;IAE5C,IAAIzH,YAAY,EAAE;MAChB2E,OAAO,CAAC7H,EAAE,CAAC,GAAGkD,YAAY;MAC1B;IACF;IAEA0E,SAAS,CAAC5H,EAAE,CAAC,GAAG,IAAI;EACtB,CAAC,CAAC;EAEF,IAAI8O,SAAS,GAAGjW,QAAQ,CAAC,CAAC,CAAC,EAAEuN,MAAM,EAAE;IACnCa,SAAS,EAAE;MACTD,GAAG,EAAEI,IAAI,CAACJ,GAAG;MACbY,SAAS,EAAEA,SAAS;MACpBC,OAAO,EAAEA;IACX;EACF,CAAC,CAAC;EAEF,OAAOiH,SAAS;AAClB,CAAE;AAEF,IAAIC,wBAAwB,GAAI,SAA5BA,wBAAwB,CAAcnF,QAAQ,EAAEvI,KAAK,EAAE;EACzD,OAAON,GAAG,CAAC6I,QAAQ,CAAC5G,MAAM,CAACC,IAAI,CAACC,YAAY,EAAE7B,KAAK,CAAC;AACtD,CAAE;AAEF,IAAI2N,gCAAgC,GAAI,SAApCA,gCAAgC,CAAcvN,IAAI,EAAE;EACtD,IAAIwN,mBAAmB,GAAGxN,IAAI,CAACwN,mBAAmB;IAC9ClJ,SAAS,GAAGtE,IAAI,CAACsE,SAAS;IAC1B6D,QAAQ,GAAGnI,IAAI,CAACmI,QAAQ;EAC5B,IAAIsF,uBAAuB,GAAGH,wBAAwB,CAACnF,QAAQ,EAAEqF,mBAAmB,CAAC;EACrF,IAAI1V,MAAM,GAAG2H,QAAQ,CAACgO,uBAAuB,EAAEnJ,SAAS,CAAClC,IAAI,CAAC+I,SAAS,CAACD,MAAM,CAAC;EAC/E,OAAO5L,GAAG,CAACgF,SAAS,CAACoJ,MAAM,CAACvC,SAAS,CAACD,MAAM,EAAEpT,MAAM,CAAC;AACvD,CAAE;AAEF,IAAI6V,6BAA6B,GAAI,SAAjCA,6BAA6B,CAAc3N,IAAI,EAAE;EACnD,IAAIsE,SAAS,GAAGtE,IAAI,CAACsE,SAAS;IAC1BrG,WAAW,GAAG+B,IAAI,CAAC/B,WAAW;IAC9B2P,sBAAsB,GAAG5N,IAAI,CAAC4N,sBAAsB;IACpDzF,QAAQ,GAAGnI,IAAI,CAACmI,QAAQ;IACxBG,yBAAyB,GAAGtI,IAAI,CAACsI,yBAAyB;IAC1DuF,mBAAmB,GAAG7N,IAAI,CAAC8N,cAAc;IACzCA,cAAc,GAAGD,mBAAmB,KAAK,KAAK,CAAC,GAAG,KAAK,GAAGA,mBAAmB;EACjF,IAAIE,YAAY,GAAGtO,QAAQ,CAACmO,sBAAsB,EAAEtJ,SAAS,CAAClC,IAAI,CAAC+I,SAAS,CAACD,MAAM,CAAC;EACpF,IAAI8C,OAAO,GAAG7M,gBAAgB,CAACmD,SAAS,CAAClC,IAAI,CAAC+I,SAAS,EAAE4C,YAAY,CAAC;EACtE,IAAI7R,IAAI,GAAG;IACToE,MAAM,EAAE0N,OAAO;IACf/P,WAAW,EAAEA,WAAW;IACxBqK,yBAAyB,EAAEA,yBAAyB;IACpDH,QAAQ,EAAEA;EACZ,CAAC;EACD,OAAO2F,cAAc,GAAGpF,sBAAsB,CAACxM,IAAI,CAAC,GAAGuM,gBAAgB,CAACvM,IAAI,CAAC;AAC/E,CAAE;AAEF,IAAI+R,eAAe,GAAI,SAAnBA,eAAe,CAAcjO,IAAI,EAAE;EACrC,IAAIkF,eAAe,GAAGlF,IAAI,CAACkF,eAAe;IACtCZ,SAAS,GAAGtE,IAAI,CAACsE,SAAS;IAC1BrG,WAAW,GAAG+B,IAAI,CAAC/B,WAAW;IAC9BgG,UAAU,GAAGjE,IAAI,CAACiE,UAAU;IAC5BmB,cAAc,GAAGpF,IAAI,CAACoF,cAAc;IACpC+C,QAAQ,GAAGnI,IAAI,CAACmI,QAAQ;IACxB+F,2BAA2B,GAAGlO,IAAI,CAACkO,2BAA2B;IAC9DC,uBAAuB,GAAGnO,IAAI,CAACmO,uBAAuB;IACtDnE,aAAa,GAAGhK,IAAI,CAACgK,aAAa;EAEtC,IAAI,CAAC/L,WAAW,CAACmQ,SAAS,EAAE;IAC1B,OAAO,IAAI;EACb;EAEA,IAAIjJ,iBAAiB,GAAGf,4BAA4B,CAACnG,WAAW,CAAC8F,UAAU,CAACxF,EAAE,EAAE0F,UAAU,CAAC;EAC3F,IAAI/F,YAAY,GAAG8H,QAAQ,CAAC1B,SAAS,EAAErG,WAAW,CAAC;EACnD,IAAI0G,MAAM,GAAGM,iBAAiB,CAAC;IAC7BC,eAAe,EAAEA,eAAe;IAChCZ,SAAS,EAAEA,SAAS;IACpBrG,WAAW,EAAEA,WAAW;IACxBkH,iBAAiB,EAAEA,iBAAiB;IACpCC,cAAc,EAAEA;EAClB,CAAC,CAAC,IAAIwF,eAAe,CAAC;IACpB1F,eAAe,EAAEA,eAAe;IAChChH,YAAY,EAAEA,YAAY;IAC1BoG,SAAS,EAAEA,SAAS;IACpBL,UAAU,EAAEA,UAAU;IACtBhG,WAAW,EAAEA,WAAW;IACxBkH,iBAAiB,EAAEA,iBAAiB;IACpCC,cAAc,EAAEA,cAAc;IAC9B+C,QAAQ,EAAEA,QAAQ;IAClB6B,aAAa,EAAEA;EACjB,CAAC,CAAC;EAEF,IAAI,CAACrF,MAAM,EAAE;IACX,OAAO,IAAI;EACb;EAEA,IAAI6I,mBAAmB,GAAGhB,gCAAgC,CAAC;IACzD7H,MAAM,EAAEA,MAAM;IACdL,SAAS,EAAEA,SAAS;IACpB3B,SAAS,EAAE1E,WAAW;IACtBgG,UAAU,EAAEA,UAAU;IACtB+F,aAAa,EAAEA;EACjB,CAAC,CAAC;EACF,IAAIqE,sBAAsB,GAAGV,6BAA6B,CAAC;IACzDrJ,SAAS,EAAEA,SAAS;IACpBrG,WAAW,EAAEA,WAAW;IACxB2P,sBAAsB,EAAEJ,mBAAmB;IAC3CrF,QAAQ,EAAEA,QAAQ,CAACzH,KAAK;IACxB4H,yBAAyB,EAAE,KAAK;IAChCwF,cAAc,EAAE;EAClB,CAAC,CAAC;EAEF,IAAIO,sBAAsB,EAAE;IAC1B,IAAIC,eAAe,GAAGf,gCAAgC,CAAC;MACrDC,mBAAmB,EAAEA,mBAAmB;MACxClJ,SAAS,EAAEA,SAAS;MACpB6D,QAAQ,EAAEA;IACZ,CAAC,CAAC;IACF,OAAO;MACLmG,eAAe,EAAEA,eAAe;MAChC3J,MAAM,EAAEA,MAAM;MACd4J,iBAAiB,EAAE;IACrB,CAAC;EACH;EAEA,IAAItO,QAAQ,GAAGR,QAAQ,CAAC+N,mBAAmB,EAAEU,2BAA2B,CAAC;EACzE,IAAIM,QAAQ,GAAGzB,qBAAqB,CAAC;IACnCpI,MAAM,EAAEA,MAAM;IACdwD,QAAQ,EAAEA,QAAQ;IAClBlK,WAAW,EAAEA,WAAW;IACxBgG,UAAU,EAAEA,UAAU;IACtB+I,eAAe,EAAE/M;EACnB,CAAC,CAAC;EACF,OAAO;IACLqO,eAAe,EAAEH,uBAAuB;IACxCxJ,MAAM,EAAE6J,QAAQ;IAChBD,iBAAiB,EAAEtO;EACrB,CAAC;AACH,CAAE;AAEF,IAAIwO,cAAc,GAAG,SAASA,cAAc,CAAC9L,SAAS,EAAE;EACtD,IAAI+L,IAAI,GAAG/L,SAAS,CAAChC,OAAO,CAAC8B,MAAM;EACnC,CAACiM,IAAI,GAAG9V,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,GAAG4C,SAAS,CAAC,KAAK,EAAE,wCAAwC,CAAC,GAAGA,SAAS,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC;EACtI,OAAOgT,IAAI;AACb,CAAC;AAED,IAAIC,yBAAyB,GAAI,SAA7BA,yBAAyB,CAAc3O,IAAI,EAAE;EAC/C,IAAIkF,eAAe,GAAGlF,IAAI,CAACkF,eAAe;IACtCsI,mBAAmB,GAAGxN,IAAI,CAACwN,mBAAmB;IAC9CzP,MAAM,GAAGiC,IAAI,CAACjC,MAAM;IACpB6F,UAAU,GAAG5D,IAAI,CAAC4D,UAAU;IAC5BuE,QAAQ,GAAGnI,IAAI,CAACmI,QAAQ;EAC5B,IAAI1F,MAAM,GAAG1E,MAAM,CAAC4C,OAAO,CAAC8B,MAAM;EAElC,IAAI,CAACA,MAAM,EAAE;IACX,OAAO,IAAI;EACb;EAEA,IAAId,IAAI,GAAG5D,MAAM,CAAC4D,IAAI;EACtB,IAAIiN,sBAAsB,GAAGrI,QAAQ,CAAC9D,MAAM,CAACd,IAAI,CAAC7D,KAAK,CAAC,EAAE2E,MAAM,CAACd,IAAI,CAACI,GAAG,CAAC,CAAC;EAC3E,IAAI8M,UAAU,GAAG3K,eAAe,CAACN,UAAU,CAAC,CAACS,MAAM,CAAC,UAAU1B,SAAS,EAAE;IACvE,OAAOA,SAAS,KAAK5E,MAAM;EAC7B,CAAC,CAAC,CAACsG,MAAM,CAAC,UAAU1B,SAAS,EAAE;IAC7B,OAAOA,SAAS,CAACyL,SAAS;EAC5B,CAAC,CAAC,CAAC/J,MAAM,CAAC,UAAU1B,SAAS,EAAE;IAC7B,OAAOsH,OAAO,CAACtH,SAAS,CAAChC,OAAO,CAAC8B,MAAM,CAAC;EAC1C,CAAC,CAAC,CAAC4B,MAAM,CAAC,UAAU1B,SAAS,EAAE;IAC7B,OAAO+D,8BAA8B,CAACyB,QAAQ,CAACzH,KAAK,CAAC,CAAC+N,cAAc,CAAC9L,SAAS,CAAC,CAAC;EAClF,CAAC,CAAC,CAAC0B,MAAM,CAAC,UAAU1B,SAAS,EAAE;IAC7B,IAAImM,cAAc,GAAGL,cAAc,CAAC9L,SAAS,CAAC;IAE9C,IAAIuC,eAAe,EAAE;MACnB,OAAOzC,MAAM,CAACd,IAAI,CAACgG,YAAY,CAAC,GAAGmH,cAAc,CAACnN,IAAI,CAACgG,YAAY,CAAC;IACtE;IAEA,OAAOmH,cAAc,CAACnN,IAAI,CAAC+F,cAAc,CAAC,GAAGjF,MAAM,CAACd,IAAI,CAAC+F,cAAc,CAAC;EAC1E,CAAC,CAAC,CAACrD,MAAM,CAAC,UAAU1B,SAAS,EAAE;IAC7B,IAAImM,cAAc,GAAGL,cAAc,CAAC9L,SAAS,CAAC;IAC9C,IAAIoM,2BAA2B,GAAGxI,QAAQ,CAACuI,cAAc,CAACnN,IAAI,CAAC7D,KAAK,CAAC,EAAEgR,cAAc,CAACnN,IAAI,CAACI,GAAG,CAAC,CAAC;IAChG,OAAO6M,sBAAsB,CAACE,cAAc,CAACnN,IAAI,CAAC7D,KAAK,CAAC,CAAC,IAAI8Q,sBAAsB,CAACE,cAAc,CAACnN,IAAI,CAACI,GAAG,CAAC,CAAC,IAAIgN,2BAA2B,CAACtM,MAAM,CAACd,IAAI,CAAC7D,KAAK,CAAC,CAAC,IAAIiR,2BAA2B,CAACtM,MAAM,CAACd,IAAI,CAACI,GAAG,CAAC,CAAC;EACnN,CAAC,CAAC,CAACwC,IAAI,CAAC,UAAUC,CAAC,EAAEC,CAAC,EAAE;IACtB,IAAIuK,KAAK,GAAGP,cAAc,CAACjK,CAAC,CAAC,CAAC7C,IAAI,CAAC+F,cAAc,CAAC;IAClD,IAAIuH,MAAM,GAAGR,cAAc,CAAChK,CAAC,CAAC,CAAC9C,IAAI,CAAC+F,cAAc,CAAC;IAEnD,IAAIxC,eAAe,EAAE;MACnB,OAAO8J,KAAK,GAAGC,MAAM;IACvB;IAEA,OAAOA,MAAM,GAAGD,KAAK;EACvB,CAAC,CAAC,CAAC3K,MAAM,CAAC,UAAU1B,SAAS,EAAE/E,KAAK,EAAEsR,KAAK,EAAE;IAC3C,OAAOT,cAAc,CAAC9L,SAAS,CAAC,CAAChB,IAAI,CAAC+F,cAAc,CAAC,KAAK+G,cAAc,CAACS,KAAK,CAAC,CAAC,CAAC,CAAC,CAACvN,IAAI,CAAC+F,cAAc,CAAC;EACzG,CAAC,CAAC;EAEF,IAAI,CAACmH,UAAU,CAAC5S,MAAM,EAAE;IACtB,OAAO,IAAI;EACb;EAEA,IAAI4S,UAAU,CAAC5S,MAAM,KAAK,CAAC,EAAE;IAC3B,OAAO4S,UAAU,CAAC,CAAC,CAAC;EACtB;EAEA,IAAIM,QAAQ,GAAGN,UAAU,CAACxK,MAAM,CAAC,UAAU1B,SAAS,EAAE;IACpD,IAAIyM,iBAAiB,GAAG7I,QAAQ,CAACkI,cAAc,CAAC9L,SAAS,CAAC,CAAChB,IAAI,CAAC7D,KAAK,CAAC,EAAE2Q,cAAc,CAAC9L,SAAS,CAAC,CAAChB,IAAI,CAACI,GAAG,CAAC,CAAC;IAC5G,OAAOqN,iBAAiB,CAAC5B,mBAAmB,CAAC7L,IAAI,CAAC7B,IAAI,CAAC,CAAC;EAC1D,CAAC,CAAC;EAEF,IAAIqP,QAAQ,CAAClT,MAAM,KAAK,CAAC,EAAE;IACzB,OAAOkT,QAAQ,CAAC,CAAC,CAAC;EACpB;EAEA,IAAIA,QAAQ,CAAClT,MAAM,GAAG,CAAC,EAAE;IACvB,OAAOkT,QAAQ,CAAC5K,IAAI,CAAC,UAAUC,CAAC,EAAEC,CAAC,EAAE;MACnC,OAAOgK,cAAc,CAACjK,CAAC,CAAC,CAAC7C,IAAI,CAAC7D,KAAK,CAAC,GAAG2Q,cAAc,CAAChK,CAAC,CAAC,CAAC9C,IAAI,CAAC7D,KAAK,CAAC;IACtE,CAAC,CAAC,CAAC,CAAC,CAAC;EACP;EAEA,OAAO+Q,UAAU,CAACtK,IAAI,CAAC,UAAUC,CAAC,EAAEC,CAAC,EAAE;IACrC,IAAIuK,KAAK,GAAG3O,OAAO,CAACmN,mBAAmB,EAAEnM,UAAU,CAACoN,cAAc,CAACjK,CAAC,CAAC,CAAC,CAAC;IACvE,IAAIyK,MAAM,GAAG5O,OAAO,CAACmN,mBAAmB,EAAEnM,UAAU,CAACoN,cAAc,CAAChK,CAAC,CAAC,CAAC,CAAC;IAExE,IAAIuK,KAAK,KAAKC,MAAM,EAAE;MACpB,OAAOD,KAAK,GAAGC,MAAM;IACvB;IAEA,OAAOR,cAAc,CAACjK,CAAC,CAAC,CAAC7C,IAAI,CAAC7D,KAAK,CAAC,GAAG2Q,cAAc,CAAChK,CAAC,CAAC,CAAC9C,IAAI,CAAC7D,KAAK,CAAC;EACtE,CAAC,CAAC,CAAC,CAAC,CAAC;AACP,CAAE;AAEF,IAAIuR,6BAA6B,GAAG,SAASA,6BAA6B,CAAC/K,SAAS,EAAE0F,aAAa,EAAE;EACnG,IAAIuC,QAAQ,GAAGjI,SAAS,CAAClC,IAAI,CAAC+I,SAAS,CAACD,MAAM;EAC9C,OAAOnB,qBAAqB,CAACzF,SAAS,CAACP,UAAU,CAACxF,EAAE,EAAEyL,aAAa,CAAC,GAAGvK,QAAQ,CAAC8M,QAAQ,EAAEvC,aAAa,CAAC1D,WAAW,CAAC1G,KAAK,CAAC,GAAG2M,QAAQ;AACvI,CAAC;AACD,IAAI+C,uBAAuB,GAAG,SAASA,uBAAuB,CAAChL,SAAS,EAAE0F,aAAa,EAAE;EACvF,IAAIuC,QAAQ,GAAGjI,SAAS,CAAClC,IAAI,CAAC+I,SAAS;EACvC,OAAOpB,qBAAqB,CAACzF,SAAS,CAACP,UAAU,CAACxF,EAAE,EAAEyL,aAAa,CAAC,GAAG7I,gBAAgB,CAACoL,QAAQ,EAAE5M,MAAM,CAACqK,aAAa,CAAC1D,WAAW,CAAC1G,KAAK,CAAC,CAAC,GAAG2M,QAAQ;AACvJ,CAAC;AAED,IAAIgD,mBAAmB,GAAI,SAAvBA,mBAAmB,CAAcvP,IAAI,EAAE;EACzC,IAAIwN,mBAAmB,GAAGxN,IAAI,CAACwN,mBAAmB;IAC9CrF,QAAQ,GAAGnI,IAAI,CAACmI,QAAQ;IACxBlK,WAAW,GAAG+B,IAAI,CAAC/B,WAAW;IAC9BkH,iBAAiB,GAAGnF,IAAI,CAACmF,iBAAiB;IAC1C6E,aAAa,GAAGhK,IAAI,CAACgK,aAAa;EACtC,IAAIwF,MAAM,GAAGrK,iBAAiB,CAACd,MAAM,CAAC,UAAUC,SAAS,EAAE;IACzD,OAAOmE,gBAAgB,CAAC;MACtBnI,MAAM,EAAEgP,uBAAuB,CAAChL,SAAS,EAAE0F,aAAa,CAAC;MACzD/L,WAAW,EAAEA,WAAW;MACxBkK,QAAQ,EAAEA,QAAQ,CAACzH,KAAK;MACxB4H,yBAAyB,EAAE;IAC7B,CAAC,CAAC;EACJ,CAAC,CAAC,CAAC/D,IAAI,CAAC,UAAUC,CAAC,EAAEC,CAAC,EAAE;IACtB,IAAIgL,WAAW,GAAGxP,QAAQ,CAACuN,mBAAmB,EAAElF,yBAAyB,CAACrK,WAAW,EAAEoR,6BAA6B,CAAC7K,CAAC,EAAEwF,aAAa,CAAC,CAAC,CAAC;IACxI,IAAI0F,WAAW,GAAGzP,QAAQ,CAACuN,mBAAmB,EAAElF,yBAAyB,CAACrK,WAAW,EAAEoR,6BAA6B,CAAC5K,CAAC,EAAEuF,aAAa,CAAC,CAAC,CAAC;IAExI,IAAIyF,WAAW,GAAGC,WAAW,EAAE;MAC7B,OAAO,CAAC,CAAC;IACX;IAEA,IAAIA,WAAW,GAAGD,WAAW,EAAE;MAC7B,OAAO,CAAC;IACV;IAEA,OAAOjL,CAAC,CAACT,UAAU,CAACnG,KAAK,GAAG6G,CAAC,CAACV,UAAU,CAACnG,KAAK;EAChD,CAAC,CAAC;EACF,OAAO4R,MAAM,CAAC,CAAC,CAAC,IAAI,IAAI;AAC1B,CAAE;AAEF,IAAIG,cAAc,GAAGxX,UAAU,CAAC,SAASwX,cAAc,CAAChO,IAAI,EAAEyJ,UAAU,EAAE;EACxE,IAAI3J,YAAY,GAAG2J,UAAU,CAACzJ,IAAI,CAAC7B,IAAI,CAAC;EACxC,OAAO;IACL5G,KAAK,EAAEuI,YAAY;IACnB7B,KAAK,EAAEC,KAAK,CAAC8B,IAAI,CAAC7B,IAAI,EAAE2B,YAAY;EACtC,CAAC;AACH,CAAC,CAAC;AAEF,IAAImO,+BAA+B,GAAG,SAASA,+BAA+B,CAACjN,SAAS,EAAEkN,eAAe,EAAE5L,UAAU,EAAE;EACrH,IAAItC,IAAI,GAAGgB,SAAS,CAAChB,IAAI;EAEzB,IAAIgB,SAAS,CAACoB,UAAU,CAAC+L,IAAI,KAAK,SAAS,EAAE;IAC3C,OAAOjQ,KAAK,CAAC8B,IAAI,CAAC7B,IAAI,EAAE+P,eAAe,CAAClO,IAAI,CAAC7B,IAAI,CAAC,CAAC;EACrD;EAEA,IAAIiQ,cAAc,GAAGpN,SAAS,CAAChC,OAAO,CAACyB,IAAI,CAAC6J,UAAU,CAACtK,IAAI,CAAC8F,IAAI,CAAC;EACjE,IAAIuI,eAAe,GAAG5L,4BAA4B,CAACzB,SAAS,CAACoB,UAAU,CAACxF,EAAE,EAAE0F,UAAU,CAAC;EACvF,IAAIgM,SAAS,GAAGD,eAAe,CAACnM,MAAM,CAAC,UAAUqM,GAAG,EAAEC,SAAS,EAAE;IAC/D,OAAOD,GAAG,GAAGC,SAAS,CAACzC,MAAM,CAACpL,SAAS,CAACX,IAAI,CAAC8F,IAAI,CAAC;EACpD,CAAC,EAAE,CAAC,CAAC;EACL,IAAI2I,aAAa,GAAGH,SAAS,GAAGJ,eAAe,CAAClO,IAAI,CAAC7B,IAAI,CAAC;EAC1D,IAAIuQ,aAAa,GAAGD,aAAa,GAAGL,cAAc;EAElD,IAAIM,aAAa,IAAI,CAAC,EAAE;IACtB,OAAO,IAAI;EACb;EAEA,OAAOxQ,KAAK,CAAC8B,IAAI,CAAC7B,IAAI,EAAEuQ,aAAa,CAAC;AACxC,CAAC;AAED,IAAIC,aAAa,GAAG,SAASA,aAAa,CAAC5P,KAAK,EAAEG,GAAG,EAAE;EACrD,OAAOzJ,QAAQ,CAAC,CAAC,CAAC,EAAEsJ,KAAK,EAAE;IACzBa,MAAM,EAAEnK,QAAQ,CAAC,CAAC,CAAC,EAAEsJ,KAAK,CAACa,MAAM,EAAE;MACjCV,GAAG,EAAEA;IACP,CAAC;EACH,CAAC,CAAC;AACJ,CAAC;AAED,IAAI0P,cAAc,GAAG,SAASA,cAAc,CAAC5N,SAAS,EAAE2B,SAAS,EAAEL,UAAU,EAAE;EAC7E,IAAIvD,KAAK,GAAGiC,SAAS,CAACjC,KAAK;EAC3B,CAAC,CAACsF,QAAQ,CAAC1B,SAAS,EAAE3B,SAAS,CAAC,GAAG/J,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,GAAG4C,SAAS,CAAC,KAAK,EAAE,+CAA+C,CAAC,GAAGA,SAAS,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC;EACxK,CAAC,CAACiH,SAAS,CAAChC,OAAO,CAACiB,eAAe,GAAGhJ,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,GAAG4C,SAAS,CAAC,KAAK,EAAE,kEAAkE,CAAC,GAAGA,SAAS,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC;EAC9L,IAAImU,eAAe,GAAGF,cAAc,CAAChN,SAAS,CAAChB,IAAI,EAAE2C,SAAS,CAAC8G,UAAU,CAAC,CAACxL,KAAK;EAChF,IAAI4Q,cAAc,GAAGZ,+BAA+B,CAACjN,SAAS,EAAEkN,eAAe,EAAE5L,UAAU,CAAC;EAC5F,IAAIwM,KAAK,GAAG;IACVZ,eAAe,EAAEA,eAAe;IAChChO,WAAW,EAAE2O,cAAc;IAC3BE,iBAAiB,EAAE/N,SAAS,CAACjC,KAAK,GAAGiC,SAAS,CAACjC,KAAK,CAACa,MAAM,CAACV,GAAG,GAAG;EACpE,CAAC;EAED,IAAI,CAACH,KAAK,EAAE;IACV,IAAIiQ,QAAQ,GAAGxO,UAAU,CAAC;MACxBC,IAAI,EAAEO,SAAS,CAAChC,OAAO,CAACyB,IAAI;MAC5BR,eAAe,EAAE6O,KAAK;MACtB9O,IAAI,EAAEgB,SAAS,CAAChB,IAAI;MACpBjB,KAAK,EAAEiC,SAAS,CAACjC;IACnB,CAAC,CAAC;IAEF,OAAOtJ,QAAQ,CAAC,CAAC,CAAC,EAAEuL,SAAS,EAAE;MAC7BhC,OAAO,EAAEgQ;IACX,CAAC,CAAC;EACJ;EAEA,IAAIC,SAAS,GAAGJ,cAAc,GAAGlR,GAAG,CAACoB,KAAK,CAACa,MAAM,CAACV,GAAG,EAAE2P,cAAc,CAAC,GAAG9P,KAAK,CAACa,MAAM,CAACV,GAAG;EACzF,IAAIgQ,QAAQ,GAAGP,aAAa,CAAC5P,KAAK,EAAEkQ,SAAS,CAAC;EAC9C,IAAIjQ,OAAO,GAAGwB,UAAU,CAAC;IACvBC,IAAI,EAAEO,SAAS,CAAChC,OAAO,CAACyB,IAAI;IAC5BR,eAAe,EAAE6O,KAAK;IACtB9O,IAAI,EAAEgB,SAAS,CAAChB,IAAI;IACpBjB,KAAK,EAAEmQ;EACT,CAAC,CAAC;EACF,OAAOzZ,QAAQ,CAAC,CAAC,CAAC,EAAEuL,SAAS,EAAE;IAC7BhC,OAAO,EAAEA,OAAO;IAChBD,KAAK,EAAEmQ;EACT,CAAC,CAAC;AACJ,CAAC;AACD,IAAIC,iBAAiB,GAAG,SAASA,iBAAiB,CAACnO,SAAS,EAAE;EAC5D,IAAI8N,KAAK,GAAG9N,SAAS,CAAChC,OAAO,CAACiB,eAAe;EAC7C,CAAC6O,KAAK,GAAG7X,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,GAAG4C,SAAS,CAAC,KAAK,EAAE,4DAA4D,CAAC,GAAGA,SAAS,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC;EAC3J,IAAIgF,KAAK,GAAGiC,SAAS,CAACjC,KAAK;EAE3B,IAAI,CAACA,KAAK,EAAE;IACV,IAAIqQ,SAAS,GAAG5O,UAAU,CAAC;MACzBC,IAAI,EAAEO,SAAS,CAAChC,OAAO,CAACyB,IAAI;MAC5BT,IAAI,EAAEgB,SAAS,CAAChB,IAAI;MACpBjB,KAAK,EAAE,IAAI;MACXkB,eAAe,EAAE;IACnB,CAAC,CAAC;IAEF,OAAOxK,QAAQ,CAAC,CAAC,CAAC,EAAEuL,SAAS,EAAE;MAC7BhC,OAAO,EAAEoQ;IACX,CAAC,CAAC;EACJ;EAEA,IAAIC,YAAY,GAAGP,KAAK,CAACC,iBAAiB;EAC1C,CAACM,YAAY,GAAGpY,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,GAAG4C,SAAS,CAAC,KAAK,EAAE,sFAAsF,CAAC,GAAGA,SAAS,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC;EAC5L,IAAImV,QAAQ,GAAGP,aAAa,CAAC5P,KAAK,EAAEsQ,YAAY,CAAC;EACjD,IAAIrQ,OAAO,GAAGwB,UAAU,CAAC;IACvBC,IAAI,EAAEO,SAAS,CAAChC,OAAO,CAACyB,IAAI;IAC5BT,IAAI,EAAEgB,SAAS,CAAChB,IAAI;IACpBjB,KAAK,EAAEmQ,QAAQ;IACfjP,eAAe,EAAE;EACnB,CAAC,CAAC;EACF,OAAOxK,QAAQ,CAAC,CAAC,CAAC,EAAEuL,SAAS,EAAE;IAC7BhC,OAAO,EAAEA,OAAO;IAChBD,KAAK,EAAEmQ;EACT,CAAC,CAAC;AACJ,CAAC;AAED,IAAII,kBAAkB,GAAI,SAAtBA,kBAAkB,CAAcjR,IAAI,EAAE;EACxC,IAAIkO,2BAA2B,GAAGlO,IAAI,CAACkO,2BAA2B;IAC9DtC,cAAc,GAAG5L,IAAI,CAAC4L,cAAc;IACpCzG,iBAAiB,GAAGnF,IAAI,CAACmF,iBAAiB;IAC1Cb,SAAS,GAAGtE,IAAI,CAACsE,SAAS;IAC1BL,UAAU,GAAGjE,IAAI,CAACiE,UAAU;IAC5BhG,WAAW,GAAG+B,IAAI,CAAC/B,WAAW;IAC9BkK,QAAQ,GAAGnI,IAAI,CAACmI,QAAQ;IACxB6B,aAAa,GAAGhK,IAAI,CAACgK,aAAa;EAEtC,IAAI,CAAC4B,cAAc,EAAE;IACnB,IAAIzG,iBAAiB,CAAClJ,MAAM,EAAE;MAC5B,OAAO,IAAI;IACb;IAEA,IAAIiV,QAAQ,GAAG;MACb1L,SAAS,EAAEU,WAAW;MACtBI,WAAW,EAAEL,aAAa;MAC1BrB,EAAE,EAAE;QACFlL,IAAI,EAAE,SAAS;QACfuE,WAAW,EAAE;UACXE,WAAW,EAAEF,WAAW,CAAC8F,UAAU,CAACxF,EAAE;UACtCX,KAAK,EAAE;QACT;MACF;IACF,CAAC;IACD,IAAIuT,2BAA2B,GAAG3E,gCAAgC,CAAC;MACjE7H,MAAM,EAAEuM,QAAQ;MAChB5M,SAAS,EAAEA,SAAS;MACpB3B,SAAS,EAAE1E,WAAW;MACtBgG,UAAU,EAAEA,UAAU;MACtB+F,aAAa,EAAEA;IACjB,CAAC,CAAC;IACF,IAAIpI,eAAe,GAAGoE,QAAQ,CAAC1B,SAAS,EAAErG,WAAW,CAAC,GAAGA,WAAW,GAAGsS,cAAc,CAACtS,WAAW,EAAEqG,SAAS,EAAEL,UAAU,CAAC;IACzH,IAAIoK,sBAAsB,GAAGV,6BAA6B,CAAC;MACzDrJ,SAAS,EAAEA,SAAS;MACpBrG,WAAW,EAAE2D,eAAe;MAC5BgM,sBAAsB,EAAEuD,2BAA2B;MACnDhJ,QAAQ,EAAEA,QAAQ,CAACzH,KAAK;MACxB4H,yBAAyB,EAAE,KAAK;MAChCwF,cAAc,EAAE;IAClB,CAAC,CAAC;IACF,OAAOO,sBAAsB,GAAG6C,QAAQ,GAAG,IAAI;EACjD;EAEA,IAAIE,mBAAmB,GAAGnH,OAAO,CAACiE,2BAA2B,CAACjQ,WAAW,CAAC0D,IAAI,CAAC7B,IAAI,CAAC,IAAI8L,cAAc,CAACxJ,IAAI,CAAC+I,SAAS,CAACD,MAAM,CAACjN,WAAW,CAAC0D,IAAI,CAAC7B,IAAI,CAAC,CAAC;EAEpJ,IAAIgG,aAAa,GAAG,YAAY;IAC9B,IAAIuL,UAAU,GAAGzF,cAAc,CAAC7H,UAAU,CAACnG,KAAK;IAEhD,IAAIgO,cAAc,CAAC7H,UAAU,CAACxF,EAAE,KAAK+F,SAAS,CAACP,UAAU,CAACxF,EAAE,EAAE;MAC5D,OAAO8S,UAAU;IACnB;IAEA,IAAID,mBAAmB,EAAE;MACvB,OAAOC,UAAU;IACnB;IAEA,OAAOA,UAAU,GAAG,CAAC;EACvB,CAAC,EAAE;EAEH,IAAI/K,WAAW,GAAGqJ,cAAc,CAAC1R,WAAW,CAAC0D,IAAI,EAAE2C,SAAS,CAAC8G,UAAU,CAAC;EACxE,OAAO5B,sBAAsB,CAAC;IAC5BlF,SAAS,EAAEA,SAAS;IACpBa,iBAAiB,EAAEA,iBAAiB;IACpClH,WAAW,EAAEA,WAAW;IACxBkK,QAAQ,EAAEA,QAAQ;IAClB7B,WAAW,EAAEA,WAAW;IACxBX,IAAI,EAAEO,WAAW;IACjBtI,KAAK,EAAEkI;EACT,CAAC,CAAC;AACJ,CAAE;AAEF,IAAIwL,aAAa,GAAI,SAAjBA,aAAa,CAActR,IAAI,EAAE;EACnC,IAAIkF,eAAe,GAAGlF,IAAI,CAACkF,eAAe;IACtCgJ,2BAA2B,GAAGlO,IAAI,CAACkO,2BAA2B;IAC9D5J,SAAS,GAAGtE,IAAI,CAACsE,SAAS;IAC1BiN,MAAM,GAAGvR,IAAI,CAACuR,MAAM;IACpBtN,UAAU,GAAGjE,IAAI,CAACiE,UAAU;IAC5BL,UAAU,GAAG5D,IAAI,CAAC4D,UAAU;IAC5BuE,QAAQ,GAAGnI,IAAI,CAACmI,QAAQ;IACxB6B,aAAa,GAAGhK,IAAI,CAACgK,aAAa;EACtC,IAAI/L,WAAW,GAAG0Q,yBAAyB,CAAC;IAC1CzJ,eAAe,EAAEA,eAAe;IAChCsI,mBAAmB,EAAEU,2BAA2B;IAChDnQ,MAAM,EAAEwT,MAAM;IACd3N,UAAU,EAAEA,UAAU;IACtBuE,QAAQ,EAAEA;EACZ,CAAC,CAAC;EAEF,IAAI,CAAClK,WAAW,EAAE;IAChB,OAAO,IAAI;EACb;EAEA,IAAIkH,iBAAiB,GAAGf,4BAA4B,CAACnG,WAAW,CAAC8F,UAAU,CAACxF,EAAE,EAAE0F,UAAU,CAAC;EAC3F,IAAI2H,cAAc,GAAG2D,mBAAmB,CAAC;IACvC/B,mBAAmB,EAAEU,2BAA2B;IAChD/F,QAAQ,EAAEA,QAAQ;IAClBlK,WAAW,EAAEA,WAAW;IACxBkH,iBAAiB,EAAEA,iBAAiB;IACpC6E,aAAa,EAAEA;EACjB,CAAC,CAAC;EACF,IAAIrF,MAAM,GAAGsM,kBAAkB,CAAC;IAC9B/C,2BAA2B,EAAEA,2BAA2B;IACxDjQ,WAAW,EAAEA,WAAW;IACxBqG,SAAS,EAAEA,SAAS;IACpBL,UAAU,EAAEA,UAAU;IACtB2H,cAAc,EAAEA,cAAc;IAC9BzG,iBAAiB,EAAEA,iBAAiB;IACpCgD,QAAQ,EAAEA,QAAQ;IAClB6B,aAAa,EAAEA;EACjB,CAAC,CAAC;EAEF,IAAI,CAACrF,MAAM,EAAE;IACX,OAAO,IAAI;EACb;EAEA,IAAI6I,mBAAmB,GAAGhB,gCAAgC,CAAC;IACzD7H,MAAM,EAAEA,MAAM;IACdL,SAAS,EAAEA,SAAS;IACpB3B,SAAS,EAAE1E,WAAW;IACtBgG,UAAU,EAAEA,UAAU;IACtB+F,aAAa,EAAEA;EACjB,CAAC,CAAC;EACF,IAAIsE,eAAe,GAAGf,gCAAgC,CAAC;IACrDC,mBAAmB,EAAEA,mBAAmB;IACxClJ,SAAS,EAAEA,SAAS;IACpB6D,QAAQ,EAAEA;EACZ,CAAC,CAAC;EACF,OAAO;IACLmG,eAAe,EAAEA,eAAe;IAChC3J,MAAM,EAAEA,MAAM;IACd4J,iBAAiB,EAAE;EACrB,CAAC;AACH,CAAE;AAEF,IAAIiD,iBAAiB,GAAI,SAArBA,iBAAiB,CAAc7M,MAAM,EAAE;EACzC,IAAIC,EAAE,GAAGD,MAAM,CAACC,EAAE;EAElB,IAAI,CAACA,EAAE,EAAE;IACP,OAAO,IAAI;EACb;EAEA,IAAIA,EAAE,CAAClL,IAAI,KAAK,SAAS,EAAE;IACzB,OAAOkL,EAAE,CAAC3G,WAAW,CAACE,WAAW;EACnC;EAEA,OAAOyG,EAAE,CAACpG,OAAO,CAACL,WAAW;AAC/B,CAAE;AAEF,IAAIsT,gBAAgB,GAAG,SAASA,gBAAgB,CAAC9M,MAAM,EAAEf,UAAU,EAAE;EACnE,IAAIrF,EAAE,GAAGiT,iBAAiB,CAAC7M,MAAM,CAAC;EAClC,OAAOpG,EAAE,GAAGqF,UAAU,CAACrF,EAAE,CAAC,GAAG,IAAI;AACnC,CAAC;AAED,IAAImT,eAAe,GAAI,SAAnBA,eAAe,CAAc1R,IAAI,EAAE;EACrC,IAAI2R,KAAK,GAAG3R,IAAI,CAAC2R,KAAK;IAClBjY,IAAI,GAAGsG,IAAI,CAACtG,IAAI;EACpB,IAAIkY,cAAc,GAAGH,gBAAgB,CAACE,KAAK,CAAChN,MAAM,EAAEgN,KAAK,CAACE,UAAU,CAACjO,UAAU,CAAC;EAChF,IAAIkO,yBAAyB,GAAG7H,OAAO,CAAC2H,cAAc,CAAC;EACvD,IAAIG,IAAI,GAAGJ,KAAK,CAACE,UAAU,CAACjO,UAAU,CAAC+N,KAAK,CAACK,QAAQ,CAACrP,SAAS,CAACpE,EAAE,CAAC;EACnE,IAAIgT,MAAM,GAAGK,cAAc,IAAIG,IAAI;EACnC,IAAIxK,SAAS,GAAGgK,MAAM,CAAC5P,IAAI,CAAC4F,SAAS;EACrC,IAAI0K,kBAAkB,GAAG1K,SAAS,KAAK,UAAU,KAAK7N,IAAI,KAAK,SAAS,IAAIA,IAAI,KAAK,WAAW,CAAC,IAAI6N,SAAS,KAAK,YAAY,KAAK7N,IAAI,KAAK,WAAW,IAAIA,IAAI,KAAK,YAAY,CAAC;EAElL,IAAIuY,kBAAkB,IAAI,CAACH,yBAAyB,EAAE;IACpD,OAAO,IAAI;EACb;EAEA,IAAI5M,eAAe,GAAGxL,IAAI,KAAK,WAAW,IAAIA,IAAI,KAAK,YAAY;EACnE,IAAI4K,SAAS,GAAGqN,KAAK,CAACE,UAAU,CAAC5N,UAAU,CAAC0N,KAAK,CAACK,QAAQ,CAAC1N,SAAS,CAAC/F,EAAE,CAAC;EACxE,IAAI2P,2BAA2B,GAAGyD,KAAK,CAAC1O,OAAO,CAACb,IAAI,CAAC8P,eAAe;EACpE,IAAIC,iBAAiB,GAAGR,KAAK,CAACE,UAAU;IACpC5N,UAAU,GAAGkO,iBAAiB,CAAClO,UAAU;IACzCL,UAAU,GAAGuO,iBAAiB,CAACvO,UAAU;EAC7C,OAAOqO,kBAAkB,GAAGhE,eAAe,CAAC;IAC1C/I,eAAe,EAAEA,eAAe;IAChCgJ,2BAA2B,EAAEA,2BAA2B;IACxD5J,SAAS,EAAEA,SAAS;IACpBrG,WAAW,EAAEsT,MAAM;IACnBtN,UAAU,EAAEA,UAAU;IACtBkE,QAAQ,EAAEwJ,KAAK,CAACxJ,QAAQ;IACxBgG,uBAAuB,EAAEwD,KAAK,CAAC1O,OAAO,CAACyK,MAAM,CAAC0E,SAAS;IACvDhN,cAAc,EAAEuM,KAAK,CAAChN,MAAM;IAC5BqF,aAAa,EAAE2H,KAAK,CAAC3H;EACvB,CAAC,CAAC,GAAGsH,aAAa,CAAC;IACjBpM,eAAe,EAAEA,eAAe;IAChCgJ,2BAA2B,EAAEA,2BAA2B;IACxD5J,SAAS,EAAEA,SAAS;IACpBiN,MAAM,EAAEA,MAAM;IACdtN,UAAU,EAAEA,UAAU;IACtBL,UAAU,EAAEA,UAAU;IACtBuE,QAAQ,EAAEwJ,KAAK,CAACxJ,QAAQ;IACxB6B,aAAa,EAAE2H,KAAK,CAAC3H;EACvB,CAAC,CAAC;AACJ,CAAE;AAEF,SAASqI,iBAAiB,CAACV,KAAK,EAAE;EAChC,OAAOA,KAAK,CAACW,KAAK,KAAK,UAAU,IAAIX,KAAK,CAACW,KAAK,KAAK,YAAY;AACnE;AAEA,SAASC,iBAAiB,CAAC7R,KAAK,EAAE;EAChC,IAAIiG,gBAAgB,GAAGJ,QAAQ,CAAC7F,KAAK,CAACE,GAAG,EAAEF,KAAK,CAACK,MAAM,CAAC;EACxD,IAAI6F,kBAAkB,GAAGL,QAAQ,CAAC7F,KAAK,CAACM,IAAI,EAAEN,KAAK,CAACI,KAAK,CAAC;EAC1D,OAAO,SAAS0R,GAAG,CAAC5S,KAAK,EAAE;IACzB,OAAO+G,gBAAgB,CAAC/G,KAAK,CAACP,CAAC,CAAC,IAAIuH,kBAAkB,CAAChH,KAAK,CAACR,CAAC,CAAC;EACjE,CAAC;AACH;AAEA,SAASqT,aAAa,CAACzD,KAAK,EAAEC,MAAM,EAAE;EACpC,OAAOD,KAAK,CAAChO,IAAI,GAAGiO,MAAM,CAACnO,KAAK,IAAIkO,KAAK,CAAClO,KAAK,GAAGmO,MAAM,CAACjO,IAAI,IAAIgO,KAAK,CAACpO,GAAG,GAAGqO,MAAM,CAAClO,MAAM,IAAIiO,KAAK,CAACjO,MAAM,GAAGkO,MAAM,CAACrO,GAAG;AACzH;AAEA,SAAS8R,eAAe,CAAC1S,IAAI,EAAE;EAC7B,IAAI2S,aAAa,GAAG3S,IAAI,CAAC2S,aAAa;IAClCrO,SAAS,GAAGtE,IAAI,CAACsE,SAAS;IAC1BuK,UAAU,GAAG7O,IAAI,CAAC6O,UAAU;EAChC,IAAI+D,WAAW,GAAGtO,SAAS,CAAClC,IAAI,CAAC+I,SAAS,CAACD,MAAM;EACjD,IAAIsE,MAAM,GAAGX,UAAU,CAAClU,GAAG,CAAC,UAAUkY,SAAS,EAAE;IAC/C,IAAIlR,IAAI,GAAGkR,SAAS,CAAClR,IAAI;IACzB,IAAIrB,MAAM,GAAGT,KAAK,CAACgT,SAAS,CAAClR,IAAI,CAAC7B,IAAI,EAAE6S,aAAa,CAACzH,MAAM,CAACvJ,IAAI,CAAC7B,IAAI,CAAC,EAAE+S,SAAS,CAACzQ,IAAI,CAAC+I,SAAS,CAACD,MAAM,CAACvJ,IAAI,CAAC6F,aAAa,CAAC,CAAC;IAC7H,OAAO;MACLjJ,EAAE,EAAEsU,SAAS,CAAC9O,UAAU,CAACxF,EAAE;MAC3B0B,QAAQ,EAAEA,QAAQ,CAAC2S,WAAW,EAAEtS,MAAM;IACxC,CAAC;EACH,CAAC,CAAC,CAACiE,IAAI,CAAC,UAAUC,CAAC,EAAEC,CAAC,EAAE;IACtB,OAAOA,CAAC,CAACxE,QAAQ,GAAGuE,CAAC,CAACvE,QAAQ;EAChC,CAAC,CAAC;EACF,OAAOuP,MAAM,CAAC,CAAC,CAAC,GAAGA,MAAM,CAAC,CAAC,CAAC,CAACjR,EAAE,GAAG,IAAI;AACxC;AAEA,SAASuU,kBAAkB,CAACrJ,KAAK,EAAE;EACjC,IAAIkJ,aAAa,GAAGlJ,KAAK,CAACkJ,aAAa;IACnCrO,SAAS,GAAGmF,KAAK,CAACnF,SAAS;IAC3BV,UAAU,GAAG6F,KAAK,CAAC7F,UAAU;EACjC,IAAIiL,UAAU,GAAG3K,eAAe,CAACN,UAAU,CAAC,CAACS,MAAM,CAAC,UAAUW,IAAI,EAAE;IAClE,IAAI,CAACA,IAAI,CAACoJ,SAAS,EAAE;MACnB,OAAO,KAAK;IACd;IAEA,IAAI3L,MAAM,GAAGuC,IAAI,CAACrE,OAAO,CAAC8B,MAAM;IAEhC,IAAI,CAACA,MAAM,EAAE;MACX,OAAO,KAAK;IACd;IAEA,IAAI,CAACgQ,aAAa,CAACE,aAAa,EAAElQ,MAAM,CAAC,EAAE;MACzC,OAAO,KAAK;IACd;IAEA,IAAI8P,iBAAiB,CAAC9P,MAAM,CAAC,CAACkQ,aAAa,CAACzH,MAAM,CAAC,EAAE;MACnD,OAAO,IAAI;IACb;IAEA,IAAIvJ,IAAI,GAAGqD,IAAI,CAACrD,IAAI;IACpB,IAAIoR,WAAW,GAAGtQ,MAAM,CAACyI,MAAM,CAACvJ,IAAI,CAAC6F,aAAa,CAAC;IACnD,IAAIE,cAAc,GAAGiL,aAAa,CAAChR,IAAI,CAAC+F,cAAc,CAAC;IACvD,IAAIC,YAAY,GAAGgL,aAAa,CAAChR,IAAI,CAACgG,YAAY,CAAC;IACnD,IAAId,WAAW,GAAGN,QAAQ,CAAC9D,MAAM,CAACd,IAAI,CAAC+F,cAAc,CAAC,EAAEjF,MAAM,CAACd,IAAI,CAACgG,YAAY,CAAC,CAAC;IAClF,IAAIqL,gBAAgB,GAAGnM,WAAW,CAACa,cAAc,CAAC;IAClD,IAAIuL,cAAc,GAAGpM,WAAW,CAACc,YAAY,CAAC;IAE9C,IAAI,CAACqL,gBAAgB,IAAI,CAACC,cAAc,EAAE;MACxC,OAAO,IAAI;IACb;IAEA,IAAID,gBAAgB,EAAE;MACpB,OAAOtL,cAAc,GAAGqL,WAAW;IACrC;IAEA,OAAOpL,YAAY,GAAGoL,WAAW;EACnC,CAAC,CAAC;EAEF,IAAI,CAAClE,UAAU,CAAC5S,MAAM,EAAE;IACtB,OAAO,IAAI;EACb;EAEA,IAAI4S,UAAU,CAAC5S,MAAM,KAAK,CAAC,EAAE;IAC3B,OAAO4S,UAAU,CAAC,CAAC,CAAC,CAAC9K,UAAU,CAACxF,EAAE;EACpC;EAEA,OAAOmU,eAAe,CAAC;IACrBC,aAAa,EAAEA,aAAa;IAC5BrO,SAAS,EAAEA,SAAS;IACpBuK,UAAU,EAAEA;EACd,CAAC,CAAC;AACJ;AAEA,IAAIqE,oBAAoB,GAAG,SAASA,oBAAoB,CAACxE,IAAI,EAAE9O,KAAK,EAAE;EACpE,OAAOhI,OAAO,CAACuJ,gBAAgB,CAACuN,IAAI,EAAE9O,KAAK,CAAC,CAAC;AAC/C,CAAC;AAED,IAAIwN,mBAAmB,GAAI,SAAvBA,mBAAmB,CAAczK,SAAS,EAAEwQ,IAAI,EAAE;EACpD,IAAIzS,KAAK,GAAGiC,SAAS,CAACjC,KAAK;EAE3B,IAAI,CAACA,KAAK,EAAE;IACV,OAAOyS,IAAI;EACb;EAEA,OAAOD,oBAAoB,CAACC,IAAI,EAAEzS,KAAK,CAACa,MAAM,CAACC,IAAI,CAACtI,KAAK,CAAC;AAC5D,CAAE;AAEF,SAASka,cAAc,CAACpT,IAAI,EAAE;EAC5B,IAAIwF,SAAS,GAAGxF,IAAI,CAACwF,SAAS;IAC1BjH,EAAE,GAAGyB,IAAI,CAACzB,EAAE;EAChB,OAAO0L,OAAO,CAACzE,SAAS,CAACY,OAAO,CAAC7H,EAAE,CAAC,IAAIiH,SAAS,CAACW,SAAS,CAAC5H,EAAE,CAAC,CAAC;AAClE;AAEA,SAAS8U,OAAO,CAACrT,IAAI,EAAE;EACrB,IAAIsE,SAAS,GAAGtE,IAAI,CAACsE,SAAS;IAC1BjE,OAAO,GAAGL,IAAI,CAACK,OAAO;IACtB5B,UAAU,GAAGuB,IAAI,CAACvB,UAAU;EAEhC,IAAI,CAAC4B,OAAO,EAAE;IACZ,OAAO,IAAI;EACb;EAEA,IAAI,CAAC5B,UAAU,EAAE;IACf,OAAO4B,OAAO,CAAC0D,UAAU,CAACnG,KAAK;EACjC;EAEA,IAAIyC,OAAO,CAAC0D,UAAU,CAACnG,KAAK,GAAG0G,SAAS,CAACP,UAAU,CAACnG,KAAK,EAAE;IACzD,OAAOyC,OAAO,CAAC0D,UAAU,CAACnG,KAAK,GAAG,CAAC;EACrC;EAEA,OAAOyC,OAAO,CAAC0D,UAAU,CAACnG,KAAK;AACjC;AAEA,IAAI0V,gBAAgB,GAAI,SAApBA,gBAAgB,CAAc7J,KAAK,EAAE;EACvC,IAAI8J,UAAU,GAAG9J,KAAK,CAAC+J,gCAAgC;IACnDlP,SAAS,GAAGmF,KAAK,CAACnF,SAAS;IAC3BrG,WAAW,GAAGwL,KAAK,CAACxL,WAAW;IAC/BkH,iBAAiB,GAAGsE,KAAK,CAACtE,iBAAiB;IAC3CQ,IAAI,GAAG8D,KAAK,CAAC9D,IAAI;IACjBwC,QAAQ,GAAGsB,KAAK,CAACtB,QAAQ;IACzB6B,aAAa,GAAGP,KAAK,CAACO,aAAa;EACvC,IAAIrI,IAAI,GAAG1D,WAAW,CAAC0D,IAAI;EAC3B,IAAI2E,WAAW,GAAGqJ,cAAc,CAAC1R,WAAW,CAAC0D,IAAI,EAAE2C,SAAS,CAAC8G,UAAU,CAAC;EACxE,IAAI3J,YAAY,GAAG6E,WAAW,CAACpN,KAAK;EACpC,IAAIua,WAAW,GAAGF,UAAU,CAAC5R,IAAI,CAAC7D,KAAK,CAAC;EACxC,IAAI4V,SAAS,GAAGH,UAAU,CAAC5R,IAAI,CAACI,GAAG,CAAC;EACpC,IAAI4H,eAAe,GAAG7E,uBAAuB,CAACR,SAAS,EAAEa,iBAAiB,CAAC;EAC3E,IAAI9E,OAAO,GAAGkD,IAAI,CAACoG,eAAe,EAAE,UAAUgK,KAAK,EAAE;IACnD,IAAIpV,EAAE,GAAGoV,KAAK,CAAC5P,UAAU,CAACxF,EAAE;IAC5B,IAAIwU,WAAW,GAAGY,KAAK,CAACvR,IAAI,CAAC+I,SAAS,CAACD,MAAM,CAACvJ,IAAI,CAAC7B,IAAI,CAAC;IACxD,IAAI8T,uBAAuB,GAAG7J,qBAAqB,CAACxL,EAAE,EAAEyL,aAAa,CAAC;IACtE,IAAIgB,WAAW,GAAGoI,cAAc,CAAC;MAC/B5N,SAAS,EAAEG,IAAI;MACfpH,EAAE,EAAEA;IACN,CAAC,CAAC;IAEF,IAAIqV,uBAAuB,EAAE;MAC3B,IAAI5I,WAAW,EAAE;QACf,OAAO0I,SAAS,IAAIX,WAAW;MACjC;MAEA,OAAOU,WAAW,GAAGV,WAAW,GAAGtR,YAAY;IACjD;IAEA,IAAIuJ,WAAW,EAAE;MACf,OAAO0I,SAAS,IAAIX,WAAW,GAAGtR,YAAY;IAChD;IAEA,OAAOgS,WAAW,GAAGV,WAAW;EAClC,CAAC,CAAC;EACF,IAAIxJ,QAAQ,GAAG8J,OAAO,CAAC;IACrB/O,SAAS,EAAEA,SAAS;IACpBjE,OAAO,EAAEA,OAAO;IAChB5B,UAAU,EAAEuH,QAAQ,CAAC1B,SAAS,EAAErG,WAAW;EAC7C,CAAC,CAAC;EACF,OAAOuL,sBAAsB,CAAC;IAC5BlF,SAAS,EAAEA,SAAS;IACpBa,iBAAiB,EAAEA,iBAAiB;IACpClH,WAAW,EAAEA,WAAW;IACxBkK,QAAQ,EAAEA,QAAQ;IAClBxC,IAAI,EAAEA,IAAI;IACVW,WAAW,EAAEA,WAAW;IACxB1I,KAAK,EAAE2L;EACT,CAAC,CAAC;AACJ,CAAE;AAEF,IAAIsK,uBAAuB,GAAG,CAAC;AAC/B,IAAIC,gBAAgB,GAAI,SAApBA,gBAAgB,CAAc9T,IAAI,EAAE;EACtC,IAAIsE,SAAS,GAAGtE,IAAI,CAACsE,SAAS;IAC1BiP,UAAU,GAAGvT,IAAI,CAACwT,gCAAgC;IAClDpO,cAAc,GAAGpF,IAAI,CAACoF,cAAc;IACpCnH,WAAW,GAAG+B,IAAI,CAAC/B,WAAW;IAC9BkH,iBAAiB,GAAGnF,IAAI,CAACmF,iBAAiB;IAC1C6E,aAAa,GAAGhK,IAAI,CAACgK,aAAa;EAEtC,IAAI,CAAC/L,WAAW,CAACoH,gBAAgB,EAAE;IACjC,OAAO,IAAI;EACb;EAEA,IAAI1D,IAAI,GAAG1D,WAAW,CAAC0D,IAAI;EAC3B,IAAI2E,WAAW,GAAGqJ,cAAc,CAAC1R,WAAW,CAAC0D,IAAI,EAAE2C,SAAS,CAAC8G,UAAU,CAAC;EACxE,IAAI3J,YAAY,GAAG6E,WAAW,CAACpN,KAAK;EACpC,IAAIua,WAAW,GAAGF,UAAU,CAAC5R,IAAI,CAAC7D,KAAK,CAAC;EACxC,IAAI4V,SAAS,GAAGH,UAAU,CAAC5R,IAAI,CAACI,GAAG,CAAC;EACpC,IAAI4H,eAAe,GAAG7E,uBAAuB,CAACR,SAAS,EAAEa,iBAAiB,CAAC;EAC3E,IAAIkF,WAAW,GAAG9G,IAAI,CAACoG,eAAe,EAAE,UAAUgK,KAAK,EAAE;IACvD,IAAIpV,EAAE,GAAGoV,KAAK,CAAC5P,UAAU,CAACxF,EAAE;IAC5B,IAAIwV,SAAS,GAAGJ,KAAK,CAACvR,IAAI,CAAC+I,SAAS;IACpC,IAAI6I,SAAS,GAAGD,SAAS,CAACpS,IAAI,CAAC8F,IAAI,CAAC;IACpC,IAAIwM,SAAS,GAAGD,SAAS,GAAGH,uBAAuB;IACnD,IAAID,uBAAuB,GAAG7J,qBAAqB,CAACxL,EAAE,EAAEyL,aAAa,CAAC;IACtE,IAAIgB,WAAW,GAAGoI,cAAc,CAAC;MAC/B5N,SAAS,EAAEJ,cAAc,CAACI,SAAS;MACnCjH,EAAE,EAAEA;IACN,CAAC,CAAC;IAEF,IAAIqV,uBAAuB,EAAE;MAC3B,IAAI5I,WAAW,EAAE;QACf,OAAO0I,SAAS,GAAGK,SAAS,CAACpS,IAAI,CAAC7D,KAAK,CAAC,GAAGmW,SAAS,IAAIP,SAAS,GAAGK,SAAS,CAACpS,IAAI,CAACI,GAAG,CAAC,GAAGkS,SAAS;MACrG;MAEA,OAAOR,WAAW,GAAGM,SAAS,CAACpS,IAAI,CAAC7D,KAAK,CAAC,GAAG2D,YAAY,GAAGwS,SAAS,IAAIR,WAAW,GAAGM,SAAS,CAACpS,IAAI,CAACI,GAAG,CAAC,GAAGN,YAAY,GAAGwS,SAAS;IACvI;IAEA,IAAIjJ,WAAW,EAAE;MACf,OAAO0I,SAAS,GAAGK,SAAS,CAACpS,IAAI,CAAC7D,KAAK,CAAC,GAAG2D,YAAY,GAAGwS,SAAS,IAAIP,SAAS,GAAGK,SAAS,CAACpS,IAAI,CAACI,GAAG,CAAC,GAAGN,YAAY,GAAGwS,SAAS;IACnI;IAEA,OAAOR,WAAW,GAAGM,SAAS,CAACpS,IAAI,CAAC7D,KAAK,CAAC,GAAGmW,SAAS,IAAIR,WAAW,GAAGM,SAAS,CAACpS,IAAI,CAACI,GAAG,CAAC,GAAGkS,SAAS;EACzG,CAAC,CAAC;EAEF,IAAI,CAAC5J,WAAW,EAAE;IAChB,OAAO,IAAI;EACb;EAEA,IAAI1F,MAAM,GAAG;IACX2B,WAAW,EAAEA,WAAW;IACxBd,SAAS,EAAEJ,cAAc,CAACI,SAAS;IACnCZ,EAAE,EAAE;MACFlL,IAAI,EAAE,SAAS;MACf8E,OAAO,EAAE;QACPE,WAAW,EAAE2L,WAAW,CAACtG,UAAU,CAACxF,EAAE;QACtCJ,WAAW,EAAEF,WAAW,CAAC8F,UAAU,CAACxF;MACtC;IACF;EACF,CAAC;EACD,OAAOoG,MAAM;AACf,CAAE;AAEF,IAAIuP,aAAa,GAAI,SAAjBA,aAAa,CAAclU,IAAI,EAAE;EACnC,IAAImU,UAAU,GAAGnU,IAAI,CAACmU,UAAU;IAC5B7P,SAAS,GAAGtE,IAAI,CAACsE,SAAS;IAC1BL,UAAU,GAAGjE,IAAI,CAACiE,UAAU;IAC5BL,UAAU,GAAG5D,IAAI,CAAC4D,UAAU;IAC5BwB,cAAc,GAAGpF,IAAI,CAACoF,cAAc;IACpC+C,QAAQ,GAAGnI,IAAI,CAACmI,QAAQ;IACxB6B,aAAa,GAAGhK,IAAI,CAACgK,aAAa;EACtC,IAAI2I,aAAa,GAAGO,oBAAoB,CAAC5O,SAAS,CAAClC,IAAI,CAAC+I,SAAS,EAAEgJ,UAAU,CAAC;EAC9E,IAAIC,aAAa,GAAGtB,kBAAkB,CAAC;IACrCH,aAAa,EAAEA,aAAa;IAC5BrO,SAAS,EAAEA,SAAS;IACpBV,UAAU,EAAEA;EACd,CAAC,CAAC;EAEF,IAAI,CAACwQ,aAAa,EAAE;IAClB,OAAO/N,QAAQ;EACjB;EAEA,IAAIpI,WAAW,GAAG2F,UAAU,CAACwQ,aAAa,CAAC;EAC3C,IAAIjP,iBAAiB,GAAGf,4BAA4B,CAACnG,WAAW,CAAC8F,UAAU,CAACxF,EAAE,EAAE0F,UAAU,CAAC;EAC3F,IAAIuP,gCAAgC,GAAGpG,mBAAmB,CAACnP,WAAW,EAAE0U,aAAa,CAAC;EACtF,OAAOmB,gBAAgB,CAAC;IACtBN,gCAAgC,EAAEA,gCAAgC;IAClElP,SAAS,EAAEA,SAAS;IACpBc,cAAc,EAAEA,cAAc;IAC9BnH,WAAW,EAAEA,WAAW;IACxBkH,iBAAiB,EAAEA,iBAAiB;IACpC6E,aAAa,EAAEA;EACjB,CAAC,CAAC,IAAIsJ,gBAAgB,CAAC;IACrBE,gCAAgC,EAAEA,gCAAgC;IAClElP,SAAS,EAAEA,SAAS;IACpBrG,WAAW,EAAEA,WAAW;IACxBkH,iBAAiB,EAAEA,iBAAiB;IACpCQ,IAAI,EAAEP,cAAc,CAACI,SAAS;IAC9B2C,QAAQ,EAAEA,QAAQ;IAClB6B,aAAa,EAAEA;EACjB,CAAC,CAAC;AACJ,CAAE;AAEF,IAAIqK,iBAAiB,GAAI,SAArBA,iBAAiB,CAAczQ,UAAU,EAAE+I,OAAO,EAAE;EACtD,IAAI7K,SAAS;EAEb,OAAO1K,QAAQ,CAAC,CAAC,CAAC,EAAEwM,UAAU,GAAG9B,SAAS,GAAG,CAAC,CAAC,EAAEA,SAAS,CAAC6K,OAAO,CAAC5I,UAAU,CAACxF,EAAE,CAAC,GAAGoO,OAAO,EAAE7K,SAAS,EAAE;AAC1G,CAAE;AAEF,IAAIwS,sBAAsB,GAAG,SAASA,sBAAsB,CAACtU,IAAI,EAAE;EACjE,IAAIoF,cAAc,GAAGpF,IAAI,CAACoF,cAAc;IACpCT,MAAM,GAAG3E,IAAI,CAAC2E,MAAM;IACpBf,UAAU,GAAG5D,IAAI,CAAC4D,UAAU;EAChC,IAAI+B,IAAI,GAAG6L,iBAAiB,CAACpM,cAAc,CAAC;EAC5C,IAAImP,GAAG,GAAG/C,iBAAiB,CAAC7M,MAAM,CAAC;EAEnC,IAAI,CAACgB,IAAI,EAAE;IACT,OAAO/B,UAAU;EACnB;EAEA,IAAI+B,IAAI,KAAK4O,GAAG,EAAE;IAChB,OAAO3Q,UAAU;EACnB;EAEA,IAAI4Q,aAAa,GAAG5Q,UAAU,CAAC+B,IAAI,CAAC;EAEpC,IAAI,CAAC6O,aAAa,CAAC7T,OAAO,CAACiB,eAAe,EAAE;IAC1C,OAAOgC,UAAU;EACnB;EAEA,IAAI+I,OAAO,GAAGmE,iBAAiB,CAAC0D,aAAa,CAAC;EAC9C,OAAOH,iBAAiB,CAACzQ,UAAU,EAAE+I,OAAO,CAAC;AAC/C,CAAC;AAED,IAAI8H,qBAAqB,GAAI,SAAzBA,qBAAqB,CAAchL,KAAK,EAAE;EAC5C,IAAInF,SAAS,GAAGmF,KAAK,CAACnF,SAAS;IAC3BL,UAAU,GAAGwF,KAAK,CAACxF,UAAU;IAC7BL,UAAU,GAAG6F,KAAK,CAAC7F,UAAU;IAC7BwB,cAAc,GAAGqE,KAAK,CAACrE,cAAc;IACrCT,MAAM,GAAG8E,KAAK,CAAC9E,MAAM;EACzB,IAAI+P,OAAO,GAAGJ,sBAAsB,CAAC;IACnClP,cAAc,EAAEA,cAAc;IAC9BT,MAAM,EAAEA,MAAM;IACdf,UAAU,EAAEA;EACd,CAAC,CAAC;EACF,IAAI2N,MAAM,GAAGC,iBAAiB,CAAC7M,MAAM,CAAC;EAEtC,IAAI,CAAC4M,MAAM,EAAE;IACX,OAAOmD,OAAO;EAChB;EAEA,IAAI/R,SAAS,GAAGiB,UAAU,CAAC2N,MAAM,CAAC;EAElC,IAAIvL,QAAQ,CAAC1B,SAAS,EAAE3B,SAAS,CAAC,EAAE;IAClC,OAAO+R,OAAO;EAChB;EAEA,IAAI/R,SAAS,CAAChC,OAAO,CAACiB,eAAe,EAAE;IACrC,OAAO8S,OAAO;EAChB;EAEA,IAAIC,OAAO,GAAGpE,cAAc,CAAC5N,SAAS,EAAE2B,SAAS,EAAEL,UAAU,CAAC;EAC9D,OAAOoQ,iBAAiB,CAACK,OAAO,EAAEC,OAAO,CAAC;AAC5C,CAAE;AAEF,IAAI/V,MAAM,GAAI,SAAVA,MAAM,CAAcoB,IAAI,EAAE;EAC5B,IAAI2R,KAAK,GAAG3R,IAAI,CAAC2R,KAAK;IAClBiD,qBAAqB,GAAG5U,IAAI,CAACsO,eAAe;IAC5CuG,gBAAgB,GAAG7U,IAAI,CAAC6R,UAAU;IAClCiD,cAAc,GAAG9U,IAAI,CAACmI,QAAQ;IAC9B4M,YAAY,GAAG/U,IAAI,CAAC2E,MAAM;IAC1B4J,iBAAiB,GAAGvO,IAAI,CAACuO,iBAAiB;EAC9C,IAAIpG,QAAQ,GAAG2M,cAAc,IAAInD,KAAK,CAACxJ,QAAQ;EAC/C,IAAI0J,UAAU,GAAGgD,gBAAgB,IAAIlD,KAAK,CAACE,UAAU;EACrD,IAAIvD,eAAe,GAAGsG,qBAAqB,IAAIjD,KAAK,CAAC1O,OAAO,CAACyK,MAAM,CAAC0E,SAAS;EAC7E,IAAIta,MAAM,GAAG2H,QAAQ,CAAC6O,eAAe,EAAEqD,KAAK,CAAC5O,OAAO,CAAC2K,MAAM,CAAC0E,SAAS,CAAC;EACtE,IAAI1E,MAAM,GAAG;IACX5V,MAAM,EAAEA,MAAM;IACdsa,SAAS,EAAE9D,eAAe;IAC1B4D,eAAe,EAAE5S,GAAG,CAACqS,KAAK,CAAC5O,OAAO,CAAC2K,MAAM,CAACwE,eAAe,EAAEpa,MAAM;EACnE,CAAC;EACD,IAAIsK,IAAI,GAAG;IACTgQ,SAAS,EAAE9S,GAAG,CAACoO,MAAM,CAAC0E,SAAS,EAAEjK,QAAQ,CAAC5G,MAAM,CAAC0B,OAAO,CAAC;IACzDiP,eAAe,EAAE5S,GAAG,CAACoO,MAAM,CAACwE,eAAe,EAAE/J,QAAQ,CAAC5G,MAAM,CAAC0B,OAAO,CAAC;IACrEnL,MAAM,EAAEwH,GAAG,CAACoO,MAAM,CAAC5V,MAAM,EAAEqQ,QAAQ,CAAC5G,MAAM,CAACC,IAAI,CAACtI,KAAK;EACvD,CAAC;EACD,IAAI+J,OAAO,GAAG;IACZyK,MAAM,EAAEA,MAAM;IACdtL,IAAI,EAAEA;EACR,CAAC;EAED,IAAIuP,KAAK,CAACW,KAAK,KAAK,YAAY,EAAE;IAChC,OAAOlb,QAAQ,CAAC;MACdkb,KAAK,EAAE;IACT,CAAC,EAAEX,KAAK,EAAE;MACRE,UAAU,EAAEA,UAAU;MACtB1J,QAAQ,EAAEA,QAAQ;MAClBlF,OAAO,EAAEA;IACX,CAAC,CAAC;EACJ;EAEA,IAAIqB,SAAS,GAAGuN,UAAU,CAAC5N,UAAU,CAAC0N,KAAK,CAACK,QAAQ,CAAC1N,SAAS,CAAC/F,EAAE,CAAC;EAClE,IAAI8O,SAAS,GAAG0H,YAAY,IAAIb,aAAa,CAAC;IAC5CC,UAAU,EAAE/R,IAAI,CAACtK,MAAM;IACvBwM,SAAS,EAAEA,SAAS;IACpBL,UAAU,EAAE4N,UAAU,CAAC5N,UAAU;IACjCL,UAAU,EAAEiO,UAAU,CAACjO,UAAU;IACjCwB,cAAc,EAAEuM,KAAK,CAAChN,MAAM;IAC5BwD,QAAQ,EAAEA,QAAQ;IAClB6B,aAAa,EAAE2H,KAAK,CAAC3H;EACvB,CAAC,CAAC;EACF,IAAIgL,uBAAuB,GAAGP,qBAAqB,CAAC;IAClDnQ,SAAS,EAAEA,SAAS;IACpBK,MAAM,EAAE0I,SAAS;IACjBjI,cAAc,EAAEuM,KAAK,CAAChN,MAAM;IAC5BV,UAAU,EAAE4N,UAAU,CAAC5N,UAAU;IACjCL,UAAU,EAAEiO,UAAU,CAACjO;EACzB,CAAC,CAAC;EAEF,IAAI5E,MAAM,GAAG5H,QAAQ,CAAC,CAAC,CAAC,EAAEua,KAAK,EAAE;IAC/B1O,OAAO,EAAEA,OAAO;IAChB4O,UAAU,EAAE;MACV5N,UAAU,EAAE4N,UAAU,CAAC5N,UAAU;MACjCL,UAAU,EAAEoR;IACd,CAAC;IACDrQ,MAAM,EAAE0I,SAAS;IACjBlF,QAAQ,EAAEA,QAAQ;IAClBoG,iBAAiB,EAAEA,iBAAiB,IAAI,IAAI;IAC5C3F,kBAAkB,EAAE2F,iBAAiB,GAAG,KAAK,GAAG;EAClD,CAAC,CAAC;EAEF,OAAOvP,MAAM;AACf,CAAE;AAEF,SAASiW,eAAe,CAACpI,GAAG,EAAE5I,UAAU,EAAE;EACxC,OAAO4I,GAAG,CAAClS,GAAG,CAAC,UAAU4D,EAAE,EAAE;IAC3B,OAAO0F,UAAU,CAAC1F,EAAE,CAAC;EACvB,CAAC,CAAC;AACJ;AAEA,IAAI2W,SAAS,GAAI,SAAbA,SAAS,CAAclV,IAAI,EAAE;EAC/B,IAAI2E,MAAM,GAAG3E,IAAI,CAAC2E,MAAM;IACpBwD,QAAQ,GAAGnI,IAAI,CAACmI,QAAQ;IACxBlE,UAAU,GAAGjE,IAAI,CAACiE,UAAU;IAC5BhG,WAAW,GAAG+B,IAAI,CAAC/B,WAAW;IAC9B2K,kBAAkB,GAAG5I,IAAI,CAAC4I,kBAAkB;EAChD,IAAIjD,IAAI,GAAGhB,MAAM,CAACa,SAAS;EAC3B,IAAIyD,aAAa,GAAGgM,eAAe,CAACtP,IAAI,CAACJ,GAAG,EAAEtB,UAAU,CAAC;EACzD,IAAIuB,SAAS,GAAGwD,qBAAqB,CAAC;IACpCC,aAAa,EAAEA,aAAa;IAC5BhL,WAAW,EAAEA,WAAW;IACxBqI,WAAW,EAAE3B,MAAM,CAAC2B,WAAW;IAC/B6B,QAAQ,EAAEA,QAAQ,CAACzH,KAAK;IACxBkI,kBAAkB,EAAEA,kBAAkB;IACtCjD,IAAI,EAAEA;EACR,CAAC,CAAC;EACF,OAAOvO,QAAQ,CAAC,CAAC,CAAC,EAAEuN,MAAM,EAAE;IAC1Ba,SAAS,EAAEA;EACb,CAAC,CAAC;AACJ,CAAE;AAEF,IAAI2P,wBAAwB,GAAI,SAA5BA,wBAAwB,CAAcnV,IAAI,EAAE;EAC9C,IAAI2E,MAAM,GAAG3E,IAAI,CAAC2E,MAAM;IACpBL,SAAS,GAAGtE,IAAI,CAACsE,SAAS;IAC1B3B,SAAS,GAAG3C,IAAI,CAAC2C,SAAS;IAC1BsB,UAAU,GAAGjE,IAAI,CAACiE,UAAU;IAC5BkE,QAAQ,GAAGnI,IAAI,CAACmI,QAAQ;IACxB6B,aAAa,GAAGhK,IAAI,CAACgK,aAAa;EACtC,IAAIwD,mBAAmB,GAAGhB,gCAAgC,CAAC;IACzD7H,MAAM,EAAEA,MAAM;IACdL,SAAS,EAAEA,SAAS;IACpBL,UAAU,EAAEA,UAAU;IACtBtB,SAAS,EAAEA,SAAS;IACpBqH,aAAa,EAAEA;EACjB,CAAC,CAAC;EACF,OAAOuD,gCAAgC,CAAC;IACtCC,mBAAmB,EAAEA,mBAAmB;IACxClJ,SAAS,EAAEA,SAAS;IACpB6D,QAAQ,EAAEA;EACZ,CAAC,CAAC;AACJ,CAAE;AAEF,IAAIiN,WAAW,GAAI,SAAfA,WAAW,CAAcpV,IAAI,EAAE;EACjC,IAAI2R,KAAK,GAAG3R,IAAI,CAAC2R,KAAK;IAClBkD,gBAAgB,GAAG7U,IAAI,CAAC6R,UAAU;IAClCiD,cAAc,GAAG9U,IAAI,CAACmI,QAAQ;EAClC,EAAEwJ,KAAK,CAAC0D,YAAY,KAAK,MAAM,CAAC,GAAGzc,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,GAAG4C,SAAS,CAAC,KAAK,CAAC,GAAGA,SAAS,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC;EACvH,IAAI4Z,oBAAoB,GAAG3D,KAAK,CAAChN,MAAM;EACvC,IAAIwD,QAAQ,GAAG2M,cAAc,IAAInD,KAAK,CAACxJ,QAAQ;EAC/C,IAAI0J,UAAU,GAAGgD,gBAAgB,IAAIlD,KAAK,CAACE,UAAU;EACrD,IAAI5N,UAAU,GAAG4N,UAAU,CAAC5N,UAAU;IAClCL,UAAU,GAAGiO,UAAU,CAACjO,UAAU;EACtC,IAAIU,SAAS,GAAGL,UAAU,CAAC0N,KAAK,CAACK,QAAQ,CAAC1N,SAAS,CAAC/F,EAAE,CAAC;EACvD,IAAIgT,MAAM,GAAGC,iBAAiB,CAAC8D,oBAAoB,CAAC;EACpD,CAAC/D,MAAM,GAAG3Y,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,GAAG4C,SAAS,CAAC,KAAK,EAAE,kDAAkD,CAAC,GAAGA,SAAS,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC;EAClJ,IAAIuC,WAAW,GAAG2F,UAAU,CAAC2N,MAAM,CAAC;EACpC,IAAI5M,MAAM,GAAGuQ,SAAS,CAAC;IACrBvQ,MAAM,EAAE2Q,oBAAoB;IAC5BnN,QAAQ,EAAEA,QAAQ;IAClBlK,WAAW,EAAEA,WAAW;IACxBgG,UAAU,EAAEA;EACd,CAAC,CAAC;EACF,IAAIqK,eAAe,GAAG6G,wBAAwB,CAAC;IAC7CxQ,MAAM,EAAEA,MAAM;IACdL,SAAS,EAAEA,SAAS;IACpB3B,SAAS,EAAE1E,WAAW;IACtBgG,UAAU,EAAEA,UAAU;IACtBkE,QAAQ,EAAEA,QAAQ;IAClB6B,aAAa,EAAE2H,KAAK,CAAC3H;EACvB,CAAC,CAAC;EACF,OAAOpL,MAAM,CAAC;IACZ+F,MAAM,EAAEA,MAAM;IACd2J,eAAe,EAAEA,eAAe;IAChCqD,KAAK,EAAEA,KAAK;IACZE,UAAU,EAAEA,UAAU;IACtB1J,QAAQ,EAAEA;EACZ,CAAC,CAAC;AACJ,CAAE;AAEF,IAAIoN,eAAe,GAAI,SAAnBA,eAAe,CAAcxR,UAAU,EAAE;EAC3C,OAAO;IACLnG,KAAK,EAAEmG,UAAU,CAACnG,KAAK;IACvBO,WAAW,EAAE4F,UAAU,CAAC5F;EAC1B,CAAC;AACH,CAAE;AAEF,IAAIqX,aAAa,GAAI,SAAjBA,aAAa,CAAcxV,IAAI,EAAE;EACnC,IAAIsE,SAAS,GAAGtE,IAAI,CAACsE,SAAS;IAC1ByN,IAAI,GAAG/R,IAAI,CAAC+R,IAAI;IAChB9N,UAAU,GAAGjE,IAAI,CAACiE,UAAU;IAC5BkE,QAAQ,GAAGnI,IAAI,CAACmI,QAAQ;EAC5B,IAAI7B,WAAW,GAAGqJ,cAAc,CAACoC,IAAI,CAACpQ,IAAI,EAAE2C,SAAS,CAAC8G,UAAU,CAAC;EACjE,IAAIqK,UAAU,GAAGrR,4BAA4B,CAAC2N,IAAI,CAAChO,UAAU,CAACxF,EAAE,EAAE0F,UAAU,CAAC;EAC7E,IAAIyR,QAAQ,GAAGD,UAAU,CAAC5L,OAAO,CAACvF,SAAS,CAAC;EAC5C,EAAEoR,QAAQ,KAAK,CAAC,CAAC,CAAC,GAAG9c,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,GAAG4C,SAAS,CAAC,KAAK,EAAE,2CAA2C,CAAC,GAAGA,SAAS,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC;EACtJ,IAAIuN,aAAa,GAAGwM,UAAU,CAAC/R,KAAK,CAACgS,QAAQ,GAAG,CAAC,CAAC;EAClD,IAAIxL,QAAQ,GAAGjB,aAAa,CAACpF,MAAM,CAAC,UAAUC,QAAQ,EAAEkB,IAAI,EAAE;IAC5DlB,QAAQ,CAACkB,IAAI,CAACjB,UAAU,CAACxF,EAAE,CAAC,GAAG,IAAI;IACnC,OAAOuF,QAAQ;EACjB,CAAC,EAAE,CAAC,CAAC,CAAC;EACN,IAAIkG,aAAa,GAAG;IAClB2L,aAAa,EAAE5D,IAAI,CAAChO,UAAU,CAAC+L,IAAI,KAAK,SAAS;IACjDxJ,WAAW,EAAEA,WAAW;IACxB4D,QAAQ,EAAEA;EACZ,CAAC;EACD,IAAI1E,SAAS,GAAGwD,qBAAqB,CAAC;IACpCC,aAAa,EAAEA,aAAa;IAC5BhL,WAAW,EAAE8T,IAAI;IACjBzL,WAAW,EAAEA,WAAW;IACxBX,IAAI,EAAE,IAAI;IACVwC,QAAQ,EAAEA,QAAQ,CAACzH,KAAK;IACxBkI,kBAAkB,EAAE;EACtB,CAAC,CAAC;EACF,IAAIjE,MAAM,GAAG;IACXa,SAAS,EAAEA,SAAS;IACpBc,WAAW,EAAEA,WAAW;IACxB1B,EAAE,EAAE;MACFlL,IAAI,EAAE,SAAS;MACfuE,WAAW,EAAEsX,eAAe,CAACjR,SAAS,CAACP,UAAU;IACnD;EACF,CAAC;EACD,OAAO;IACLY,MAAM,EAAEA,MAAM;IACdqF,aAAa,EAAEA;EACjB,CAAC;AACH,CAAE;AAEF,IAAI4L,iBAAiB,GAAI,SAArBA,iBAAiB,CAAc/D,UAAU,EAAElF,OAAO,EAAE;EACtD,OAAO;IACL1I,UAAU,EAAE4N,UAAU,CAAC5N,UAAU;IACjCL,UAAU,EAAEyQ,iBAAiB,CAACxC,UAAU,CAACjO,UAAU,EAAE+I,OAAO;EAC9D,CAAC;AACH,CAAE;AAEF,IAAIkJ,OAAO,GAAG,CAAC,CAAC;AAChB,IAAIzH,SAAS,GAAG,KAAK;AAErB,IAAI0H,gBAAgB,GAAG,SAASA,gBAAgB,GAAG;EACjD,OAAO1H,SAAS;AAClB,CAAC;AACD,IAAItQ,KAAK,GAAG,SAASA,KAAK,CAACiY,GAAG,EAAE;EAC9B,IAAInd,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,EAAE;IACzC,IAAI,CAACgd,gBAAgB,EAAE,EAAE;MACvB;IACF;IAEA,IAAIvB,GAAG,GAAGyB,WAAW,CAACzB,GAAG,EAAE;IAC3BsB,OAAO,CAACE,GAAG,CAAC,GAAGxB,GAAG;EACpB;AACF,CAAC;AACD,IAAI0B,MAAM,GAAG,SAASA,MAAM,CAACF,GAAG,EAAE;EAChC,IAAInd,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,EAAE;IACzC,IAAI,CAACgd,gBAAgB,EAAE,EAAE;MACvB;IACF;IAEA,IAAIvB,GAAG,GAAGyB,WAAW,CAACzB,GAAG,EAAE;IAC3B,IAAIzQ,QAAQ,GAAG+R,OAAO,CAACE,GAAG,CAAC;IAE3B,IAAI,CAACjS,QAAQ,EAAE;MACbjK,OAAO,CAACqc,IAAI,CAAC,gDAAgD,EAAEH,GAAG,CAAC;MACnE;IACF;IAEA,IAAI/W,MAAM,GAAGuV,GAAG,GAAGzQ,QAAQ;IAC3B,IAAIqS,OAAO,GAAGnX,MAAM,CAACoX,OAAO,CAAC,CAAC,CAAC;IAE/B,IAAIC,KAAK,GAAG,YAAY;MACtB,IAAIrX,MAAM,GAAG,EAAE,EAAE;QACf,OAAO;UACLsX,SAAS,EAAE,OAAO;UAClBC,MAAM,EAAE;QACV,CAAC;MACH;MAEA,IAAIvX,MAAM,GAAG,EAAE,EAAE;QACf,OAAO;UACLsX,SAAS,EAAE,QAAQ;UACnBC,MAAM,EAAE;QACV,CAAC;MACH;MAEA,OAAO;QACLD,SAAS,EAAE,KAAK;QAChBC,MAAM,EAAE;MACV,CAAC;IACH,CAAC,EAAE;IAEH1c,OAAO,CAACJ,GAAG,CAAC4c,KAAK,CAACE,MAAM,GAAG,cAAc,GAAGJ,OAAO,GAAG,UAAU,GAAGJ,GAAG,EAAE,iCAAiC,EAAE,SAAS,GAAGM,KAAK,CAACC,SAAS,GAAG,qBAAqB,EAAE,cAAc,EAAE,mCAAmC,CAAC;EACtN;AACF,CAAC;AAED,IAAIE,eAAe,GAAI,SAAnBA,eAAe,CAAcxW,IAAI,EAAE;EACrC,IAAIsE,SAAS,GAAGtE,IAAI,CAACsE,SAAS;IAC1BmS,QAAQ,GAAGzW,IAAI,CAAClI,MAAM;IACtB4e,mBAAmB,GAAG1W,IAAI,CAAC0W,mBAAmB;EAClD,IAAIhJ,MAAM,GAAG5V,MAAM,CAACwM,SAAS,CAACoJ,MAAM,EAAE+I,QAAQ,CAAC;EAC/C,IAAIrU,IAAI,GAAGrK,UAAU,CAAC2V,MAAM,EAAEgJ,mBAAmB,CAAC;EAElD,IAAIC,KAAK,GAAGvf,QAAQ,CAAC,CAAC,CAAC,EAAEkN,SAAS,EAAE;IAClCsS,WAAW,EAAExf,QAAQ,CAAC,CAAC,CAAC,EAAEkN,SAAS,CAACsS,WAAW,EAAE;MAC/ClJ,MAAM,EAAEA;IACV,CAAC,CAAC;IACFA,MAAM,EAAEA,MAAM;IACdtL,IAAI,EAAEA;EACR,CAAC,CAAC;EAEF,OAAOuU,KAAK;AACd,CAAE;AAEF,IAAIE,QAAQ,GAAI,SAAZA,QAAQ,CAAclU,SAAS,EAAE;EACnC,IAAIjC,KAAK,GAAGiC,SAAS,CAACjC,KAAK;EAC3B,CAACA,KAAK,GAAG9H,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,GAAG4C,SAAS,CAAC,KAAK,EAAE,oCAAoC,CAAC,GAAGA,SAAS,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC;EACnI,OAAOgF,KAAK;AACd,CAAE;AAEF,IAAIoW,+BAA+B,GAAI,SAAnCA,+BAA+B,CAAc9W,IAAI,EAAE;EACrD,IAAI+W,SAAS,GAAG/W,IAAI,CAAC+W,SAAS;IAC1BC,iBAAiB,GAAGhX,IAAI,CAACgX,iBAAiB;IAC1C7O,QAAQ,GAAGnI,IAAI,CAACmI,QAAQ;EAC5B,IAAI8O,kBAAkB,GAAG9O,QAAQ,CAAC5G,MAAM,CAACC,IAAI,CAACtI,KAAK;EACnD,OAAO6d,SAAS,CAACpc,GAAG,CAAC,UAAU2J,SAAS,EAAE;IACxC,IAAInG,WAAW,GAAGmG,SAAS,CAACP,UAAU,CAAC5F,WAAW;IAClD,IAAI+Y,QAAQ,GAAGF,iBAAiB,CAAC7Y,WAAW,CAAC;IAC7C,IAAIuC,KAAK,GAAGmW,QAAQ,CAACK,QAAQ,CAAC;IAC9B,IAAIC,qBAAqB,GAAGzW,KAAK,CAACa,MAAM,CAACC,IAAI,CAACtI,KAAK;IACnD,IAAIke,WAAW,GAAG9X,GAAG,CAAC2X,kBAAkB,EAAEE,qBAAqB,CAAC;IAChE,IAAIR,KAAK,GAAGH,eAAe,CAAC;MAC1BlS,SAAS,EAAEA,SAAS;MACpBxM,MAAM,EAAEsf,WAAW;MACnBV,mBAAmB,EAAEvO,QAAQ,CAAC5G,MAAM,CAACwB;IACvC,CAAC,CAAC;IACF,OAAO4T,KAAK;EACd,CAAC,CAAC;AACJ,CAAE;AAEF,IAAIU,UAAU,GAAG,4BAA4B;AAC7C,IAAIC,6BAA6B,GAAI,SAAjCA,6BAA6B,CAActX,IAAI,EAAE;EACnD,IAAI8B,SAAS,EAAEyV,SAAS;EAExB,IAAI5F,KAAK,GAAG3R,IAAI,CAAC2R,KAAK;IAClB6F,SAAS,GAAGxX,IAAI,CAACwX,SAAS;EAC9B1Z,KAAK,CAACuZ,UAAU,CAAC;EACjB,IAAII,gBAAgB,GAAGD,SAAS,CAACN,QAAQ,CAACvc,GAAG,CAAC,UAAUiE,MAAM,EAAE;IAC9D,IAAI8Y,QAAQ,GAAG/F,KAAK,CAACE,UAAU,CAACjO,UAAU,CAAChF,MAAM,CAACT,WAAW,CAAC;IAC9D,IAAIkE,QAAQ,GAAGK,eAAe,CAACgV,QAAQ,EAAE9Y,MAAM,CAAC2C,MAAM,CAAC;IACvD,OAAOc,QAAQ;EACjB,CAAC,CAAC;EAEF,IAAIuB,UAAU,GAAGxM,QAAQ,CAAC,CAAC,CAAC,EAAEua,KAAK,CAACE,UAAU,CAACjO,UAAU,EAAED,cAAc,CAAC8T,gBAAgB,CAAC,CAAC;EAE5F,IAAIE,gBAAgB,GAAG3T,cAAc,CAAC8S,+BAA+B,CAAC;IACpEC,SAAS,EAAES,SAAS,CAACT,SAAS;IAC9BC,iBAAiB,EAAEpT,UAAU;IAC7BuE,QAAQ,EAAEwJ,KAAK,CAACxJ;EAClB,CAAC,CAAC,CAAC;EAEH,IAAIlE,UAAU,GAAG7M,QAAQ,CAAC,CAAC,CAAC,EAAEua,KAAK,CAACE,UAAU,CAAC5N,UAAU,EAAE0T,gBAAgB,CAAC;EAE5EH,SAAS,CAACI,QAAQ,CAACxc,OAAO,CAAC,UAAUmD,EAAE,EAAE;IACvC,OAAO0F,UAAU,CAAC1F,EAAE,CAAC;EACvB,CAAC,CAAC;EACF,IAAIsT,UAAU,GAAG;IACfjO,UAAU,EAAEA,UAAU;IACtBK,UAAU,EAAEA;EACd,CAAC;EACD,IAAI4T,SAAS,GAAGrG,iBAAiB,CAACG,KAAK,CAAChN,MAAM,CAAC;EAC/C,IAAImT,OAAO,GAAGD,SAAS,GAAGhG,UAAU,CAACjO,UAAU,CAACiU,SAAS,CAAC,GAAG,IAAI;EACjE,IAAIvT,SAAS,GAAGuN,UAAU,CAAC5N,UAAU,CAAC0N,KAAK,CAACK,QAAQ,CAAC1N,SAAS,CAAC/F,EAAE,CAAC;EAClE,IAAIwT,IAAI,GAAGF,UAAU,CAACjO,UAAU,CAAC+N,KAAK,CAACK,QAAQ,CAACrP,SAAS,CAACpE,EAAE,CAAC;EAE7D,IAAIwZ,cAAc,GAAGvC,aAAa,CAAC;MACjClR,SAAS,EAAEA,SAAS;MACpByN,IAAI,EAAEA,IAAI;MACV9N,UAAU,EAAEA,UAAU;MACtBkE,QAAQ,EAAEwJ,KAAK,CAACxJ;IAClB,CAAC,CAAC;IACE6P,YAAY,GAAGD,cAAc,CAACpT,MAAM;IACpCqF,aAAa,GAAG+N,cAAc,CAAC/N,aAAa;EAEhD,IAAI5E,cAAc,GAAG0S,OAAO,IAAIA,OAAO,CAACzS,gBAAgB,GAAGsM,KAAK,CAAChN,MAAM,GAAGqT,YAAY;EACtF,IAAIrT,MAAM,GAAGuP,aAAa,CAAC;IACzBC,UAAU,EAAExC,KAAK,CAAC1O,OAAO,CAACb,IAAI,CAACtK,MAAM;IACrCwM,SAAS,EAAEuN,UAAU,CAAC5N,UAAU,CAAC0N,KAAK,CAACK,QAAQ,CAAC1N,SAAS,CAAC/F,EAAE,CAAC;IAC7D0F,UAAU,EAAE4N,UAAU,CAAC5N,UAAU;IACjCL,UAAU,EAAEiO,UAAU,CAACjO,UAAU;IACjCwB,cAAc,EAAEA,cAAc;IAC9B+C,QAAQ,EAAEwJ,KAAK,CAACxJ,QAAQ;IACxB6B,aAAa,EAAEA;EACjB,CAAC,CAAC;EACFiM,MAAM,CAACoB,UAAU,CAAC;EAElB,IAAIY,aAAa,GAAG7gB,QAAQ,CAAC;IAC3Bkb,KAAK,EAAE;EACT,CAAC,EAAEX,KAAK,GAAG7P,SAAS,GAAG,CAAC,CAAC,EAAEA,SAAS,CAAC,OAAO,CAAC,GAAG,UAAU,EAAEA,SAAS,CAAC6C,MAAM,GAAGA,MAAM,EAAE7C,SAAS,CAACkW,YAAY,GAAGA,YAAY,EAAElW,SAAS,CAAC+P,UAAU,GAAGA,UAAU,EAAE/P,SAAS,CAACkI,aAAa,GAAGA,aAAa,EAAElI,SAAS,CAAC8G,kBAAkB,GAAG,KAAK,EAAE9G,SAAS,EAAE;EAE3P,IAAI6P,KAAK,CAACW,KAAK,KAAK,YAAY,EAAE;IAChC,OAAO2F,aAAa;EACtB;EAEA,IAAIC,WAAW,GAAG9gB,QAAQ,CAAC;IACzBkb,KAAK,EAAE;EACT,CAAC,EAAE2F,aAAa,GAAGV,SAAS,GAAG,CAAC,CAAC,EAAEA,SAAS,CAAC,OAAO,CAAC,GAAG,cAAc,EAAEA,SAAS,CAACtY,MAAM,GAAG0S,KAAK,CAAC1S,MAAM,EAAEsY,SAAS,CAACY,SAAS,GAAG,KAAK,EAAEZ,SAAS,EAAE;EAEjJ,OAAOW,WAAW;AACpB,CAAE;AAEF,IAAIE,UAAU,GAAG,SAASA,UAAU,CAACzG,KAAK,EAAE;EAC1C,OAAOA,KAAK,CAAC0D,YAAY,KAAK,MAAM;AACtC,CAAC;AAED,IAAIgD,mBAAmB,GAAG,SAASA,mBAAmB,CAAC1G,KAAK,EAAEhF,OAAO,EAAE2L,iBAAiB,EAAE;EACxF,IAAIzG,UAAU,GAAG+D,iBAAiB,CAACjE,KAAK,CAACE,UAAU,EAAElF,OAAO,CAAC;EAE7D,IAAI,CAACyL,UAAU,CAACzG,KAAK,CAAC,IAAI2G,iBAAiB,EAAE;IAC3C,OAAO1Z,MAAM,CAAC;MACZ+S,KAAK,EAAEA,KAAK;MACZE,UAAU,EAAEA;IACd,CAAC,CAAC;EACJ;EAEA,OAAOuD,WAAW,CAAC;IACjBzD,KAAK,EAAEA,KAAK;IACZE,UAAU,EAAEA;EACd,CAAC,CAAC;AACJ,CAAC;AAED,SAAS0G,uBAAuB,CAAC5G,KAAK,EAAE;EACtC,IAAIA,KAAK,CAAChV,UAAU,IAAIgV,KAAK,CAAC0D,YAAY,KAAK,MAAM,EAAE;IACrD,OAAOje,QAAQ,CAAC;MACdkb,KAAK,EAAE;IACT,CAAC,EAAEX,KAAK,EAAE;MACRpD,iBAAiB,EAAE;IACrB,CAAC,CAAC;EACJ;EAEA,OAAOoD,KAAK;AACd;AAEA,IAAI6G,IAAI,GAAG;EACTlG,KAAK,EAAE,MAAM;EACbmG,SAAS,EAAE,IAAI;EACfC,WAAW,EAAE;AACf,CAAC;AACD,IAAIC,OAAO,GAAI,SAAXA,OAAO,CAAchH,KAAK,EAAEiH,MAAM,EAAE;EACtC,IAAIjH,KAAK,KAAK,KAAK,CAAC,EAAE;IACpBA,KAAK,GAAG6G,IAAI;EACd;EAEA,IAAII,MAAM,CAAClf,IAAI,KAAK,OAAO,EAAE;IAC3B,OAAOtC,QAAQ,CAAC,CAAC,CAAC,EAAEohB,IAAI,EAAE;MACxBE,WAAW,EAAE;IACf,CAAC,CAAC;EACJ;EAEA,IAAIE,MAAM,CAAClf,IAAI,KAAK,iBAAiB,EAAE;IACrC,EAAEiY,KAAK,CAACW,KAAK,KAAK,MAAM,CAAC,GAAG1Z,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,GAAG4C,SAAS,CAAC,KAAK,EAAE,8CAA8C,CAAC,GAAGA,SAAS,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC;IAChK,IAAImd,eAAe,GAAGD,MAAM,CAACE,OAAO;MAChC9G,QAAQ,GAAG6G,eAAe,CAAC7G,QAAQ;MACnC1D,eAAe,GAAGuK,eAAe,CAACvK,eAAe;MACjDnG,QAAQ,GAAG0Q,eAAe,CAAC1Q,QAAQ;MACnC0J,UAAU,GAAGgH,eAAe,CAAChH,UAAU;MACvCwD,YAAY,GAAGwD,eAAe,CAACxD,YAAY;IAC/C,IAAI/Q,SAAS,GAAGuN,UAAU,CAAC5N,UAAU,CAAC+N,QAAQ,CAAC1N,SAAS,CAAC/F,EAAE,CAAC;IAC5D,IAAIwT,IAAI,GAAGF,UAAU,CAACjO,UAAU,CAACoO,QAAQ,CAACrP,SAAS,CAACpE,EAAE,CAAC;IACvD,IAAImP,MAAM,GAAG;MACX0E,SAAS,EAAE9D,eAAe;MAC1B4D,eAAe,EAAE5N,SAAS,CAACoJ,MAAM,CAACvC,SAAS,CAACD,MAAM;MAClDpT,MAAM,EAAEqH;IACV,CAAC;IACD,IAAI4D,OAAO,GAAG;MACZ2K,MAAM,EAAEA,MAAM;MACdtL,IAAI,EAAE;QACJgQ,SAAS,EAAE9S,GAAG,CAACoO,MAAM,CAAC0E,SAAS,EAAEjK,QAAQ,CAAC5G,MAAM,CAACwB,OAAO,CAAC;QACzDmP,eAAe,EAAE5S,GAAG,CAACoO,MAAM,CAAC0E,SAAS,EAAEjK,QAAQ,CAAC5G,MAAM,CAACwB,OAAO,CAAC;QAC/DjL,MAAM,EAAEwH,GAAG,CAACoO,MAAM,CAAC0E,SAAS,EAAEjK,QAAQ,CAAC5G,MAAM,CAACC,IAAI,CAACtI,KAAK;MAC1D;IACF,CAAC;IACD,IAAI6f,qBAAqB,GAAG7U,eAAe,CAAC2N,UAAU,CAACjO,UAAU,CAAC,CAACoV,KAAK,CAAC,UAAUhU,IAAI,EAAE;MACvF,OAAO,CAACA,IAAI,CAACiU,aAAa;IAC5B,CAAC,CAAC;IAEF,IAAIlB,cAAc,GAAGvC,aAAa,CAAC;QACjClR,SAAS,EAAEA,SAAS;QACpByN,IAAI,EAAEA,IAAI;QACV9N,UAAU,EAAE4N,UAAU,CAAC5N,UAAU;QACjCkE,QAAQ,EAAEA;MACZ,CAAC,CAAC;MACExD,MAAM,GAAGoT,cAAc,CAACpT,MAAM;MAC9BqF,aAAa,GAAG+N,cAAc,CAAC/N,aAAa;IAEhD,IAAIhL,MAAM,GAAG;MACXsT,KAAK,EAAE,UAAU;MACjB3V,UAAU,EAAE,IAAI;MAChBqV,QAAQ,EAAEA,QAAQ;MAClBqD,YAAY,EAAEA,YAAY;MAC1BxD,UAAU,EAAEA,UAAU;MACtB9O,OAAO,EAAEA,OAAO;MAChBE,OAAO,EAAEF,OAAO;MAChBgW,qBAAqB,EAAEA,qBAAqB;MAC5CpU,MAAM,EAAEA,MAAM;MACdqF,aAAa,EAAEA,aAAa;MAC5BgO,YAAY,EAAErT,MAAM;MACpBwD,QAAQ,EAAEA,QAAQ;MAClBoG,iBAAiB,EAAE,IAAI;MACvB3F,kBAAkB,EAAE;IACtB,CAAC;IACD,OAAO5J,MAAM;EACf;EAEA,IAAI4Z,MAAM,CAAClf,IAAI,KAAK,qBAAqB,EAAE;IACzC,IAAIoI,SAAS;IAEb,IAAI6P,KAAK,CAACW,KAAK,KAAK,YAAY,IAAIX,KAAK,CAACW,KAAK,KAAK,cAAc,EAAE;MAClE,OAAOX,KAAK;IACd;IAEA,EAAEA,KAAK,CAACW,KAAK,KAAK,UAAU,CAAC,GAAG1Z,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,GAAG4C,SAAS,CAAC,KAAK,EAAE,qCAAqC,GAAGiW,KAAK,CAACW,KAAK,CAAC,GAAG5W,SAAS,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC;IAEzK,IAAIwd,OAAO,GAAG9hB,QAAQ,CAAC;MACrBkb,KAAK,EAAE;IACT,CAAC,EAAEX,KAAK,GAAG7P,SAAS,GAAG,CAAC,CAAC,EAAEA,SAAS,CAAC,OAAO,CAAC,GAAG,YAAY,EAAEA,SAAS,EAAE;IAEzE,OAAOoX,OAAO;EAChB;EAEA,IAAIN,MAAM,CAAClf,IAAI,KAAK,wBAAwB,EAAE;IAC5C,EAAEiY,KAAK,CAACW,KAAK,KAAK,YAAY,IAAIX,KAAK,CAACW,KAAK,KAAK,cAAc,CAAC,GAAG1Z,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,GAAG4C,SAAS,CAAC,KAAK,EAAE,aAAa,GAAGkd,MAAM,CAAClf,IAAI,GAAG,qBAAqB,GAAGiY,KAAK,CAACW,KAAK,CAAC,GAAG5W,SAAS,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC;IAC3N,OAAO4b,6BAA6B,CAAC;MACnC3F,KAAK,EAAEA,KAAK;MACZ6F,SAAS,EAAEoB,MAAM,CAACE;IACpB,CAAC,CAAC;EACJ;EAEA,IAAIF,MAAM,CAAClf,IAAI,KAAK,MAAM,EAAE;IAC1B,IAAIiY,KAAK,CAACW,KAAK,KAAK,cAAc,EAAE;MAClC,OAAOX,KAAK;IACd;IAEA,CAACU,iBAAiB,CAACV,KAAK,CAAC,GAAG/Y,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,GAAG4C,SAAS,CAAC,KAAK,EAAEkd,MAAM,CAAClf,IAAI,GAAG,0BAA0B,GAAGiY,KAAK,CAACW,KAAK,CAAC,GAAG5W,SAAS,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC;IACxK,IAAIyd,gBAAgB,GAAGP,MAAM,CAACE,OAAO,CAACpL,MAAM;IAE5C,IAAIhO,OAAO,CAACyZ,gBAAgB,EAAExH,KAAK,CAAC1O,OAAO,CAACyK,MAAM,CAAC0E,SAAS,CAAC,EAAE;MAC7D,OAAOT,KAAK;IACd;IAEA,OAAO/S,MAAM,CAAC;MACZ+S,KAAK,EAAEA,KAAK;MACZrD,eAAe,EAAE6K,gBAAgB;MACjCxU,MAAM,EAAEyT,UAAU,CAACzG,KAAK,CAAC,GAAGA,KAAK,CAAChN,MAAM,GAAG;IAC7C,CAAC,CAAC;EACJ;EAEA,IAAIiU,MAAM,CAAClf,IAAI,KAAK,yBAAyB,EAAE;IAC7C,IAAIiY,KAAK,CAACW,KAAK,KAAK,cAAc,EAAE;MAClC,OAAOiG,uBAAuB,CAAC5G,KAAK,CAAC;IACvC;IAEA,IAAIA,KAAK,CAACW,KAAK,KAAK,YAAY,EAAE;MAChC,OAAOiG,uBAAuB,CAAC5G,KAAK,CAAC;IACvC;IAEA,CAACU,iBAAiB,CAACV,KAAK,CAAC,GAAG/Y,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,GAAG4C,SAAS,CAAC,KAAK,EAAEkd,MAAM,CAAClf,IAAI,GAAG,0BAA0B,GAAGiY,KAAK,CAACW,KAAK,CAAC,GAAG5W,SAAS,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC;IACxK,IAAI0d,gBAAgB,GAAGR,MAAM,CAACE,OAAO;MACjCva,EAAE,GAAG6a,gBAAgB,CAAC7a,EAAE;MACxBqE,SAAS,GAAGwW,gBAAgB,CAACxW,SAAS;IAC1C,IAAItC,MAAM,GAAGqR,KAAK,CAACE,UAAU,CAACjO,UAAU,CAACrF,EAAE,CAAC;IAE5C,IAAI,CAAC+B,MAAM,EAAE;MACX,OAAOqR,KAAK;IACd;IAEA,IAAItP,QAAQ,GAAGK,eAAe,CAACpC,MAAM,EAAEsC,SAAS,CAAC;IACjD,OAAOyV,mBAAmB,CAAC1G,KAAK,EAAEtP,QAAQ,EAAE,KAAK,CAAC;EACpD;EAEA,IAAIuW,MAAM,CAAClf,IAAI,KAAK,6BAA6B,EAAE;IACjD,IAAIiY,KAAK,CAACW,KAAK,KAAK,cAAc,EAAE;MAClC,OAAOX,KAAK;IACd;IAEA,CAACU,iBAAiB,CAACV,KAAK,CAAC,GAAG/Y,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,GAAG4C,SAAS,CAAC,KAAK,EAAE,6CAA6C,GAAGiW,KAAK,CAACW,KAAK,CAAC,GAAG5W,SAAS,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC;IAC7K,IAAI2d,gBAAgB,GAAGT,MAAM,CAACE,OAAO;MACjCQ,GAAG,GAAGD,gBAAgB,CAAC9a,EAAE;MACzB6P,SAAS,GAAGiL,gBAAgB,CAACjL,SAAS;IAC1C,IAAImL,OAAO,GAAG5H,KAAK,CAACE,UAAU,CAACjO,UAAU,CAAC0V,GAAG,CAAC;IAC9C,CAACC,OAAO,GAAG3gB,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,GAAG4C,SAAS,CAAC,KAAK,EAAE,4BAA4B,GAAG4d,GAAG,GAAG,+BAA+B,CAAC,GAAG5d,SAAS,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC;IACrK,EAAE6d,OAAO,CAACnL,SAAS,KAAKA,SAAS,CAAC,GAAGxV,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,GAAG4C,SAAS,CAAC,KAAK,EAAE,uCAAuC,GAAG8d,MAAM,CAACpL,SAAS,CAAC,GAAG,4BAA4B,GAAGoL,MAAM,CAACD,OAAO,CAACnL,SAAS,CAAC,CAAC,GAAG1S,SAAS,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC;IAEjP,IAAIiR,OAAO,GAAGvV,QAAQ,CAAC,CAAC,CAAC,EAAEmiB,OAAO,EAAE;MAClCnL,SAAS,EAAEA;IACb,CAAC,CAAC;IAEF,OAAOiK,mBAAmB,CAAC1G,KAAK,EAAEhF,OAAO,EAAE,IAAI,CAAC;EAClD;EAEA,IAAIiM,MAAM,CAAClf,IAAI,KAAK,qCAAqC,EAAE;IACzD,IAAIiY,KAAK,CAACW,KAAK,KAAK,cAAc,EAAE;MAClC,OAAOX,KAAK;IACd;IAEA,CAACU,iBAAiB,CAACV,KAAK,CAAC,GAAG/Y,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,GAAG4C,SAAS,CAAC,KAAK,EAAE,6CAA6C,GAAGiW,KAAK,CAACW,KAAK,CAAC,GAAG5W,SAAS,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC;IAC7K,IAAI+d,gBAAgB,GAAGb,MAAM,CAACE,OAAO;MACjCY,IAAI,GAAGD,gBAAgB,CAAClb,EAAE;MAC1B8G,gBAAgB,GAAGoU,gBAAgB,CAACpU,gBAAgB;IACxD,IAAIsU,QAAQ,GAAGhI,KAAK,CAACE,UAAU,CAACjO,UAAU,CAAC8V,IAAI,CAAC;IAChD,CAACC,QAAQ,GAAG/gB,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,GAAG4C,SAAS,CAAC,KAAK,EAAE,4BAA4B,GAAGge,IAAI,GAAG,wCAAwC,CAAC,GAAGhe,SAAS,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC;IAChL,EAAEie,QAAQ,CAACtU,gBAAgB,KAAKA,gBAAgB,CAAC,GAAGzM,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,GAAG4C,SAAS,CAAC,KAAK,EAAE,8CAA8C,GAAG8d,MAAM,CAACnU,gBAAgB,CAAC,GAAG,4BAA4B,GAAGmU,MAAM,CAACG,QAAQ,CAACtU,gBAAgB,CAAC,CAAC,GAAG3J,SAAS,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC;IAEtR,IAAIke,QAAQ,GAAGxiB,QAAQ,CAAC,CAAC,CAAC,EAAEuiB,QAAQ,EAAE;MACpCtU,gBAAgB,EAAEA;IACpB,CAAC,CAAC;IAEF,OAAOgT,mBAAmB,CAAC1G,KAAK,EAAEiI,QAAQ,EAAE,IAAI,CAAC;EACnD;EAEA,IAAIhB,MAAM,CAAClf,IAAI,KAAK,uBAAuB,EAAE;IAC3C,IAAIiY,KAAK,CAACW,KAAK,KAAK,cAAc,IAAIX,KAAK,CAACW,KAAK,KAAK,gBAAgB,EAAE;MACtE,OAAOX,KAAK;IACd;IAEA,CAACU,iBAAiB,CAACV,KAAK,CAAC,GAAG/Y,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,GAAG4C,SAAS,CAAC,KAAK,EAAE,iCAAiC,GAAGiW,KAAK,CAACW,KAAK,CAAC,GAAG5W,SAAS,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC;IACjK,CAACiW,KAAK,CAACoH,qBAAqB,GAAGngB,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,GAAG4C,SAAS,CAAC,KAAK,EAAE,6DAA6D,CAAC,GAAGA,SAAS,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC;IAClL,IAAIme,UAAU,GAAGjB,MAAM,CAACE,OAAO,CAAClW,SAAS;IAEzC,IAAIlD,OAAO,CAACiS,KAAK,CAACxJ,QAAQ,CAAC5G,MAAM,CAAC0B,OAAO,EAAE4W,UAAU,CAAC,EAAE;MACtD,OAAOtB,uBAAuB,CAAC5G,KAAK,CAAC;IACvC;IAEA,IAAImI,SAAS,GAAGpN,cAAc,CAACiF,KAAK,CAACxJ,QAAQ,EAAE0R,UAAU,CAAC;IAE1D,IAAIzB,UAAU,CAACzG,KAAK,CAAC,EAAE;MACrB,OAAOyD,WAAW,CAAC;QACjBzD,KAAK,EAAEA,KAAK;QACZxJ,QAAQ,EAAE2R;MACZ,CAAC,CAAC;IACJ;IAEA,OAAOlb,MAAM,CAAC;MACZ+S,KAAK,EAAEA,KAAK;MACZxJ,QAAQ,EAAE2R;IACZ,CAAC,CAAC;EACJ;EAEA,IAAIlB,MAAM,CAAClf,IAAI,KAAK,4BAA4B,EAAE;IAChD,IAAI,CAAC2Y,iBAAiB,CAACV,KAAK,CAAC,EAAE;MAC7B,OAAOA,KAAK;IACd;IAEA,IAAIf,SAAS,GAAGgI,MAAM,CAACE,OAAO,CAAClI,SAAS;IAExC,IAAIlR,OAAO,CAACkR,SAAS,EAAEe,KAAK,CAACxJ,QAAQ,CAAC5G,MAAM,CAACV,GAAG,CAAC,EAAE;MACjD,OAAO8Q,KAAK;IACd;IAEA,IAAIrB,aAAa,GAAGlZ,QAAQ,CAAC,CAAC,CAAC,EAAEua,KAAK,CAACxJ,QAAQ,EAAE;MAC/C5G,MAAM,EAAEnK,QAAQ,CAAC,CAAC,CAAC,EAAEua,KAAK,CAACxJ,QAAQ,CAAC5G,MAAM,EAAE;QAC1CV,GAAG,EAAE+P;MACP,CAAC;IACH,CAAC,CAAC;IAEF,OAAOxZ,QAAQ,CAAC;MACdkb,KAAK,EAAE;IACT,CAAC,EAAEX,KAAK,EAAE;MACRxJ,QAAQ,EAAEmI;IACZ,CAAC,CAAC;EACJ;EAEA,IAAIsI,MAAM,CAAClf,IAAI,KAAK,SAAS,IAAIkf,MAAM,CAAClf,IAAI,KAAK,WAAW,IAAIkf,MAAM,CAAClf,IAAI,KAAK,WAAW,IAAIkf,MAAM,CAAClf,IAAI,KAAK,YAAY,EAAE;IAC3H,IAAIiY,KAAK,CAACW,KAAK,KAAK,YAAY,IAAIX,KAAK,CAACW,KAAK,KAAK,cAAc,EAAE;MAClE,OAAOX,KAAK;IACd;IAEA,EAAEA,KAAK,CAACW,KAAK,KAAK,UAAU,CAAC,GAAG1Z,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,GAAG4C,SAAS,CAAC,KAAK,EAAEkd,MAAM,CAAClf,IAAI,GAAG,uCAAuC,CAAC,GAAGgC,SAAS,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC;IAE3K,IAAIqe,QAAQ,GAAGrI,eAAe,CAAC;MAC7BC,KAAK,EAAEA,KAAK;MACZjY,IAAI,EAAEkf,MAAM,CAAClf;IACf,CAAC,CAAC;IAEF,IAAI,CAACqgB,QAAQ,EAAE;MACb,OAAOpI,KAAK;IACd;IAEA,OAAO/S,MAAM,CAAC;MACZ+S,KAAK,EAAEA,KAAK;MACZhN,MAAM,EAAEoV,QAAQ,CAACpV,MAAM;MACvB2J,eAAe,EAAEyL,QAAQ,CAACzL,eAAe;MACzCC,iBAAiB,EAAEwL,QAAQ,CAACxL;IAC9B,CAAC,CAAC;EACJ;EAEA,IAAIqK,MAAM,CAAClf,IAAI,KAAK,cAAc,EAAE;IAClC,IAAI6d,SAAS;IAEb,IAAItY,MAAM,GAAG2Z,MAAM,CAACE,OAAO,CAAC7Z,MAAM;IAClC,EAAE0S,KAAK,CAACW,KAAK,KAAK,YAAY,CAAC,GAAG1Z,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,GAAG4C,SAAS,CAAC,KAAK,EAAE,qEAAqE,CAAC,GAAGA,SAAS,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC;IAE7L,IAAIse,QAAQ,GAAG5iB,QAAQ,CAAC;MACtBkb,KAAK,EAAE;IACT,CAAC,EAAEX,KAAK,GAAG4F,SAAS,GAAG,CAAC,CAAC,EAAEA,SAAS,CAAC,OAAO,CAAC,GAAG,cAAc,EAAEA,SAAS,CAACY,SAAS,GAAG,IAAI,EAAEZ,SAAS,CAACtY,MAAM,GAAGA,MAAM,EAAEsY,SAAS,EAAE;IAElI,OAAOyC,QAAQ;EACjB;EAEA,IAAIpB,MAAM,CAAClf,IAAI,KAAK,cAAc,EAAE;IAClC,IAAIugB,gBAAgB,GAAGrB,MAAM,CAACE,OAAO;MACjCL,SAAS,GAAGwB,gBAAgB,CAACxB,SAAS;MACtCyB,YAAY,GAAGD,gBAAgB,CAACC,YAAY;MAC5CC,mBAAmB,GAAGF,gBAAgB,CAACE,mBAAmB;IAC9D,EAAExI,KAAK,CAACW,KAAK,KAAK,UAAU,IAAIX,KAAK,CAACW,KAAK,KAAK,cAAc,CAAC,GAAG1Z,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,GAAG4C,SAAS,CAAC,KAAK,EAAE,iCAAiC,GAAGiW,KAAK,CAACW,KAAK,CAAC,GAAG5W,SAAS,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC;IACvM,IAAI0e,QAAQ,GAAG;MACb9H,KAAK,EAAE,gBAAgB;MACvBmG,SAAS,EAAEA,SAAS;MACpByB,YAAY,EAAEA,YAAY;MAC1BC,mBAAmB,EAAEA,mBAAmB;MACxCtI,UAAU,EAAEF,KAAK,CAACE;IACpB,CAAC;IACD,OAAOuI,QAAQ;EACjB;EAEA,IAAIxB,MAAM,CAAClf,IAAI,KAAK,eAAe,EAAE;IACnC,IAAI2gB,UAAU,GAAGzB,MAAM,CAACE,OAAO,CAACL,SAAS;IACzC,OAAO;MACLnG,KAAK,EAAE,MAAM;MACbmG,SAAS,EAAE4B,UAAU;MACrB3B,WAAW,EAAE;IACf,CAAC;EACH;EAEA,OAAO/G,KAAK;AACd,CAAE;AAEF,IAAI2I,oBAAoB,GAAG,SAASA,oBAAoB,CAACpe,IAAI,EAAE;EAC7D,OAAO;IACLxC,IAAI,EAAE,wBAAwB;IAC9Bof,OAAO,EAAE5c;EACX,CAAC;AACH,CAAC;AACD,IAAIqe,IAAI,GAAG,SAASA,IAAI,CAACre,IAAI,EAAE;EAC7B,OAAO;IACLxC,IAAI,EAAE,MAAM;IACZof,OAAO,EAAE5c;EACX,CAAC;AACH,CAAC;AACD,IAAIse,cAAc,GAAG,SAASA,cAAc,CAACte,IAAI,EAAE;EACjD,OAAO;IACLxC,IAAI,EAAE,iBAAiB;IACvBof,OAAO,EAAE5c;EACX,CAAC;AACH,CAAC;AACD,IAAIue,oBAAoB,GAAG,SAASA,oBAAoB,CAACve,IAAI,EAAE;EAC7D,OAAO;IACLxC,IAAI,EAAE,wBAAwB;IAC9Bof,OAAO,EAAE5c;EACX,CAAC;AACH,CAAC;AACD,IAAIwe,kBAAkB,GAAG,SAASA,kBAAkB,GAAG;EACrD,OAAO;IACLhhB,IAAI,EAAE,qBAAqB;IAC3Bof,OAAO,EAAE;EACX,CAAC;AACH,CAAC;AACD,IAAI6B,qBAAqB,GAAG,SAASA,qBAAqB,CAACze,IAAI,EAAE;EAC/D,OAAO;IACLxC,IAAI,EAAE,yBAAyB;IAC/Bof,OAAO,EAAE5c;EACX,CAAC;AACH,CAAC;AACD,IAAI0e,wBAAwB,GAAG,SAASA,wBAAwB,CAAC1e,IAAI,EAAE;EACrE,OAAO;IACLxC,IAAI,EAAE,6BAA6B;IACnCof,OAAO,EAAE5c;EACX,CAAC;AACH,CAAC;AACD,IAAI2e,+BAA+B,GAAG,SAASA,+BAA+B,CAAC3e,IAAI,EAAE;EACnF,OAAO;IACLxC,IAAI,EAAE,qCAAqC;IAC3Cof,OAAO,EAAE5c;EACX,CAAC;AACH,CAAC;AACD,IAAI4e,IAAI,GAAG,SAASA,IAAI,CAAC5e,IAAI,EAAE;EAC7B,OAAO;IACLxC,IAAI,EAAE,MAAM;IACZof,OAAO,EAAE5c;EACX,CAAC;AACH,CAAC;AACD,IAAI6e,kBAAkB,GAAG,SAASA,kBAAkB,CAAC7e,IAAI,EAAE;EACzD,OAAO;IACLxC,IAAI,EAAE,uBAAuB;IAC7Bof,OAAO,EAAE5c;EACX,CAAC;AACH,CAAC;AACD,IAAI8e,uBAAuB,GAAG,SAASA,uBAAuB,CAAC9e,IAAI,EAAE;EACnE,OAAO;IACLxC,IAAI,EAAE,4BAA4B;IAClCof,OAAO,EAAE5c;EACX,CAAC;AACH,CAAC;AACD,IAAI+e,MAAM,GAAG,SAASA,MAAM,GAAG;EAC7B,OAAO;IACLvhB,IAAI,EAAE,SAAS;IACfof,OAAO,EAAE;EACX,CAAC;AACH,CAAC;AACD,IAAIoC,QAAQ,GAAG,SAASA,QAAQ,GAAG;EACjC,OAAO;IACLxhB,IAAI,EAAE,WAAW;IACjBof,OAAO,EAAE;EACX,CAAC;AACH,CAAC;AACD,IAAIqC,SAAS,GAAG,SAASA,SAAS,GAAG;EACnC,OAAO;IACLzhB,IAAI,EAAE,YAAY;IAClBof,OAAO,EAAE;EACX,CAAC;AACH,CAAC;AACD,IAAIsC,QAAQ,GAAG,SAASA,QAAQ,GAAG;EACjC,OAAO;IACL1hB,IAAI,EAAE,WAAW;IACjBof,OAAO,EAAE;EACX,CAAC;AACH,CAAC;AACD,IAAIuC,KAAK,GAAG,SAASA,KAAK,GAAG;EAC3B,OAAO;IACL3hB,IAAI,EAAE,OAAO;IACbof,OAAO,EAAE;EACX,CAAC;AACH,CAAC;AACD,IAAIwC,WAAW,GAAG,SAASA,WAAW,CAACpf,IAAI,EAAE;EAC3C,OAAO;IACLxC,IAAI,EAAE,cAAc;IACpBof,OAAO,EAAE5c;EACX,CAAC;AACH,CAAC;AACD,IAAIqf,YAAY,GAAG,SAASA,YAAY,CAACrf,IAAI,EAAE;EAC7C,OAAO;IACLxC,IAAI,EAAE,eAAe;IACrBof,OAAO,EAAE5c;EACX,CAAC;AACH,CAAC;AACD,IAAIsf,IAAI,GAAG,SAASA,IAAI,CAACtf,IAAI,EAAE;EAC7B,OAAO;IACLxC,IAAI,EAAE,MAAM;IACZof,OAAO,EAAE5c;EACX,CAAC;AACH,CAAC;AACD,IAAIgc,WAAW,GAAG,SAASA,WAAW,CAAChc,IAAI,EAAE;EAC3C,OAAO;IACLxC,IAAI,EAAE,cAAc;IACpBof,OAAO,EAAE5c;EACX,CAAC;AACH,CAAC;AACD,IAAIuf,qBAAqB,GAAG,SAASA,qBAAqB,GAAG;EAC3D,OAAO;IACL/hB,IAAI,EAAE,yBAAyB;IAC/Bof,OAAO,EAAE;EACX,CAAC;AACH,CAAC;AAED,SAAS4C,YAAY,CAACvW,iBAAiB,EAAE;EACvC,IAAIA,iBAAiB,CAAClJ,MAAM,IAAI,CAAC,EAAE;IACjC;EACF;EAEA,IAAI0f,OAAO,GAAGxW,iBAAiB,CAACxK,GAAG,CAAC,UAAUkL,CAAC,EAAE;IAC/C,OAAOA,CAAC,CAAC9B,UAAU,CAACnG,KAAK;EAC3B,CAAC,CAAC;EACF,IAAIge,MAAM,GAAG,CAAC,CAAC;EAEf,KAAK,IAAItY,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGqY,OAAO,CAAC1f,MAAM,EAAEqH,CAAC,EAAE,EAAE;IACvC,IAAIL,OAAO,GAAG0Y,OAAO,CAACrY,CAAC,CAAC;IACxB,IAAIQ,QAAQ,GAAG6X,OAAO,CAACrY,CAAC,GAAG,CAAC,CAAC;IAE7B,IAAIL,OAAO,KAAKa,QAAQ,GAAG,CAAC,EAAE;MAC5B8X,MAAM,CAAC3Y,OAAO,CAAC,GAAG,IAAI;IACxB;EACF;EAEA,IAAI,CAAC5K,YAAY,CAACujB,MAAM,CAAC,CAAC3f,MAAM,EAAE;IAChC;EACF;EAEA,IAAI4f,SAAS,GAAGF,OAAO,CAAChhB,GAAG,CAAC,UAAUiD,KAAK,EAAE;IAC3C,IAAIke,QAAQ,GAAG7R,OAAO,CAAC2R,MAAM,CAAChe,KAAK,CAAC,CAAC;IACrC,OAAOke,QAAQ,GAAG,eAAe,GAAGle,KAAK,GAAG,GAAG,GAAG,EAAE,GAAGA,KAAK;EAC9D,CAAC,CAAC,CAACme,IAAI,CAAC,IAAI,CAAC;EACbnjB,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,GAAGiB,OAAO,CAAC,uGAAuG,GAAG8hB,SAAS,GAAG,MAAM,CAAC,GAAG,KAAK,CAAC;AACxL;AAEA,SAASG,kBAAkB,CAAChK,QAAQ,EAAEH,UAAU,EAAE;EAChD,IAAIjZ,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,EAAE;IACzC,IAAIqM,iBAAiB,GAAGf,4BAA4B,CAAC4N,QAAQ,CAACrP,SAAS,CAACpE,EAAE,EAAEsT,UAAU,CAAC5N,UAAU,CAAC;IAClGyX,YAAY,CAACvW,iBAAiB,CAAC;EACjC;AACF;AAEA,IAAI8W,MAAM,GAAI,SAAVA,MAAM,CAAcC,OAAO,EAAE;EAC/B,OAAO,UAAUlc,IAAI,EAAE;IACrB,IAAImc,QAAQ,GAAGnc,IAAI,CAACmc,QAAQ;MACxBC,QAAQ,GAAGpc,IAAI,CAACoc,QAAQ;IAC5B,OAAO,UAAUC,IAAI,EAAE;MACrB,OAAO,UAAUzD,MAAM,EAAE;QACvB,IAAIA,MAAM,CAAClf,IAAI,KAAK,MAAM,EAAE;UAC1B2iB,IAAI,CAACzD,MAAM,CAAC;UACZ;QACF;QAEA,IAAIC,eAAe,GAAGD,MAAM,CAACE,OAAO;UAChCva,EAAE,GAAGsa,eAAe,CAACta,EAAE;UACvB+P,eAAe,GAAGuK,eAAe,CAACvK,eAAe;UACjD+G,YAAY,GAAGwD,eAAe,CAACxD,YAAY;QAC/C,IAAItS,OAAO,GAAGoZ,QAAQ,EAAE;QAExB,IAAIpZ,OAAO,CAACuP,KAAK,KAAK,gBAAgB,EAAE;UACtC8J,QAAQ,CAACb,YAAY,CAAC;YACpB9C,SAAS,EAAE1V,OAAO,CAAC0V;UACrB,CAAC,CAAC,CAAC;QACL;QAEA,EAAE0D,QAAQ,EAAE,CAAC7J,KAAK,KAAK,MAAM,CAAC,GAAG1Z,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,GAAG4C,SAAS,CAAC,KAAK,EAAE,kCAAkC,CAAC,GAAGA,SAAS,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC;QACzJ0gB,QAAQ,CAACf,KAAK,EAAE,CAAC;QACjBe,QAAQ,CAAC9B,oBAAoB,CAAC;UAC5B5b,WAAW,EAAEH,EAAE;UACf8W,YAAY,EAAEA;QAChB,CAAC,CAAC,CAAC;QACH,IAAIiH,aAAa,GAAG;UAClBC,wBAAwB,EAAElH,YAAY,KAAK;QAC7C,CAAC;QACD,IAAImH,OAAO,GAAG;UACZ9d,WAAW,EAAEH,EAAE;UACf+d,aAAa,EAAEA;QACjB,CAAC;QAED,IAAIG,qBAAqB,GAAGP,OAAO,CAACQ,eAAe,CAACF,OAAO,CAAC;UACxDxK,QAAQ,GAAGyK,qBAAqB,CAACzK,QAAQ;UACzCH,UAAU,GAAG4K,qBAAqB,CAAC5K,UAAU;UAC7C1J,QAAQ,GAAGsU,qBAAqB,CAACtU,QAAQ;QAE7C6T,kBAAkB,CAAChK,QAAQ,EAAEH,UAAU,CAAC;QACxCuK,QAAQ,CAAC5B,cAAc,CAAC;UACtBxI,QAAQ,EAAEA,QAAQ;UAClBH,UAAU,EAAEA,UAAU;UACtBvD,eAAe,EAAEA,eAAe;UAChC+G,YAAY,EAAEA,YAAY;UAC1BlN,QAAQ,EAAEA;QACZ,CAAC,CAAC,CAAC;MACL,CAAC;IACH,CAAC;EACH,CAAC;AACH,CAAE;AAEF,IAAIkO,KAAK,GAAI,SAATA,KAAK,CAAc6F,OAAO,EAAE;EAC9B,OAAO,YAAY;IACjB,OAAO,UAAUG,IAAI,EAAE;MACrB,OAAO,UAAUzD,MAAM,EAAE;QACvB,IAAIA,MAAM,CAAClf,IAAI,KAAK,iBAAiB,EAAE;UACrCwiB,OAAO,CAACS,QAAQ,EAAE;QACpB;QAEA,IAAI/D,MAAM,CAAClf,IAAI,KAAK,cAAc,EAAE;UAClCwiB,OAAO,CAACU,QAAQ,CAAChE,MAAM,CAACE,OAAO,CAACL,SAAS,CAACzZ,MAAM,CAACC,MAAM,CAAC;QAC1D;QAEA,IAAI2Z,MAAM,CAAClf,IAAI,KAAK,OAAO,IAAIkf,MAAM,CAAClf,IAAI,KAAK,eAAe,EAAE;UAC9DwiB,OAAO,CAACW,OAAO,EAAE;QACnB;QAEAR,IAAI,CAACzD,MAAM,CAAC;MACd,CAAC;IACH,CAAC;EACH,CAAC;AACH,CAAE;AAEF,IAAIkE,MAAM,GAAG;EACXC,WAAW,EAAE,4BAA4B;EACzCvB,IAAI,EAAE;AACR,CAAC;AACD,IAAIhd,OAAO,GAAG;EACZwe,OAAO,EAAE;IACPxB,IAAI,EAAE,CAAC;IACPyB,SAAS,EAAE;EACb,CAAC;EACDC,KAAK,EAAE;IACL1B,IAAI,EAAE;EACR;AACF,CAAC;AACD,IAAI2B,OAAO,GAAG;EACZJ,WAAW,EAAE,GAAG;EAChBK,WAAW,EAAE,IAAI;EACjBC,WAAW,EAAE;AACf,CAAC;AACD,IAAIC,iBAAiB,GAAGH,OAAO,CAACJ,WAAW,GAAG,IAAI,GAAGD,MAAM,CAACC,WAAW;AACvE,IAAIQ,WAAW,GAAG;EAChBC,KAAK,EAAE,UAAU,GAAGF,iBAAiB;EACrCG,IAAI,EAAE,YAAY,GAAGH,iBAAiB,GAAG,YAAY,GAAGA,iBAAiB;EACzE9B,IAAI,EAAE,SAASA,IAAI,CAACkC,QAAQ,EAAE;IAC5B,IAAIC,MAAM,GAAGD,QAAQ,GAAG,IAAI,GAAGZ,MAAM,CAACtB,IAAI;IAC1C,OAAO,YAAY,GAAGmC,MAAM,GAAG,YAAY,GAAGA,MAAM;EACtD,CAAC;EACDZ,WAAW,EAAE,YAAY,GAAGO,iBAAiB;EAC7C1G,WAAW,EAAE,SAAS,GAAG0G,iBAAiB,GAAG,UAAU,GAAGA,iBAAiB,GAAG,WAAW,GAAGA;AAC9F,CAAC;AAED,IAAIM,MAAM,GAAG,SAASA,MAAM,CAAC9lB,MAAM,EAAE;EACnC,OAAO4H,OAAO,CAAC5H,MAAM,EAAEqH,MAAM,CAAC,GAAG,IAAI,GAAG,YAAY,GAAGrH,MAAM,CAACsH,CAAC,GAAG,MAAM,GAAGtH,MAAM,CAACuH,CAAC,GAAG,KAAK;AAC7F,CAAC;AAED,IAAIwe,UAAU,GAAG;EACfD,MAAM,EAAEA,MAAM;EACdpC,IAAI,EAAE,SAASA,IAAI,CAAC1jB,MAAM,EAAEgmB,WAAW,EAAE;IACvC,IAAIC,SAAS,GAAGH,MAAM,CAAC9lB,MAAM,CAAC;IAE9B,IAAI,CAACimB,SAAS,EAAE;MACd,OAAO,IAAI;IACb;IAEA,IAAI,CAACD,WAAW,EAAE;MAChB,OAAOC,SAAS;IAClB;IAEA,OAAOA,SAAS,GAAG,SAAS,GAAGvf,OAAO,CAAC0e,KAAK,CAAC1B,IAAI,GAAG,GAAG;EACzD;AACF,CAAC;AAED,IAAI4B,WAAW,GAAGD,OAAO,CAACC,WAAW;EACjCC,WAAW,GAAGF,OAAO,CAACE,WAAW;AACrC,IAAIW,aAAa,GAAGX,WAAW,GAAGD,WAAW;AAC7C,IAAIa,qBAAqB,GAAG,IAAI;AAChC,IAAIC,kBAAkB,GAAG,GAAG;AAC5B,IAAIC,eAAe,GAAI,SAAnBA,eAAe,CAAcne,IAAI,EAAE;EACrC,IAAIiD,OAAO,GAAGjD,IAAI,CAACiD,OAAO;IACtBhF,WAAW,GAAG+B,IAAI,CAAC/B,WAAW;IAC9BgB,MAAM,GAAGe,IAAI,CAACf,MAAM;EACxB,IAAImf,UAAU,GAAGne,QAAQ,CAACgD,OAAO,EAAEhF,WAAW,CAAC;EAE/C,IAAImgB,UAAU,IAAI,CAAC,EAAE;IACnB,OAAOhB,WAAW;EACpB;EAEA,IAAIgB,UAAU,IAAIH,qBAAqB,EAAE;IACvC,OAAOZ,WAAW;EACpB;EAEA,IAAIgB,UAAU,GAAGD,UAAU,GAAGH,qBAAqB;EACnD,IAAIP,QAAQ,GAAGN,WAAW,GAAGY,aAAa,GAAGK,UAAU;EACvD,IAAIC,YAAY,GAAGrf,MAAM,KAAK,QAAQ,GAAGye,QAAQ,GAAGQ,kBAAkB,GAAGR,QAAQ;EACjF,OAAOa,MAAM,CAACD,YAAY,CAAClI,OAAO,CAAC,CAAC,CAAC,CAAC;AACxC,CAAE;AAEF,IAAIoI,sBAAsB,GAAI,SAA1BA,sBAAsB,CAAcxe,IAAI,EAAE;EAC5C,IAAI2E,MAAM,GAAG3E,IAAI,CAAC2E,MAAM;IACpBL,SAAS,GAAGtE,IAAI,CAACsE,SAAS;IAC1BuN,UAAU,GAAG7R,IAAI,CAAC6R,UAAU;IAC5B1J,QAAQ,GAAGnI,IAAI,CAACmI,QAAQ;IACxB6B,aAAa,GAAGhK,IAAI,CAACgK,aAAa;EACtC,IAAI/F,UAAU,GAAG4N,UAAU,CAAC5N,UAAU;IAClCL,UAAU,GAAGiO,UAAU,CAACjO,UAAU;EACtC,IAAIzF,WAAW,GAAGqT,iBAAiB,CAAC7M,MAAM,CAAC;EAC3C,IAAI1G,WAAW,GAAGE,WAAW,GAAGyF,UAAU,CAACzF,WAAW,CAAC,GAAG,IAAI;EAC9D,IAAI4T,IAAI,GAAGnO,UAAU,CAACU,SAAS,CAACP,UAAU,CAAC5F,WAAW,CAAC;EACvD,IAAIsgB,eAAe,GAAGtJ,wBAAwB,CAAC;IAC7CxQ,MAAM,EAAEA,MAAM;IACdL,SAAS,EAAEA,SAAS;IACpBL,UAAU,EAAEA,UAAU;IACtB+F,aAAa,EAAEA,aAAa;IAC5BrH,SAAS,EAAE1E,WAAW,IAAI8T,IAAI;IAC9B5J,QAAQ,EAAEA;EACZ,CAAC,CAAC;EACF,IAAIrQ,MAAM,GAAG2H,QAAQ,CAACgf,eAAe,EAAEna,SAAS,CAACoJ,MAAM,CAACvC,SAAS,CAACD,MAAM,CAAC;EACzE,OAAOpT,MAAM;AACf,CAAE;AAEF,IAAI4mB,aAAa,GAAI,SAAjBA,aAAa,CAAc1e,IAAI,EAAE;EACnC,IAAIiE,UAAU,GAAGjE,IAAI,CAACiE,UAAU;IAC5BhF,MAAM,GAAGe,IAAI,CAACf,MAAM;IACpB0f,UAAU,GAAG3e,IAAI,CAAC2e,UAAU;IAC5B5M,IAAI,GAAG/R,IAAI,CAAC+R,IAAI;IAChB5J,QAAQ,GAAGnI,IAAI,CAACmI,QAAQ;IACxB6P,YAAY,GAAGhY,IAAI,CAACgY,YAAY;EAEpC,IAAI,CAAC2G,UAAU,CAAC/Z,EAAE,IAAI3F,MAAM,KAAK,MAAM,EAAE;IACvC,IAAI2f,oBAAoB,GAAG1J,SAAS,CAAC;MACnCjR,UAAU,EAAEA,UAAU;MACtBU,MAAM,EAAEqT,YAAY;MACpB/Z,WAAW,EAAE8T,IAAI;MACjB5J,QAAQ,EAAEA,QAAQ;MAClBS,kBAAkB,EAAE;IACtB,CAAC,CAAC;IACF,OAAO;MACLjE,MAAM,EAAEia,oBAAoB;MAC5BC,sBAAsB,EAAE;IAC1B,CAAC;EACH;EAEA,IAAIF,UAAU,CAAC/Z,EAAE,CAAClL,IAAI,KAAK,SAAS,EAAE;IACpC,OAAO;MACLiL,MAAM,EAAEga,UAAU;MAClBE,sBAAsB,EAAE;IAC1B,CAAC;EACH;EAEA,IAAIC,eAAe,GAAG1nB,QAAQ,CAAC,CAAC,CAAC,EAAEunB,UAAU,EAAE;IAC7CnZ,SAAS,EAAEU;EACb,CAAC,CAAC;EAEF,OAAO;IACLvB,MAAM,EAAEma,eAAe;IACvBD,sBAAsB,EAAE;EAC1B,CAAC;AACH,CAAE;AAEF,IAAIE,MAAM,GAAI,SAAVA,MAAM,CAAc/e,IAAI,EAAE;EAC5B,IAAImc,QAAQ,GAAGnc,IAAI,CAACmc,QAAQ;IACxBC,QAAQ,GAAGpc,IAAI,CAACoc,QAAQ;EAC5B,OAAO,UAAUC,IAAI,EAAE;IACrB,OAAO,UAAUzD,MAAM,EAAE;MACvB,IAAIA,MAAM,CAAClf,IAAI,KAAK,MAAM,EAAE;QAC1B2iB,IAAI,CAACzD,MAAM,CAAC;QACZ;MACF;MAEA,IAAIjH,KAAK,GAAGwK,QAAQ,EAAE;MACtB,IAAIld,MAAM,GAAG2Z,MAAM,CAACE,OAAO,CAAC7Z,MAAM;MAElC,IAAI0S,KAAK,CAACW,KAAK,KAAK,YAAY,EAAE;QAChC8J,QAAQ,CAAClE,WAAW,CAAC;UACnBjZ,MAAM,EAAEA;QACV,CAAC,CAAC,CAAC;QACH;MACF;MAEA,IAAI0S,KAAK,CAACW,KAAK,KAAK,MAAM,EAAE;QAC1B;MACF;MAEA,IAAI0M,gBAAgB,GAAGrN,KAAK,CAACW,KAAK,KAAK,cAAc,IAAIX,KAAK,CAACwG,SAAS;MACxE,CAAC,CAAC6G,gBAAgB,GAAGpmB,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,GAAG4C,SAAS,CAAC,KAAK,EAAE,6DAA6D,CAAC,GAAGA,SAAS,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC;MACxK,EAAEiW,KAAK,CAACW,KAAK,KAAK,UAAU,IAAIX,KAAK,CAACW,KAAK,KAAK,cAAc,CAAC,GAAG1Z,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,GAAG4C,SAAS,CAAC,KAAK,EAAE,wBAAwB,GAAGiW,KAAK,CAACW,KAAK,CAAC,GAAG5W,SAAS,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC;MAC9L,IAAIsW,QAAQ,GAAGL,KAAK,CAACK,QAAQ;MAC7B,IAAIH,UAAU,GAAGF,KAAK,CAACE,UAAU;MACjC,IAAIvN,SAAS,GAAGuN,UAAU,CAAC5N,UAAU,CAAC0N,KAAK,CAACK,QAAQ,CAAC1N,SAAS,CAAC/F,EAAE,CAAC;MAElE,IAAI0gB,cAAc,GAAGP,aAAa,CAAC;UACjCzf,MAAM,EAAEA,MAAM;UACd0f,UAAU,EAAEhN,KAAK,CAAChN,MAAM;UACxBqF,aAAa,EAAE2H,KAAK,CAAC3H,aAAa;UAClCgO,YAAY,EAAErG,KAAK,CAACqG,YAAY;UAChCjG,IAAI,EAAEJ,KAAK,CAACE,UAAU,CAACjO,UAAU,CAAC+N,KAAK,CAACK,QAAQ,CAACrP,SAAS,CAACpE,EAAE,CAAC;UAC9D4J,QAAQ,EAAEwJ,KAAK,CAACxJ,QAAQ;UACxBlE,UAAU,EAAE0N,KAAK,CAACE,UAAU,CAAC5N;QAC/B,CAAC,CAAC;QACEU,MAAM,GAAGsa,cAAc,CAACta,MAAM;QAC9Bka,sBAAsB,GAAGI,cAAc,CAACJ,sBAAsB;MAElE,IAAI5gB,WAAW,GAAG4gB,sBAAsB,GAAGna,iBAAiB,CAACC,MAAM,CAAC,GAAG,IAAI;MAC3E,IAAInG,OAAO,GAAGqgB,sBAAsB,GAAGha,aAAa,CAACF,MAAM,CAAC,GAAG,IAAI;MACnE,IAAI5G,MAAM,GAAG;QACXH,KAAK,EAAEoU,QAAQ,CAAC1N,SAAS,CAAC1G,KAAK;QAC/BO,WAAW,EAAE6T,QAAQ,CAACrP,SAAS,CAACpE;MAClC,CAAC;MACD,IAAIS,MAAM,GAAG;QACXN,WAAW,EAAE4F,SAAS,CAACP,UAAU,CAACxF,EAAE;QACpC7E,IAAI,EAAE4K,SAAS,CAACP,UAAU,CAACrK,IAAI;QAC/BqE,MAAM,EAAEA,MAAM;QACdkB,MAAM,EAAEA,MAAM;QACd6Q,IAAI,EAAE6B,KAAK,CAAC0D,YAAY;QACxBpX,WAAW,EAAEA,WAAW;QACxBO,OAAO,EAAEA;MACX,CAAC;MACD,IAAI2b,mBAAmB,GAAGqE,sBAAsB,CAAC;QAC/C7Z,MAAM,EAAEA,MAAM;QACdL,SAAS,EAAEA,SAAS;QACpBuN,UAAU,EAAEA,UAAU;QACtB1J,QAAQ,EAAEwJ,KAAK,CAACxJ,QAAQ;QACxB6B,aAAa,EAAE2H,KAAK,CAAC3H;MACvB,CAAC,CAAC;MACF,IAAIyO,SAAS,GAAG;QACdzG,QAAQ,EAAEL,KAAK,CAACK,QAAQ;QACxBhI,aAAa,EAAE2H,KAAK,CAAC3H,aAAa;QAClChL,MAAM,EAAEA,MAAM;QACd2F,MAAM,EAAEA;MACV,CAAC;MACD,IAAIua,mBAAmB,GAAG,CAACxf,OAAO,CAACiS,KAAK,CAAC1O,OAAO,CAACyK,MAAM,CAAC5V,MAAM,EAAEqiB,mBAAmB,CAAC,IAAIlQ,OAAO,CAACjL,MAAM,CAACR,OAAO,CAAC;MAE/G,IAAI,CAAC0gB,mBAAmB,EAAE;QACxB9C,QAAQ,CAACb,YAAY,CAAC;UACpB9C,SAAS,EAAEA;QACb,CAAC,CAAC,CAAC;QACH;MACF;MAEA,IAAIyB,YAAY,GAAGiE,eAAe,CAAC;QACjClb,OAAO,EAAE0O,KAAK,CAAC1O,OAAO,CAACyK,MAAM,CAAC5V,MAAM;QACpCmG,WAAW,EAAEkc,mBAAmB;QAChClb,MAAM,EAAEA;MACV,CAAC,CAAC;MACF,IAAI/C,IAAI,GAAG;QACTie,mBAAmB,EAAEA,mBAAmB;QACxCD,YAAY,EAAEA,YAAY;QAC1BzB,SAAS,EAAEA;MACb,CAAC;MACD2D,QAAQ,CAACd,WAAW,CAACpf,IAAI,CAAC,CAAC;IAC7B,CAAC;EACH,CAAC;AACH,CAAE;AAEF,IAAIijB,eAAe,GAAI,SAAnBA,eAAe,GAAgB;EACjC,OAAO;IACL/f,CAAC,EAAExF,MAAM,CAACwlB,WAAW;IACrB/f,CAAC,EAAEzF,MAAM,CAACylB;EACZ,CAAC;AACH,CAAE;AAEF,SAASC,sBAAsB,CAAC1gB,MAAM,EAAE;EACtC,OAAO;IACL7D,SAAS,EAAE,QAAQ;IACnBF,OAAO,EAAE;MACP0kB,OAAO,EAAE,IAAI;MACbC,OAAO,EAAE;IACX,CAAC;IACDxkB,EAAE,EAAE,SAASA,EAAE,CAACyB,KAAK,EAAE;MACrB,IAAIA,KAAK,CAAC6D,MAAM,KAAK1G,MAAM,IAAI6C,KAAK,CAAC6D,MAAM,KAAK1G,MAAM,CAAC6lB,QAAQ,EAAE;QAC/D;MACF;MAEA7gB,MAAM,EAAE;IACV;EACF,CAAC;AACH;AAEA,SAAS8gB,iBAAiB,CAAC1f,IAAI,EAAE;EAC/B,IAAI2f,cAAc,GAAG3f,IAAI,CAAC2f,cAAc;EAExC,SAASC,YAAY,GAAG;IACtBD,cAAc,CAACR,eAAe,EAAE,CAAC;EACnC;EAEA,IAAIU,SAAS,GAAGvnB,OAAO,CAACsnB,YAAY,CAAC;EACrC,IAAIhlB,OAAO,GAAG0kB,sBAAsB,CAACO,SAAS,CAAC;EAC/C,IAAI5kB,MAAM,GAAGf,IAAI;EAEjB,SAAS4lB,QAAQ,GAAG;IAClB,OAAO7kB,MAAM,KAAKf,IAAI;EACxB;EAEA,SAAS4D,KAAK,GAAG;IACf,CAAC,CAACgiB,QAAQ,EAAE,GAAGlnB,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,GAAG4C,SAAS,CAAC,KAAK,EAAE,kDAAkD,CAAC,GAAGA,SAAS,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC;IACvJT,MAAM,GAAGX,UAAU,CAACV,MAAM,EAAE,CAACgB,OAAO,CAAC,CAAC;EACxC;EAEA,SAASmlB,IAAI,GAAG;IACd,CAACD,QAAQ,EAAE,GAAGlnB,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,GAAG4C,SAAS,CAAC,KAAK,EAAE,6CAA6C,CAAC,GAAGA,SAAS,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC;IACjJmkB,SAAS,CAACG,MAAM,EAAE;IAClB/kB,MAAM,EAAE;IACRA,MAAM,GAAGf,IAAI;EACf;EAEA,OAAO;IACL4D,KAAK,EAAEA,KAAK;IACZiiB,IAAI,EAAEA,IAAI;IACVD,QAAQ,EAAEA;EACZ,CAAC;AACH;AAEA,IAAIG,SAAS,GAAG,SAASA,SAAS,CAACrH,MAAM,EAAE;EACzC,OAAOA,MAAM,CAAClf,IAAI,KAAK,eAAe,IAAIkf,MAAM,CAAClf,IAAI,KAAK,cAAc,IAAIkf,MAAM,CAAClf,IAAI,KAAK,OAAO;AACrG,CAAC;AAED,IAAIwmB,cAAc,GAAI,SAAlBA,cAAc,CAAcC,KAAK,EAAE;EACrC,IAAIC,QAAQ,GAAGV,iBAAiB,CAAC;IAC/BC,cAAc,EAAE,SAASA,cAAc,CAAC/c,SAAS,EAAE;MACjDud,KAAK,CAAC/D,QAAQ,CAACrB,kBAAkB,CAAC;QAChCnY,SAAS,EAAEA;MACb,CAAC,CAAC,CAAC;IACL;EACF,CAAC,CAAC;EACF,OAAO,UAAUyZ,IAAI,EAAE;IACrB,OAAO,UAAUzD,MAAM,EAAE;MACvB,IAAI,CAACwH,QAAQ,CAACN,QAAQ,EAAE,IAAIlH,MAAM,CAAClf,IAAI,KAAK,iBAAiB,EAAE;QAC7D0mB,QAAQ,CAACtiB,KAAK,EAAE;MAClB;MAEA,IAAIsiB,QAAQ,CAACN,QAAQ,EAAE,IAAIG,SAAS,CAACrH,MAAM,CAAC,EAAE;QAC5CwH,QAAQ,CAACL,IAAI,EAAE;MACjB;MAEA1D,IAAI,CAACzD,MAAM,CAAC;IACd,CAAC;EACH,CAAC;AACH,CAAE;AAEF,IAAIyH,mBAAmB,GAAI,SAAvBA,mBAAmB,CAAcC,QAAQ,EAAE;EAC7C,IAAIC,SAAS,GAAG,KAAK;EACrB,IAAIC,SAAS,GAAG,KAAK;EACrB,IAAIC,SAAS,GAAGC,UAAU,CAAC,YAAY;IACrCF,SAAS,GAAG,IAAI;EAClB,CAAC,CAAC;EAEF,IAAIxhB,MAAM,GAAG,SAASA,MAAM,CAAC1F,OAAO,EAAE;IACpC,IAAIinB,SAAS,EAAE;MACb3nB,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,GAAGiB,OAAO,CAAC,6DAA6D,CAAC,GAAG,KAAK,CAAC;MACvH;IACF;IAEA,IAAIymB,SAAS,EAAE;MACb5nB,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,GAAGiB,OAAO,CAAC,qHAAqH,CAAC,GAAG,KAAK,CAAC;MAC/K;IACF;IAEAwmB,SAAS,GAAG,IAAI;IAChBD,QAAQ,CAAChnB,OAAO,CAAC;IACjBqnB,YAAY,CAACF,SAAS,CAAC;EACzB,CAAC;EAEDzhB,MAAM,CAACuhB,SAAS,GAAG,YAAY;IAC7B,OAAOA,SAAS;EAClB,CAAC;EAED,OAAOvhB,MAAM;AACf,CAAE;AAEF,IAAI4hB,eAAe,GAAI,SAAnBA,eAAe,GAAgB;EACjC,IAAIC,OAAO,GAAG,EAAE;EAEhB,IAAIC,OAAO,GAAG,SAASA,OAAO,CAACC,OAAO,EAAE;IACtC,IAAInjB,KAAK,GAAGuF,SAAS,CAAC0d,OAAO,EAAE,UAAU7b,IAAI,EAAE;MAC7C,OAAOA,IAAI,CAAC+b,OAAO,KAAKA,OAAO;IACjC,CAAC,CAAC;IACF,EAAEnjB,KAAK,KAAK,CAAC,CAAC,CAAC,GAAGhF,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,GAAG4C,SAAS,CAAC,KAAK,EAAE,sBAAsB,CAAC,GAAGA,SAAS,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC;IAE9H,IAAIslB,eAAe,GAAGH,OAAO,CAACI,MAAM,CAACrjB,KAAK,EAAE,CAAC,CAAC;MAC1CsjB,KAAK,GAAGF,eAAe,CAAC,CAAC,CAAC;IAE9BE,KAAK,CAACC,QAAQ,EAAE;EAClB,CAAC;EAED,IAAI7hB,GAAG,GAAG,SAASA,GAAG,CAACtE,EAAE,EAAE;IACzB,IAAI+lB,OAAO,GAAGL,UAAU,CAAC,YAAY;MACnC,OAAOI,OAAO,CAACC,OAAO,CAAC;IACzB,CAAC,CAAC;IACF,IAAIG,KAAK,GAAG;MACVH,OAAO,EAAEA,OAAO;MAChBI,QAAQ,EAAEnmB;IACZ,CAAC;IACD6lB,OAAO,CAAC1X,IAAI,CAAC+X,KAAK,CAAC;EACrB,CAAC;EAED,IAAI7F,KAAK,GAAG,SAASA,KAAK,GAAG;IAC3B,IAAI,CAACwF,OAAO,CAAC5kB,MAAM,EAAE;MACnB;IACF;IAEA,IAAImlB,OAAO,GAAG,EAAE,CAAC9kB,MAAM,CAACukB,OAAO,CAAC;IAChCA,OAAO,CAAC5kB,MAAM,GAAG,CAAC;IAClBmlB,OAAO,CAAChmB,OAAO,CAAC,UAAU8lB,KAAK,EAAE;MAC/BP,YAAY,CAACO,KAAK,CAACH,OAAO,CAAC;MAC3BG,KAAK,CAACC,QAAQ,EAAE;IAClB,CAAC,CAAC;EACJ,CAAC;EAED,OAAO;IACL7hB,GAAG,EAAEA,GAAG;IACR+b,KAAK,EAAEA;EACT,CAAC;AACH,CAAE;AAEF,IAAIgG,iBAAiB,GAAG,SAASA,iBAAiB,CAACrS,KAAK,EAAEC,MAAM,EAAE;EAChE,IAAID,KAAK,IAAI,IAAI,IAAIC,MAAM,IAAI,IAAI,EAAE;IACnC,OAAO,IAAI;EACb;EAEA,IAAID,KAAK,IAAI,IAAI,IAAIC,MAAM,IAAI,IAAI,EAAE;IACnC,OAAO,KAAK;EACd;EAEA,OAAOD,KAAK,CAAC7Q,WAAW,KAAK8Q,MAAM,CAAC9Q,WAAW,IAAI6Q,KAAK,CAACpR,KAAK,KAAKqR,MAAM,CAACrR,KAAK;AACjF,CAAC;AACD,IAAI0jB,cAAc,GAAG,SAASA,cAAc,CAACtS,KAAK,EAAEC,MAAM,EAAE;EAC1D,IAAID,KAAK,IAAI,IAAI,IAAIC,MAAM,IAAI,IAAI,EAAE;IACnC,OAAO,IAAI;EACb;EAEA,IAAID,KAAK,IAAI,IAAI,IAAIC,MAAM,IAAI,IAAI,EAAE;IACnC,OAAO,KAAK;EACd;EAEA,OAAOD,KAAK,CAACtQ,WAAW,KAAKuQ,MAAM,CAACvQ,WAAW,IAAIsQ,KAAK,CAAC7Q,WAAW,KAAK8Q,MAAM,CAAC9Q,WAAW;AAC7F,CAAC;AACD,IAAIojB,eAAe,GAAG,SAASA,eAAe,CAACvS,KAAK,EAAEC,MAAM,EAAE;EAC5D,IAAID,KAAK,KAAKC,MAAM,EAAE;IACpB,OAAO,IAAI;EACb;EAEA,IAAIuS,gBAAgB,GAAGxS,KAAK,CAAC1K,SAAS,CAAC/F,EAAE,KAAK0Q,MAAM,CAAC3K,SAAS,CAAC/F,EAAE,IAAIyQ,KAAK,CAAC1K,SAAS,CAACnG,WAAW,KAAK8Q,MAAM,CAAC3K,SAAS,CAACnG,WAAW,IAAI6Q,KAAK,CAAC1K,SAAS,CAAC5K,IAAI,KAAKuV,MAAM,CAAC3K,SAAS,CAAC5K,IAAI,IAAIsV,KAAK,CAAC1K,SAAS,CAAC1G,KAAK,KAAKqR,MAAM,CAAC3K,SAAS,CAAC1G,KAAK;EACvO,IAAI6jB,gBAAgB,GAAGzS,KAAK,CAACrM,SAAS,CAACpE,EAAE,KAAK0Q,MAAM,CAACtM,SAAS,CAACpE,EAAE,IAAIyQ,KAAK,CAACrM,SAAS,CAACjJ,IAAI,KAAKuV,MAAM,CAACtM,SAAS,CAACjJ,IAAI;EACnH,OAAO8nB,gBAAgB,IAAIC,gBAAgB;AAC7C,CAAC;AAED,IAAIC,WAAW,GAAG,SAASA,WAAW,CAAC3L,GAAG,EAAE/a,EAAE,EAAE;EAC9C8C,KAAK,CAACiY,GAAG,CAAC;EACV/a,EAAE,EAAE;EACJib,MAAM,CAACF,GAAG,CAAC;AACb,CAAC;AAED,IAAI4L,YAAY,GAAG,SAASA,YAAY,CAAC3P,QAAQ,EAAElC,IAAI,EAAE;EACvD,OAAO;IACLpR,WAAW,EAAEsT,QAAQ,CAAC1N,SAAS,CAAC/F,EAAE;IAClC7E,IAAI,EAAEsY,QAAQ,CAACrP,SAAS,CAACjJ,IAAI;IAC7BqE,MAAM,EAAE;MACNI,WAAW,EAAE6T,QAAQ,CAACrP,SAAS,CAACpE,EAAE;MAClCX,KAAK,EAAEoU,QAAQ,CAAC1N,SAAS,CAAC1G;IAC5B,CAAC;IACDkS,IAAI,EAAEA;EACR,CAAC;AACH,CAAC;AAED,IAAIgR,OAAO,GAAG,SAASA,OAAO,CAACc,SAAS,EAAEC,IAAI,EAAEvB,QAAQ,EAAEwB,iBAAiB,EAAE;EAC3E,IAAI,CAACF,SAAS,EAAE;IACdtB,QAAQ,CAACwB,iBAAiB,CAACD,IAAI,CAAC,CAAC;IACjC;EACF;EAEA,IAAIE,UAAU,GAAG1B,mBAAmB,CAACC,QAAQ,CAAC;EAC9C,IAAI0B,QAAQ,GAAG;IACb1B,QAAQ,EAAEyB;EACZ,CAAC;EACDH,SAAS,CAACC,IAAI,EAAEG,QAAQ,CAAC;EAEzB,IAAI,CAACD,UAAU,CAACxB,SAAS,EAAE,EAAE;IAC3BD,QAAQ,CAACwB,iBAAiB,CAACD,IAAI,CAAC,CAAC;EACnC;AACF,CAAC;AAED,IAAII,YAAY,GAAI,SAAhBA,YAAY,CAAcC,aAAa,EAAE5B,QAAQ,EAAE;EACrD,IAAI6B,YAAY,GAAGvB,eAAe,EAAE;EACpC,IAAIjE,QAAQ,GAAG,IAAI;EAEnB,IAAIyF,aAAa,GAAG,SAASA,aAAa,CAAC1jB,WAAW,EAAEoR,IAAI,EAAE;IAC5D,CAAC,CAAC6M,QAAQ,GAAG/jB,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,GAAG4C,SAAS,CAAC,KAAK,EAAE,wEAAwE,CAAC,GAAGA,SAAS,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC;IAC3KgmB,WAAW,CAAC,iBAAiB,EAAE,YAAY;MACzC,IAAI1mB,EAAE,GAAGknB,aAAa,EAAE,CAACG,eAAe;MAExC,IAAIrnB,EAAE,EAAE;QACN,IAAI+K,MAAM,GAAG;UACXrH,WAAW,EAAEA,WAAW;UACxBoR,IAAI,EAAEA;QACR,CAAC;QACD9U,EAAE,CAAC+K,MAAM,CAAC;MACZ;IACF,CAAC,CAAC;EACJ,CAAC;EAED,IAAIuc,WAAW,GAAG,SAASA,WAAW,CAACtQ,QAAQ,EAAElC,IAAI,EAAE;IACrD,CAAC,CAAC6M,QAAQ,GAAG/jB,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,GAAG4C,SAAS,CAAC,KAAK,EAAE,0EAA0E,CAAC,GAAGA,SAAS,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC;IAC7KgmB,WAAW,CAAC,mBAAmB,EAAE,YAAY;MAC3C,IAAI1mB,EAAE,GAAGknB,aAAa,EAAE,CAACK,iBAAiB;MAE1C,IAAIvnB,EAAE,EAAE;QACNA,EAAE,CAAC2mB,YAAY,CAAC3P,QAAQ,EAAElC,IAAI,CAAC,CAAC;MAClC;IACF,CAAC,CAAC;EACJ,CAAC;EAED,IAAIhS,KAAK,GAAG,SAASA,KAAK,CAACkU,QAAQ,EAAElC,IAAI,EAAE;IACzC,CAAC,CAAC6M,QAAQ,GAAG/jB,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,GAAG4C,SAAS,CAAC,KAAK,EAAE,0EAA0E,CAAC,GAAGA,SAAS,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC;IAC7K,IAAImmB,IAAI,GAAGF,YAAY,CAAC3P,QAAQ,EAAElC,IAAI,CAAC;IACvC6M,QAAQ,GAAG;MACT7M,IAAI,EAAEA,IAAI;MACV0S,YAAY,EAAExQ,QAAQ;MACtByQ,YAAY,EAAEZ,IAAI,CAAC9jB,MAAM;MACzB2kB,WAAW,EAAE;IACf,CAAC;IACDP,YAAY,CAAC7iB,GAAG,CAAC,YAAY;MAC3BoiB,WAAW,CAAC,aAAa,EAAE,YAAY;QACrC,OAAOZ,OAAO,CAACoB,aAAa,EAAE,CAACrkB,WAAW,EAAEgkB,IAAI,EAAEvB,QAAQ,EAAEphB,MAAM,CAACrB,WAAW,CAAC;MACjF,CAAC,CAAC;IACJ,CAAC,CAAC;EACJ,CAAC;EAED,IAAIe,MAAM,GAAG,SAASA,MAAM,CAACoT,QAAQ,EAAErN,MAAM,EAAE;IAC7C,IAAI9F,QAAQ,GAAG6F,iBAAiB,CAACC,MAAM,CAAC;IACxC,IAAInG,OAAO,GAAGqG,aAAa,CAACF,MAAM,CAAC;IACnC,CAACgY,QAAQ,GAAG/jB,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,GAAG4C,SAAS,CAAC,KAAK,EAAE,6DAA6D,CAAC,GAAGA,SAAS,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC;IAC/J,IAAIinB,kBAAkB,GAAG,CAACpB,eAAe,CAACvP,QAAQ,EAAE2K,QAAQ,CAAC6F,YAAY,CAAC;IAE1E,IAAIG,kBAAkB,EAAE;MACtBhG,QAAQ,CAAC6F,YAAY,GAAGxQ,QAAQ;IAClC;IAEA,IAAI4Q,kBAAkB,GAAG,CAACvB,iBAAiB,CAAC1E,QAAQ,CAAC8F,YAAY,EAAE5jB,QAAQ,CAAC;IAE5E,IAAI+jB,kBAAkB,EAAE;MACtBjG,QAAQ,CAAC8F,YAAY,GAAG5jB,QAAQ;IAClC;IAEA,IAAIgkB,kBAAkB,GAAG,CAACvB,cAAc,CAAC3E,QAAQ,CAAC+F,WAAW,EAAElkB,OAAO,CAAC;IAEvE,IAAIqkB,kBAAkB,EAAE;MACtBlG,QAAQ,CAAC+F,WAAW,GAAGlkB,OAAO;IAChC;IAEA,IAAI,CAACmkB,kBAAkB,IAAI,CAACC,kBAAkB,IAAI,CAACC,kBAAkB,EAAE;MACrE;IACF;IAEA,IAAIhB,IAAI,GAAGzqB,QAAQ,CAAC,CAAC,CAAC,EAAEuqB,YAAY,CAAC3P,QAAQ,EAAE2K,QAAQ,CAAC7M,IAAI,CAAC,EAAE;MAC7DtR,OAAO,EAAEA,OAAO;MAChBP,WAAW,EAAEY;IACf,CAAC,CAAC;IAEFsjB,YAAY,CAAC7iB,GAAG,CAAC,YAAY;MAC3BoiB,WAAW,CAAC,cAAc,EAAE,YAAY;QACtC,OAAOZ,OAAO,CAACoB,aAAa,EAAE,CAACvjB,YAAY,EAAEkjB,IAAI,EAAEvB,QAAQ,EAAEphB,MAAM,CAACP,YAAY,CAAC;MACnF,CAAC,CAAC;IACJ,CAAC,CAAC;EACJ,CAAC;EAED,IAAI0c,KAAK,GAAG,SAASA,KAAK,GAAG;IAC3B,CAACsB,QAAQ,GAAG/jB,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,GAAG4C,SAAS,CAAC,KAAK,EAAE,0CAA0C,CAAC,GAAGA,SAAS,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC;IAC5IymB,YAAY,CAAC9G,KAAK,EAAE;EACtB,CAAC;EAED,IAAIG,IAAI,GAAG,SAASA,IAAI,CAACxc,MAAM,EAAE;IAC/B,CAAC2d,QAAQ,GAAG/jB,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,GAAG4C,SAAS,CAAC,KAAK,EAAE,6DAA6D,CAAC,GAAGA,SAAS,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC;IAC/JihB,QAAQ,GAAG,IAAI;IACf+E,WAAW,CAAC,WAAW,EAAE,YAAY;MACnC,OAAOZ,OAAO,CAACoB,aAAa,EAAE,CAACnjB,SAAS,EAAEC,MAAM,EAAEshB,QAAQ,EAAEphB,MAAM,CAACH,SAAS,CAAC;IAC/E,CAAC,CAAC;EACJ,CAAC;EAED,IAAI+jB,KAAK,GAAG,SAASA,KAAK,GAAG;IAC3B,IAAI,CAACnG,QAAQ,EAAE;MACb;IACF;IAEA,IAAI3d,MAAM,GAAG5H,QAAQ,CAAC,CAAC,CAAC,EAAEuqB,YAAY,CAAChF,QAAQ,CAAC6F,YAAY,EAAE7F,QAAQ,CAAC7M,IAAI,CAAC,EAAE;MAC5EtR,OAAO,EAAE,IAAI;MACbP,WAAW,EAAE,IAAI;MACjBgB,MAAM,EAAE;IACV,CAAC,CAAC;IAEFuc,IAAI,CAACxc,MAAM,CAAC;EACd,CAAC;EAED,OAAO;IACLojB,aAAa,EAAEA,aAAa;IAC5BE,WAAW,EAAEA,WAAW;IACxBxkB,KAAK,EAAEA,KAAK;IACZc,MAAM,EAAEA,MAAM;IACdyc,KAAK,EAAEA,KAAK;IACZG,IAAI,EAAEA,IAAI;IACVsH,KAAK,EAAEA;EACT,CAAC;AACH,CAAE;AAEF,IAAIC,UAAU,GAAI,SAAdA,UAAU,CAAcb,aAAa,EAAE5B,QAAQ,EAAE;EACnD,IAAI0C,SAAS,GAAGf,YAAY,CAACC,aAAa,EAAE5B,QAAQ,CAAC;EACrD,OAAO,UAAUH,KAAK,EAAE;IACtB,OAAO,UAAU9D,IAAI,EAAE;MACrB,OAAO,UAAUzD,MAAM,EAAE;QACvB,IAAIA,MAAM,CAAClf,IAAI,KAAK,wBAAwB,EAAE;UAC5CspB,SAAS,CAACZ,aAAa,CAACxJ,MAAM,CAACE,OAAO,CAACpa,WAAW,EAAEka,MAAM,CAACE,OAAO,CAACzD,YAAY,CAAC;UAChF;QACF;QAEA,IAAIuD,MAAM,CAAClf,IAAI,KAAK,iBAAiB,EAAE;UACrC,IAAIsY,QAAQ,GAAG4G,MAAM,CAACE,OAAO,CAAC9G,QAAQ;UACtCgR,SAAS,CAACV,WAAW,CAACtQ,QAAQ,EAAE4G,MAAM,CAACE,OAAO,CAACzD,YAAY,CAAC;UAC5DgH,IAAI,CAACzD,MAAM,CAAC;UACZoK,SAAS,CAACllB,KAAK,CAACkU,QAAQ,EAAE4G,MAAM,CAACE,OAAO,CAACzD,YAAY,CAAC;UACtD;QACF;QAEA,IAAIuD,MAAM,CAAClf,IAAI,KAAK,eAAe,EAAE;UACnC,IAAIsF,MAAM,GAAG4Z,MAAM,CAACE,OAAO,CAACL,SAAS,CAACzZ,MAAM;UAC5CgkB,SAAS,CAAC3H,KAAK,EAAE;UACjBgB,IAAI,CAACzD,MAAM,CAAC;UACZoK,SAAS,CAACxH,IAAI,CAACxc,MAAM,CAAC;UACtB;QACF;QAEAqd,IAAI,CAACzD,MAAM,CAAC;QAEZ,IAAIA,MAAM,CAAClf,IAAI,KAAK,OAAO,EAAE;UAC3BspB,SAAS,CAACF,KAAK,EAAE;UACjB;QACF;QAEA,IAAInR,KAAK,GAAGwO,KAAK,CAAChE,QAAQ,EAAE;QAE5B,IAAIxK,KAAK,CAACW,KAAK,KAAK,UAAU,EAAE;UAC9B0Q,SAAS,CAACpkB,MAAM,CAAC+S,KAAK,CAACK,QAAQ,EAAEL,KAAK,CAAChN,MAAM,CAAC;QAChD;MACF,CAAC;IACH,CAAC;EACH,CAAC;AACH,CAAE;AAEF,IAAIse,mBAAmB,GAAI,SAAvBA,mBAAmB,CAAc9C,KAAK,EAAE;EAC1C,OAAO,UAAU9D,IAAI,EAAE;IACrB,OAAO,UAAUzD,MAAM,EAAE;MACvB,IAAIA,MAAM,CAAClf,IAAI,KAAK,yBAAyB,EAAE;QAC7C2iB,IAAI,CAACzD,MAAM,CAAC;QACZ;MACF;MAEA,IAAIjH,KAAK,GAAGwO,KAAK,CAAChE,QAAQ,EAAE;MAC5B,EAAExK,KAAK,CAACW,KAAK,KAAK,gBAAgB,CAAC,GAAG1Z,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,GAAG4C,SAAS,CAAC,KAAK,EAAE,0DAA0D,CAAC,GAAGA,SAAS,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC;MACtLykB,KAAK,CAAC/D,QAAQ,CAACb,YAAY,CAAC;QAC1B9C,SAAS,EAAE9G,KAAK,CAAC8G;MACnB,CAAC,CAAC,CAAC;IACL,CAAC;EACH,CAAC;AACH,CAAE;AAEF,IAAIyK,0BAA0B,GAAI,SAA9BA,0BAA0B,CAAc/C,KAAK,EAAE;EACjD,IAAIllB,MAAM,GAAG,IAAI;EACjB,IAAIkoB,OAAO,GAAG,IAAI;EAElB,SAASC,KAAK,GAAG;IACf,IAAID,OAAO,EAAE;MACXE,oBAAoB,CAACF,OAAO,CAAC;MAC7BA,OAAO,GAAG,IAAI;IAChB;IAEA,IAAIloB,MAAM,EAAE;MACVA,MAAM,EAAE;MACRA,MAAM,GAAG,IAAI;IACf;EACF;EAEA,OAAO,UAAUohB,IAAI,EAAE;IACrB,OAAO,UAAUzD,MAAM,EAAE;MACvB,IAAIA,MAAM,CAAClf,IAAI,KAAK,OAAO,IAAIkf,MAAM,CAAClf,IAAI,KAAK,eAAe,IAAIkf,MAAM,CAAClf,IAAI,KAAK,yBAAyB,EAAE;QAC3G0pB,KAAK,EAAE;MACT;MAEA/G,IAAI,CAACzD,MAAM,CAAC;MAEZ,IAAIA,MAAM,CAAClf,IAAI,KAAK,cAAc,EAAE;QAClC;MACF;MAEA,IAAIkB,OAAO,GAAG;QACZG,SAAS,EAAE,QAAQ;QACnBF,OAAO,EAAE;UACP2kB,OAAO,EAAE,IAAI;UACbD,OAAO,EAAE,KAAK;UACd+D,IAAI,EAAE;QACR,CAAC;QACDtoB,EAAE,EAAE,SAASuoB,kBAAkB,GAAG;UAChC,IAAI5R,KAAK,GAAGwO,KAAK,CAAChE,QAAQ,EAAE;UAE5B,IAAIxK,KAAK,CAACW,KAAK,KAAK,gBAAgB,EAAE;YACpC6N,KAAK,CAAC/D,QAAQ,CAACX,qBAAqB,EAAE,CAAC;UACzC;QACF;MACF,CAAC;MACD0H,OAAO,GAAGK,qBAAqB,CAAC,YAAY;QAC1CL,OAAO,GAAG,IAAI;QACdloB,MAAM,GAAGX,UAAU,CAACV,MAAM,EAAE,CAACgB,OAAO,CAAC,CAAC;MACxC,CAAC,CAAC;IACJ,CAAC;EACH,CAAC;AACH,CAAE;AAEF,IAAI6oB,uBAAuB,GAAI,SAA3BA,uBAAuB,CAAcvH,OAAO,EAAE;EAChD,OAAO,YAAY;IACjB,OAAO,UAAUG,IAAI,EAAE;MACrB,OAAO,UAAUzD,MAAM,EAAE;QACvB,IAAIA,MAAM,CAAClf,IAAI,KAAK,eAAe,IAAIkf,MAAM,CAAClf,IAAI,KAAK,OAAO,IAAIkf,MAAM,CAAClf,IAAI,KAAK,cAAc,EAAE;UAChGwiB,OAAO,CAACwH,cAAc,EAAE;QAC1B;QAEArH,IAAI,CAACzD,MAAM,CAAC;MACd,CAAC;IACH,CAAC;EACH,CAAC;AACH,CAAE;AAEF,IAAI+K,KAAK,GAAI,SAATA,KAAK,CAAczH,OAAO,EAAE;EAC9B,IAAI0H,UAAU,GAAG,KAAK;EACtB,OAAO,YAAY;IACjB,OAAO,UAAUvH,IAAI,EAAE;MACrB,OAAO,UAAUzD,MAAM,EAAE;QACvB,IAAIA,MAAM,CAAClf,IAAI,KAAK,iBAAiB,EAAE;UACrCkqB,UAAU,GAAG,IAAI;UACjB1H,OAAO,CAAC2H,cAAc,CAACjL,MAAM,CAACE,OAAO,CAAC9G,QAAQ,CAAC1N,SAAS,CAAC/F,EAAE,CAAC;UAC5D8d,IAAI,CAACzD,MAAM,CAAC;UACZsD,OAAO,CAAC4H,uBAAuB,EAAE;UACjC;QACF;QAEAzH,IAAI,CAACzD,MAAM,CAAC;QAEZ,IAAI,CAACgL,UAAU,EAAE;UACf;QACF;QAEA,IAAIhL,MAAM,CAAClf,IAAI,KAAK,OAAO,EAAE;UAC3BkqB,UAAU,GAAG,KAAK;UAClB1H,OAAO,CAAC4H,uBAAuB,EAAE;UACjC;QACF;QAEA,IAAIlL,MAAM,CAAClf,IAAI,KAAK,eAAe,EAAE;UACnCkqB,UAAU,GAAG,KAAK;UAClB,IAAI5kB,MAAM,GAAG4Z,MAAM,CAACE,OAAO,CAACL,SAAS,CAACzZ,MAAM;UAE5C,IAAIA,MAAM,CAACR,OAAO,EAAE;YAClB0d,OAAO,CAAC6H,cAAc,CAAC/kB,MAAM,CAACN,WAAW,EAAEM,MAAM,CAACR,OAAO,CAACE,WAAW,CAAC;UACxE;UAEAwd,OAAO,CAAC4H,uBAAuB,EAAE;QACnC;MACF,CAAC;IACH,CAAC;EACH,CAAC;AACH,CAAE;AAEF,IAAIE,UAAU,GAAG,SAASA,UAAU,CAACpL,MAAM,EAAE;EAC3C,OAAOA,MAAM,CAAClf,IAAI,KAAK,eAAe,IAAIkf,MAAM,CAAClf,IAAI,KAAK,cAAc,IAAIkf,MAAM,CAAClf,IAAI,KAAK,OAAO;AACrG,CAAC;AAED,IAAIuqB,UAAU,GAAI,SAAdA,UAAU,CAAcC,YAAY,EAAE;EACxC,OAAO,UAAU/D,KAAK,EAAE;IACtB,OAAO,UAAU9D,IAAI,EAAE;MACrB,OAAO,UAAUzD,MAAM,EAAE;QACvB,IAAIoL,UAAU,CAACpL,MAAM,CAAC,EAAE;UACtBsL,YAAY,CAACnE,IAAI,EAAE;UACnB1D,IAAI,CAACzD,MAAM,CAAC;UACZ;QACF;QAEA,IAAIA,MAAM,CAAClf,IAAI,KAAK,iBAAiB,EAAE;UACrC2iB,IAAI,CAACzD,MAAM,CAAC;UACZ,IAAIjH,KAAK,GAAGwO,KAAK,CAAChE,QAAQ,EAAE;UAC5B,EAAExK,KAAK,CAACW,KAAK,KAAK,UAAU,CAAC,GAAG1Z,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,GAAG4C,SAAS,CAAC,KAAK,EAAE,qDAAqD,CAAC,GAAGA,SAAS,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC;UAC3KwoB,YAAY,CAACpmB,KAAK,CAAC6T,KAAK,CAAC;UACzB;QACF;QAEA0K,IAAI,CAACzD,MAAM,CAAC;QACZsL,YAAY,CAAC3iB,MAAM,CAAC4e,KAAK,CAAChE,QAAQ,EAAE,CAAC;MACvC,CAAC;IACH,CAAC;EACH,CAAC;AACH,CAAE;AAEF,IAAIgI,WAAW,GAAI,SAAfA,WAAW,CAAchE,KAAK,EAAE;EAClC,OAAO,UAAU9D,IAAI,EAAE;IACrB,OAAO,UAAUzD,MAAM,EAAE;MACvByD,IAAI,CAACzD,MAAM,CAAC;MAEZ,IAAIA,MAAM,CAAClf,IAAI,KAAK,wBAAwB,EAAE;QAC5C;MACF;MAEA,IAAI0qB,eAAe,GAAGjE,KAAK,CAAChE,QAAQ,EAAE;MAEtC,IAAIiI,eAAe,CAAC9R,KAAK,KAAK,cAAc,EAAE;QAC5C;MACF;MAEA,IAAI8R,eAAe,CAACjM,SAAS,EAAE;QAC7B;MACF;MAEAgI,KAAK,CAAC/D,QAAQ,CAACZ,IAAI,CAAC;QAClBvc,MAAM,EAAEmlB,eAAe,CAACnlB;MAC1B,CAAC,CAAC,CAAC;IACL,CAAC;EACH,CAAC;AACH,CAAE;AAEF,IAAIolB,gBAAgB,GAAGzrB,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,IAAI,OAAOc,MAAM,KAAK,WAAW,IAAIA,MAAM,CAAC0qB,oCAAoC,GAAG1qB,MAAM,CAAC0qB,oCAAoC,GAAG9sB,OAAO;AACpM,IAAIH,WAAW,GAAI,SAAfA,WAAW,CAAc2I,IAAI,EAAE;EACjC,IAAIukB,gBAAgB,GAAGvkB,IAAI,CAACukB,gBAAgB;IACxCC,YAAY,GAAGxkB,IAAI,CAACwkB,YAAY;IAChCC,YAAY,GAAGzkB,IAAI,CAACykB,YAAY;IAChCvC,aAAa,GAAGliB,IAAI,CAACkiB,aAAa;IAClC5B,QAAQ,GAAGtgB,IAAI,CAACsgB,QAAQ;IACxB4D,YAAY,GAAGlkB,IAAI,CAACkkB,YAAY;EACpC,OAAO5sB,aAAa,CAACqhB,OAAO,EAAE0L,gBAAgB,CAAC9sB,eAAe,CAAC8e,KAAK,CAACoO,YAAY,CAAC,EAAEhB,uBAAuB,CAACc,gBAAgB,CAAC,EAAEtI,MAAM,CAACsI,gBAAgB,CAAC,EAAExF,MAAM,EAAEkE,mBAAmB,EAAEC,0BAA0B,EAAEiB,WAAW,EAAEF,UAAU,CAACC,YAAY,CAAC,EAAEhE,cAAc,EAAEyD,KAAK,CAACa,YAAY,CAAC,EAAEzB,UAAU,CAACb,aAAa,EAAE5B,QAAQ,CAAC,CAAC,CAAC,CAAC;AACtU,CAAE;AAEF,IAAIoE,OAAO,GAAG,SAASzrB,KAAK,GAAG;EAC7B,OAAO;IACL8d,SAAS,EAAE,CAAC,CAAC;IACba,QAAQ,EAAE,CAAC,CAAC;IACZV,QAAQ,EAAE,CAAC;EACb,CAAC;AACH,CAAC;AAED,IAAIyN,SAAS,GAAG,6BAA6B;AAC7C,SAASC,eAAe,CAAC5kB,IAAI,EAAE;EAC7B,IAAI6kB,QAAQ,GAAG7kB,IAAI,CAAC6kB,QAAQ;IACxBtoB,SAAS,GAAGyD,IAAI,CAACzD,SAAS;EAC9B,IAAIuoB,OAAO,GAAGJ,OAAO,EAAE;EACvB,IAAIvB,OAAO,GAAG,IAAI;EAElB,IAAI4B,OAAO,GAAG,SAASA,OAAO,GAAG;IAC/B,IAAI5B,OAAO,EAAE;MACX;IACF;IAEA5mB,SAAS,CAACme,kBAAkB,EAAE;IAC9ByI,OAAO,GAAGK,qBAAqB,CAAC,YAAY;MAC1CL,OAAO,GAAG,IAAI;MACdrlB,KAAK,CAAC6mB,SAAS,CAAC;MAChB,IAAIK,QAAQ,GAAGF,OAAO;QAClB/N,SAAS,GAAGiO,QAAQ,CAACjO,SAAS;QAC9Ba,QAAQ,GAAGoN,QAAQ,CAACpN,QAAQ;QAC5BV,QAAQ,GAAG8N,QAAQ,CAAC9N,QAAQ;MAEhC,IAAIzG,KAAK,GAAGpY,YAAY,CAAC0e,SAAS,CAAC,CAACpc,GAAG,CAAC,UAAU4D,EAAE,EAAE;QACpD,OAAOsmB,QAAQ,CAACvgB,SAAS,CAAC2gB,OAAO,CAAC1mB,EAAE,CAAC,CAAC2mB,YAAY,CAAC/lB,MAAM,CAAC;MAC5D,CAAC,CAAC,CAACoF,IAAI,CAAC,UAAUC,CAAC,EAAEC,CAAC,EAAE;QACtB,OAAOD,CAAC,CAACT,UAAU,CAACnG,KAAK,GAAG6G,CAAC,CAACV,UAAU,CAACnG,KAAK;MAChD,CAAC,CAAC;MAEF,IAAI+O,OAAO,GAAGtU,YAAY,CAAC6e,QAAQ,CAAC,CAACvc,GAAG,CAAC,UAAU4D,EAAE,EAAE;QACrD,IAAI2iB,KAAK,GAAG2D,QAAQ,CAACliB,SAAS,CAACsiB,OAAO,CAAC1mB,EAAE,CAAC;QAC1C,IAAIgD,MAAM,GAAG2f,KAAK,CAAC3kB,SAAS,CAAC4oB,sBAAsB,EAAE;QACrD,OAAO;UACLhnB,WAAW,EAAEI,EAAE;UACfgD,MAAM,EAAEA;QACV,CAAC;MACH,CAAC,CAAC;MAEF,IAAIvC,MAAM,GAAG;QACX+X,SAAS,EAAEtG,KAAK;QAChBmH,QAAQ,EAAEvf,YAAY,CAACuf,QAAQ,CAAC;QAChCV,QAAQ,EAAEvK;MACZ,CAAC;MACDmY,OAAO,GAAGJ,OAAO,EAAE;MACnBzO,MAAM,CAAC0O,SAAS,CAAC;MACjBpoB,SAAS,CAAC6oB,OAAO,CAACpmB,MAAM,CAAC;IAC3B,CAAC,CAAC;EACJ,CAAC;EAED,IAAIM,GAAG,GAAG,SAASA,GAAG,CAAC4hB,KAAK,EAAE;IAC5B,IAAI3iB,EAAE,GAAG2iB,KAAK,CAACnd,UAAU,CAACxF,EAAE;IAC5BumB,OAAO,CAAC/N,SAAS,CAACxY,EAAE,CAAC,GAAG2iB,KAAK;IAC7B4D,OAAO,CAAC5N,QAAQ,CAACgK,KAAK,CAACnd,UAAU,CAAC5F,WAAW,CAAC,GAAG,IAAI;IAErD,IAAI2mB,OAAO,CAAClN,QAAQ,CAACrZ,EAAE,CAAC,EAAE;MACxB,OAAOumB,OAAO,CAAClN,QAAQ,CAACrZ,EAAE,CAAC;IAC7B;IAEAwmB,OAAO,EAAE;EACX,CAAC;EAED,IAAIhgB,MAAM,GAAG,SAASA,MAAM,CAACmc,KAAK,EAAE;IAClC,IAAInd,UAAU,GAAGmd,KAAK,CAACnd,UAAU;IACjC+gB,OAAO,CAAClN,QAAQ,CAAC7T,UAAU,CAACxF,EAAE,CAAC,GAAG,IAAI;IACtCumB,OAAO,CAAC5N,QAAQ,CAACnT,UAAU,CAAC5F,WAAW,CAAC,GAAG,IAAI;IAE/C,IAAI2mB,OAAO,CAAC/N,SAAS,CAAChT,UAAU,CAACxF,EAAE,CAAC,EAAE;MACpC,OAAOumB,OAAO,CAAC/N,SAAS,CAAChT,UAAU,CAACxF,EAAE,CAAC;IACzC;IAEAwmB,OAAO,EAAE;EACX,CAAC;EAED,IAAIhF,IAAI,GAAG,SAASA,IAAI,GAAG;IACzB,IAAI,CAACoD,OAAO,EAAE;MACZ;IACF;IAEAE,oBAAoB,CAACF,OAAO,CAAC;IAC7BA,OAAO,GAAG,IAAI;IACd2B,OAAO,GAAGJ,OAAO,EAAE;EACrB,CAAC;EAED,OAAO;IACLplB,GAAG,EAAEA,GAAG;IACRyF,MAAM,EAAEA,MAAM;IACdgb,IAAI,EAAEA;EACR,CAAC;AACH;AAEA,IAAIsF,YAAY,GAAI,SAAhBA,YAAY,CAAcrlB,IAAI,EAAE;EAClC,IAAIslB,YAAY,GAAGtlB,IAAI,CAACslB,YAAY;IAChCC,WAAW,GAAGvlB,IAAI,CAACulB,WAAW;IAC9BrkB,MAAM,GAAGlB,IAAI,CAACkB,MAAM;IACpBD,KAAK,GAAGjB,IAAI,CAACiB,KAAK;EACtB,IAAI2P,SAAS,GAAGnR,QAAQ,CAAC;IACvBL,CAAC,EAAEmmB,WAAW;IACdlmB,CAAC,EAAEimB;EACL,CAAC,EAAE;IACDlmB,CAAC,EAAE6B,KAAK;IACR5B,CAAC,EAAE6B;EACL,CAAC,CAAC;EACF,IAAIskB,iBAAiB,GAAG;IACtBpmB,CAAC,EAAEc,IAAI,CAACW,GAAG,CAAC,CAAC,EAAE+P,SAAS,CAACxR,CAAC,CAAC;IAC3BC,CAAC,EAAEa,IAAI,CAACW,GAAG,CAAC,CAAC,EAAE+P,SAAS,CAACvR,CAAC;EAC5B,CAAC;EACD,OAAOmmB,iBAAiB;AAC1B,CAAE;AAEF,IAAIC,kBAAkB,GAAI,SAAtBA,kBAAkB,GAAgB;EACpC,IAAIC,GAAG,GAAGjG,QAAQ,CAACkG,eAAe;EAClC,CAACD,GAAG,GAAG9sB,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,GAAG4C,SAAS,CAAC,KAAK,EAAE,sCAAsC,CAAC,GAAGA,SAAS,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC;EACnI,OAAOgqB,GAAG;AACZ,CAAE;AAEF,IAAIE,kBAAkB,GAAI,SAAtBA,kBAAkB,GAAgB;EACpC,IAAIF,GAAG,GAAGD,kBAAkB,EAAE;EAC9B,IAAI7U,SAAS,GAAGyU,YAAY,CAAC;IAC3BC,YAAY,EAAEI,GAAG,CAACJ,YAAY;IAC9BC,WAAW,EAAEG,GAAG,CAACH,WAAW;IAC5BtkB,KAAK,EAAEykB,GAAG,CAACG,WAAW;IACtB3kB,MAAM,EAAEwkB,GAAG,CAACI;EACd,CAAC,CAAC;EACF,OAAOlV,SAAS;AAClB,CAAE;AAEF,IAAImV,WAAW,GAAI,SAAfA,WAAW,GAAgB;EAC7B,IAAIxkB,MAAM,GAAG4d,eAAe,EAAE;EAC9B,IAAIvO,SAAS,GAAGgV,kBAAkB,EAAE;EACpC,IAAIhlB,GAAG,GAAGW,MAAM,CAAClC,CAAC;EAClB,IAAI2B,IAAI,GAAGO,MAAM,CAACnC,CAAC;EACnB,IAAIsmB,GAAG,GAAGD,kBAAkB,EAAE;EAC9B,IAAIxkB,KAAK,GAAGykB,GAAG,CAACG,WAAW;EAC3B,IAAI3kB,MAAM,GAAGwkB,GAAG,CAACI,YAAY;EAC7B,IAAIhlB,KAAK,GAAGE,IAAI,GAAGC,KAAK;EACxB,IAAIF,MAAM,GAAGH,GAAG,GAAGM,MAAM;EACzB,IAAIR,KAAK,GAAG9I,OAAO,CAAC;IAClBgJ,GAAG,EAAEA,GAAG;IACRI,IAAI,EAAEA,IAAI;IACVF,KAAK,EAAEA,KAAK;IACZC,MAAM,EAAEA;EACV,CAAC,CAAC;EACF,IAAIoH,QAAQ,GAAG;IACbzH,KAAK,EAAEA,KAAK;IACZa,MAAM,EAAE;MACNwB,OAAO,EAAExB,MAAM;MACf0B,OAAO,EAAE1B,MAAM;MACfV,GAAG,EAAE+P,SAAS;MACdpP,IAAI,EAAE;QACJtI,KAAK,EAAEiG,MAAM;QACbsC,YAAY,EAAEtC;MAChB;IACF;EACF,CAAC;EACD,OAAOgJ,QAAQ;AACjB,CAAE;AAEF,IAAI6d,iBAAiB,GAAI,SAArBA,iBAAiB,CAAchmB,IAAI,EAAE;EACvC,IAAIgS,QAAQ,GAAGhS,IAAI,CAACgS,QAAQ;IACxBsK,aAAa,GAAGtc,IAAI,CAACsc,aAAa;IAClCuI,QAAQ,GAAG7kB,IAAI,CAAC6kB,QAAQ;EAC5B,IAAIF,SAAS,GAAG,6BAA6B;EAC7C7mB,KAAK,CAAC6mB,SAAS,CAAC;EAChB,IAAIxc,QAAQ,GAAG4d,WAAW,EAAE;EAC5B,IAAIE,YAAY,GAAG9d,QAAQ,CAAC5G,MAAM,CAAC0B,OAAO;EAC1C,IAAI8O,IAAI,GAAGC,QAAQ,CAACrP,SAAS;EAC7B,IAAIiB,UAAU,GAAGihB,QAAQ,CAACliB,SAAS,CAACujB,YAAY,CAACnU,IAAI,CAACrY,IAAI,CAAC,CAACiB,GAAG,CAAC,UAAUumB,KAAK,EAAE;IAC/E,OAAOA,KAAK,CAAC3kB,SAAS,CAAC4pB,0BAA0B,CAACF,YAAY,EAAE3J,aAAa,CAAC;EAChF,CAAC,CAAC;EACF,IAAIrY,UAAU,GAAG4gB,QAAQ,CAACvgB,SAAS,CAAC4hB,YAAY,CAAClU,QAAQ,CAAC1N,SAAS,CAAC5K,IAAI,CAAC,CAACiB,GAAG,CAAC,UAAUumB,KAAK,EAAE;IAC7F,OAAOA,KAAK,CAACgE,YAAY,CAACe,YAAY,CAAC;EACzC,CAAC,CAAC;EACF,IAAIpU,UAAU,GAAG;IACf5N,UAAU,EAAED,cAAc,CAACC,UAAU,CAAC;IACtCL,UAAU,EAAED,cAAc,CAACC,UAAU;EACvC,CAAC;EACDqS,MAAM,CAAC0O,SAAS,CAAC;EACjB,IAAI3lB,MAAM,GAAG;IACX6S,UAAU,EAAEA,UAAU;IACtBG,QAAQ,EAAEA,QAAQ;IAClB7J,QAAQ,EAAEA;EACZ,CAAC;EACD,OAAOnJ,MAAM;AACf,CAAE;AAEF,SAASonB,mBAAmB,CAACvB,QAAQ,EAAElI,QAAQ,EAAEuE,KAAK,EAAE;EACtD,IAAIA,KAAK,CAACnd,UAAU,CAACxF,EAAE,KAAKoe,QAAQ,CAACpe,EAAE,EAAE;IACvC,OAAO,KAAK;EACd;EAEA,IAAI2iB,KAAK,CAACnd,UAAU,CAACrK,IAAI,KAAKijB,QAAQ,CAACjjB,IAAI,EAAE;IAC3C,OAAO,KAAK;EACd;EAEA,IAAIqY,IAAI,GAAG8S,QAAQ,CAACliB,SAAS,CAACsiB,OAAO,CAAC/D,KAAK,CAACnd,UAAU,CAAC5F,WAAW,CAAC;EAEnE,IAAI4T,IAAI,CAAChO,UAAU,CAAC+L,IAAI,KAAK,SAAS,EAAE;IACtClX,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,GAAGiB,OAAO,CAAC,+DAA+D,GAAGmnB,KAAK,CAACnd,UAAU,CAACxF,EAAE,GAAG,8LAA8L,CAAC,GAAG,KAAK,CAAC;IAChV,OAAO,KAAK;EACd;EAEA,OAAO,IAAI;AACb;AAEA,IAAI8nB,sBAAsB,GAAI,SAA1BA,sBAAsB,CAAcxB,QAAQ,EAAEtoB,SAAS,EAAE;EAC3D,IAAI+pB,UAAU,GAAG,IAAI;EACrB,IAAItD,SAAS,GAAG4B,eAAe,CAAC;IAC9BroB,SAAS,EAAE;MACT6oB,OAAO,EAAE7oB,SAAS,CAACke,oBAAoB;MACvCC,kBAAkB,EAAEne,SAAS,CAACme;IAChC,CAAC;IACDmK,QAAQ,EAAEA;EACZ,CAAC,CAAC;EAEF,IAAIjK,wBAAwB,GAAG,SAASA,wBAAwB,CAACrc,EAAE,EAAE6P,SAAS,EAAE;IAC9E,CAACyW,QAAQ,CAACliB,SAAS,CAAC4jB,MAAM,CAAChoB,EAAE,CAAC,GAAG3F,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,GAAG4C,SAAS,CAAC,KAAK,EAAE,6CAA6C,GAAG6C,EAAE,GAAG,0BAA0B,CAAC,GAAG7C,SAAS,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC;IAEtM,IAAI,CAAC4qB,UAAU,EAAE;MACf;IACF;IAEA/pB,SAAS,CAACqe,wBAAwB,CAAC;MACjCrc,EAAE,EAAEA,EAAE;MACN6P,SAAS,EAAEA;IACb,CAAC,CAAC;EACJ,CAAC;EAED,IAAIyM,+BAA+B,GAAG,SAASA,+BAA+B,CAACtc,EAAE,EAAE8G,gBAAgB,EAAE;IACnG,IAAI,CAACihB,UAAU,EAAE;MACf;IACF;IAEA,CAACzB,QAAQ,CAACliB,SAAS,CAAC4jB,MAAM,CAAChoB,EAAE,CAAC,GAAG3F,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,GAAG4C,SAAS,CAAC,KAAK,EAAE,mDAAmD,GAAG6C,EAAE,GAAG,0BAA0B,CAAC,GAAG7C,SAAS,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC;IAC5Ma,SAAS,CAACse,+BAA+B,CAAC;MACxCtc,EAAE,EAAEA,EAAE;MACN8G,gBAAgB,EAAEA;IACpB,CAAC,CAAC;EACJ,CAAC;EAED,IAAIsV,qBAAqB,GAAG,SAASA,qBAAqB,CAACpc,EAAE,EAAEqE,SAAS,EAAE;IACxE,IAAI,CAAC0jB,UAAU,EAAE;MACf;IACF;IAEA,CAACzB,QAAQ,CAACliB,SAAS,CAAC4jB,MAAM,CAAChoB,EAAE,CAAC,GAAG3F,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,GAAG4C,SAAS,CAAC,KAAK,EAAE,wCAAwC,GAAG6C,EAAE,GAAG,0BAA0B,CAAC,GAAG7C,SAAS,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC;IACjMa,SAAS,CAACoe,qBAAqB,CAAC;MAC9Bpc,EAAE,EAAEA,EAAE;MACNqE,SAAS,EAAEA;IACb,CAAC,CAAC;EACJ,CAAC;EAED,IAAIF,eAAe,GAAG,SAASA,eAAe,CAACnE,EAAE,EAAEioB,MAAM,EAAE;IACzD,IAAI,CAACF,UAAU,EAAE;MACf;IACF;IAEAzB,QAAQ,CAACliB,SAAS,CAACsiB,OAAO,CAAC1mB,EAAE,CAAC,CAAChC,SAAS,CAACgF,MAAM,CAACilB,MAAM,CAAC;EACzD,CAAC;EAED,IAAI9C,cAAc,GAAG,SAASA,cAAc,GAAG;IAC7C,IAAI,CAAC4C,UAAU,EAAE;MACf;IACF;IAEAtD,SAAS,CAACjD,IAAI,EAAE;IAChB,IAAIhO,IAAI,GAAGuU,UAAU,CAACtU,QAAQ,CAACrP,SAAS;IACxCkiB,QAAQ,CAACliB,SAAS,CAACujB,YAAY,CAACnU,IAAI,CAACrY,IAAI,CAAC,CAAC0B,OAAO,CAAC,UAAU8lB,KAAK,EAAE;MAClE,OAAOA,KAAK,CAAC3kB,SAAS,CAACkqB,WAAW,EAAE;IACtC,CAAC,CAAC;IACFH,UAAU,CAACI,WAAW,EAAE;IACxBJ,UAAU,GAAG,IAAI;EACnB,CAAC;EAED,IAAIK,UAAU,GAAG,SAASA,UAAU,CAAClqB,KAAK,EAAE;IAC1C,CAAC6pB,UAAU,GAAG1tB,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,GAAG4C,SAAS,CAAC,KAAK,EAAE,0DAA0D,CAAC,GAAGA,SAAS,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC;IAC9J,IAAIihB,QAAQ,GAAG2J,UAAU,CAACtU,QAAQ,CAAC1N,SAAS;IAE5C,IAAI7H,KAAK,CAAC/C,IAAI,KAAK,UAAU,EAAE;MAC7B,IAAI0sB,mBAAmB,CAACvB,QAAQ,EAAElI,QAAQ,EAAElgB,KAAK,CAACvD,KAAK,CAAC,EAAE;QACxD8pB,SAAS,CAAC1jB,GAAG,CAAC7C,KAAK,CAACvD,KAAK,CAAC;MAC5B;IACF;IAEA,IAAIuD,KAAK,CAAC/C,IAAI,KAAK,SAAS,EAAE;MAC5B,IAAI0sB,mBAAmB,CAACvB,QAAQ,EAAElI,QAAQ,EAAElgB,KAAK,CAACvD,KAAK,CAAC,EAAE;QACxD8pB,SAAS,CAACje,MAAM,CAACtI,KAAK,CAACvD,KAAK,CAAC;MAC/B;IACF;EACF,CAAC;EAED,IAAIwjB,eAAe,GAAG,SAASA,eAAe,CAACF,OAAO,EAAE;IACtD,CAAC,CAAC8J,UAAU,GAAG1tB,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,GAAG4C,SAAS,CAAC,KAAK,EAAE,6EAA6E,CAAC,GAAGA,SAAS,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC;IAClL,IAAIwlB,KAAK,GAAG2D,QAAQ,CAACvgB,SAAS,CAAC2gB,OAAO,CAACzI,OAAO,CAAC9d,WAAW,CAAC;IAC3D,IAAIqT,IAAI,GAAG8S,QAAQ,CAACliB,SAAS,CAACsiB,OAAO,CAAC/D,KAAK,CAACnd,UAAU,CAAC5F,WAAW,CAAC;IACnE,IAAI6T,QAAQ,GAAG;MACb1N,SAAS,EAAE4c,KAAK,CAACnd,UAAU;MAC3BpB,SAAS,EAAEoP,IAAI,CAAChO;IAClB,CAAC;IACD,IAAI2iB,WAAW,GAAG7B,QAAQ,CAAC+B,SAAS,CAACD,UAAU,CAAC;IAChDL,UAAU,GAAG;MACXtU,QAAQ,EAAEA,QAAQ;MAClB0U,WAAW,EAAEA;IACf,CAAC;IACD,OAAOV,iBAAiB,CAAC;MACvBhU,QAAQ,EAAEA,QAAQ;MAClB6S,QAAQ,EAAEA,QAAQ;MAClBvI,aAAa,EAAEE,OAAO,CAACF;IACzB,CAAC,CAAC;EACJ,CAAC;EAED,IAAIJ,OAAO,GAAG;IACZtB,wBAAwB,EAAEA,wBAAwB;IAClDC,+BAA+B,EAAEA,+BAA+B;IAChEnY,eAAe,EAAEA,eAAe;IAChCiY,qBAAqB,EAAEA,qBAAqB;IAC5C+B,eAAe,EAAEA,eAAe;IAChCgH,cAAc,EAAEA;EAClB,CAAC;EACD,OAAOxH,OAAO;AAChB,CAAE;AAEF,IAAI2K,YAAY,GAAI,SAAhBA,YAAY,CAAclV,KAAK,EAAEpT,EAAE,EAAE;EACvC,IAAIoT,KAAK,CAACW,KAAK,KAAK,MAAM,EAAE;IAC1B,OAAO,IAAI;EACb;EAEA,IAAIX,KAAK,CAACW,KAAK,KAAK,gBAAgB,EAAE;IACpC,OAAO,KAAK;EACd;EAEA,IAAIX,KAAK,CAAC8G,SAAS,CAACzZ,MAAM,CAACN,WAAW,KAAKH,EAAE,EAAE;IAC7C,OAAO,KAAK;EACd;EAEA,OAAOoT,KAAK,CAAC8G,SAAS,CAACzZ,MAAM,CAACC,MAAM,KAAK,MAAM;AACjD,CAAE;AAEF,IAAI6nB,YAAY,GAAI,SAAhBA,YAAY,CAAcN,MAAM,EAAE;EACpC5sB,MAAM,CAACmtB,QAAQ,CAACP,MAAM,CAACpnB,CAAC,EAAEonB,MAAM,CAACnnB,CAAC,CAAC;AACrC,CAAE;AAEF,IAAI2nB,uBAAuB,GAAG7uB,UAAU,CAAC,UAAUyL,UAAU,EAAE;EAC7D,OAAOM,eAAe,CAACN,UAAU,CAAC,CAACS,MAAM,CAAC,UAAU1B,SAAS,EAAE;IAC7D,IAAI,CAACA,SAAS,CAACyL,SAAS,EAAE;MACxB,OAAO,KAAK;IACd;IAEA,IAAI,CAACzL,SAAS,CAACjC,KAAK,EAAE;MACpB,OAAO,KAAK;IACd;IAEA,OAAO,IAAI;EACb,CAAC,CAAC;AACJ,CAAC,CAAC;AAEF,IAAIumB,0BAA0B,GAAG,SAASA,0BAA0B,CAAC3mB,MAAM,EAAEsD,UAAU,EAAE;EACvF,IAAIsjB,KAAK,GAAG3jB,IAAI,CAACyjB,uBAAuB,CAACpjB,UAAU,CAAC,EAAE,UAAUjB,SAAS,EAAE;IACzE,CAACA,SAAS,CAACjC,KAAK,GAAG9H,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,GAAG4C,SAAS,CAAC,KAAK,EAAE,gBAAgB,CAAC,GAAGA,SAAS,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC;IACzH,OAAO6W,iBAAiB,CAAC5P,SAAS,CAACjC,KAAK,CAACwB,aAAa,CAAC,CAAC5B,MAAM,CAAC;EACjE,CAAC,CAAC;EACF,OAAO4mB,KAAK;AACd,CAAC;AAED,IAAIC,0BAA0B,GAAI,SAA9BA,0BAA0B,CAAcnnB,IAAI,EAAE;EAChD,IAAIkL,MAAM,GAAGlL,IAAI,CAACkL,MAAM;IACpBjN,WAAW,GAAG+B,IAAI,CAAC/B,WAAW;IAC9B2F,UAAU,GAAG5D,IAAI,CAAC4D,UAAU;EAEhC,IAAI3F,WAAW,EAAE;IACf,IAAImpB,UAAU,GAAGxjB,UAAU,CAAC3F,WAAW,CAAC;IAExC,IAAI,CAACmpB,UAAU,CAAC1mB,KAAK,EAAE;MACrB,OAAO,IAAI;IACb;IAEA,OAAO0mB,UAAU;EACnB;EAEA,IAAIjX,SAAS,GAAG8W,0BAA0B,CAAC/b,MAAM,EAAEtH,UAAU,CAAC;EAC9D,OAAOuM,SAAS;AAClB,CAAE;AAEF,IAAIkX,MAAM,GAAG;EACXC,mBAAmB,EAAE,IAAI;EACzBC,qBAAqB,EAAE,IAAI;EAC3BC,cAAc,EAAE,EAAE;EAClBC,IAAI,EAAE,SAASA,IAAI,CAACpJ,UAAU,EAAE;IAC9B,OAAOne,IAAI,CAACE,GAAG,CAACie,UAAU,EAAE,CAAC,CAAC;EAChC,CAAC;EACDqJ,iBAAiB,EAAE;IACjBC,eAAe,EAAE,IAAI;IACrBC,YAAY,EAAE;EAChB;AACF,CAAC;AAED,IAAIC,qBAAqB,GAAI,SAAzBA,qBAAqB,CAAcC,SAAS,EAAEnmB,IAAI,EAAE;EACtD,IAAIomB,kBAAkB,GAAGD,SAAS,CAACnmB,IAAI,CAAC8F,IAAI,CAAC,GAAG4f,MAAM,CAACC,mBAAmB;EAC1E,IAAIU,gBAAgB,GAAGF,SAAS,CAACnmB,IAAI,CAAC8F,IAAI,CAAC,GAAG4f,MAAM,CAACE,qBAAqB;EAC1E,IAAIU,UAAU,GAAG;IACfF,kBAAkB,EAAEA,kBAAkB;IACtCC,gBAAgB,EAAEA;EACpB,CAAC;EACD,OAAOC,UAAU;AACnB,CAAE;AAEF,IAAIC,aAAa,GAAI,SAAjBA,aAAa,CAAcloB,IAAI,EAAE;EACnC,IAAImoB,YAAY,GAAGnoB,IAAI,CAACmoB,YAAY;IAChCC,UAAU,GAAGpoB,IAAI,CAACooB,UAAU;IAC5BnlB,OAAO,GAAGjD,IAAI,CAACiD,OAAO;EAC1B,IAAIolB,KAAK,GAAGD,UAAU,GAAGD,YAAY;EAErC,IAAIE,KAAK,KAAK,CAAC,EAAE;IACfzvB,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,GAAGiB,OAAO,CAAC,yKAAyK,CAAC,GAAG,KAAK,CAAC;IACnO,OAAO,CAAC;EACV;EAEA,IAAIuuB,cAAc,GAAGrlB,OAAO,GAAGklB,YAAY;EAC3C,IAAI9J,UAAU,GAAGiK,cAAc,GAAGD,KAAK;EACvC,OAAOhK,UAAU;AACnB,CAAE;AAEF,IAAIkK,SAAS,GAAG,CAAC;AAEjB,IAAIC,oBAAoB,GAAI,SAAxBA,oBAAoB,CAAcC,cAAc,EAAER,UAAU,EAAE;EAChE,IAAIQ,cAAc,GAAGR,UAAU,CAACF,kBAAkB,EAAE;IAClD,OAAO,CAAC;EACV;EAEA,IAAIU,cAAc,IAAIR,UAAU,CAACD,gBAAgB,EAAE;IACjD,OAAOX,MAAM,CAACG,cAAc;EAC9B;EAEA,IAAIiB,cAAc,KAAKR,UAAU,CAACF,kBAAkB,EAAE;IACpD,OAAOQ,SAAS;EAClB;EAEA,IAAIG,8BAA8B,GAAGR,aAAa,CAAC;IACjDC,YAAY,EAAEF,UAAU,CAACD,gBAAgB;IACzCI,UAAU,EAAEH,UAAU,CAACF,kBAAkB;IACzC9kB,OAAO,EAAEwlB;EACX,CAAC,CAAC;EACF,IAAIE,gCAAgC,GAAG,CAAC,GAAGD,8BAA8B;EACzE,IAAInnB,MAAM,GAAG8lB,MAAM,CAACG,cAAc,GAAGH,MAAM,CAACI,IAAI,CAACkB,gCAAgC,CAAC;EAClF,OAAOzoB,IAAI,CAAC0oB,IAAI,CAACrnB,MAAM,CAAC;AAC1B,CAAE;AAEF,IAAIqmB,YAAY,GAAGP,MAAM,CAACK,iBAAiB,CAACE,YAAY;AACxD,IAAIiB,MAAM,GAAGxB,MAAM,CAACK,iBAAiB,CAACC,eAAe;AACrD,IAAImB,iBAAiB,GAAI,SAArBA,iBAAiB,CAAcC,cAAc,EAAEC,aAAa,EAAE;EAChE,IAAIb,YAAY,GAAGa,aAAa;EAChC,IAAIZ,UAAU,GAAGS,MAAM;EAEvB,IAAItU,GAAG,GAAGhc,SAAS,EAAE;EAErB,IAAI0wB,OAAO,GAAG1U,GAAG,GAAG4T,YAAY;EAEhC,IAAIc,OAAO,IAAIJ,MAAM,EAAE;IACrB,OAAOE,cAAc;EACvB;EAEA,IAAIE,OAAO,GAAGrB,YAAY,EAAE;IAC1B,OAAOW,SAAS;EAClB;EAEA,IAAIW,sCAAsC,GAAGhB,aAAa,CAAC;IACzDC,YAAY,EAAEP,YAAY;IAC1BQ,UAAU,EAAEA,UAAU;IACtBnlB,OAAO,EAAEgmB;EACX,CAAC,CAAC;EACF,IAAI1nB,MAAM,GAAGwnB,cAAc,GAAG1B,MAAM,CAACI,IAAI,CAACyB,sCAAsC,CAAC;EACjF,OAAOhpB,IAAI,CAAC0oB,IAAI,CAACrnB,MAAM,CAAC;AAC1B,CAAE;AAEF,IAAI4nB,QAAQ,GAAI,SAAZA,QAAQ,CAAcnpB,IAAI,EAAE;EAC9B,IAAIyoB,cAAc,GAAGzoB,IAAI,CAACyoB,cAAc;IACpCR,UAAU,GAAGjoB,IAAI,CAACioB,UAAU;IAC5Be,aAAa,GAAGhpB,IAAI,CAACgpB,aAAa;IAClCI,sBAAsB,GAAGppB,IAAI,CAACopB,sBAAsB;EACxD,IAAI7nB,MAAM,GAAGinB,oBAAoB,CAACC,cAAc,EAAER,UAAU,CAAC;EAE7D,IAAI1mB,MAAM,KAAK,CAAC,EAAE;IAChB,OAAO,CAAC;EACV;EAEA,IAAI,CAAC6nB,sBAAsB,EAAE;IAC3B,OAAO7nB,MAAM;EACf;EAEA,OAAOrB,IAAI,CAACW,GAAG,CAACioB,iBAAiB,CAACvnB,MAAM,EAAEynB,aAAa,CAAC,EAAET,SAAS,CAAC;AACtE,CAAE;AAEF,IAAIc,eAAe,GAAI,SAAnBA,eAAe,CAAcrpB,IAAI,EAAE;EACrC,IAAI8nB,SAAS,GAAG9nB,IAAI,CAAC8nB,SAAS;IAC1BwB,eAAe,GAAGtpB,IAAI,CAACspB,eAAe;IACtCN,aAAa,GAAGhpB,IAAI,CAACgpB,aAAa;IAClCrnB,IAAI,GAAG3B,IAAI,CAAC2B,IAAI;IAChBynB,sBAAsB,GAAGppB,IAAI,CAACopB,sBAAsB;EACxD,IAAInB,UAAU,GAAGJ,qBAAqB,CAACC,SAAS,EAAEnmB,IAAI,CAAC;EACvD,IAAI4nB,aAAa,GAAGD,eAAe,CAAC3nB,IAAI,CAACI,GAAG,CAAC,GAAGunB,eAAe,CAAC3nB,IAAI,CAAC7D,KAAK,CAAC;EAE3E,IAAIyrB,aAAa,EAAE;IACjB,OAAOJ,QAAQ,CAAC;MACdV,cAAc,EAAEa,eAAe,CAAC3nB,IAAI,CAACI,GAAG,CAAC;MACzCkmB,UAAU,EAAEA,UAAU;MACtBe,aAAa,EAAEA,aAAa;MAC5BI,sBAAsB,EAAEA;IAC1B,CAAC,CAAC;EACJ;EAEA,OAAO,CAAC,CAAC,GAAGD,QAAQ,CAAC;IACnBV,cAAc,EAAEa,eAAe,CAAC3nB,IAAI,CAAC7D,KAAK,CAAC;IAC3CmqB,UAAU,EAAEA,UAAU;IACtBe,aAAa,EAAEA,aAAa;IAC5BI,sBAAsB,EAAEA;EAC1B,CAAC,CAAC;AACJ,CAAE;AAEF,IAAII,mBAAmB,GAAI,SAAvBA,mBAAmB,CAAcxpB,IAAI,EAAE;EACzC,IAAI8nB,SAAS,GAAG9nB,IAAI,CAAC8nB,SAAS;IAC1BnnB,OAAO,GAAGX,IAAI,CAACW,OAAO;IACtBooB,cAAc,GAAG/oB,IAAI,CAAC+oB,cAAc;EACxC,IAAIU,kBAAkB,GAAG9oB,OAAO,CAACO,MAAM,GAAG4mB,SAAS,CAAC5mB,MAAM;EAC1D,IAAIwoB,oBAAoB,GAAG/oB,OAAO,CAACM,KAAK,GAAG6mB,SAAS,CAAC7mB,KAAK;EAE1D,IAAI,CAACyoB,oBAAoB,IAAI,CAACD,kBAAkB,EAAE;IAChD,OAAOV,cAAc;EACvB;EAEA,IAAIW,oBAAoB,IAAID,kBAAkB,EAAE;IAC9C,OAAO,IAAI;EACb;EAEA,OAAO;IACLrqB,CAAC,EAAEsqB,oBAAoB,GAAG,CAAC,GAAGX,cAAc,CAAC3pB,CAAC;IAC9CC,CAAC,EAAEoqB,kBAAkB,GAAG,CAAC,GAAGV,cAAc,CAAC1pB;EAC7C,CAAC;AACH,CAAE;AAEF,IAAIsqB,OAAO,GAAG7vB,KAAK,CAAC,UAAUZ,KAAK,EAAE;EACnC,OAAOA,KAAK,KAAK,CAAC,GAAG,CAAC,GAAGA,KAAK;AAChC,CAAC,CAAC;AACF,IAAI0wB,SAAS,GAAI,SAAbA,SAAS,CAAc5pB,IAAI,EAAE;EAC/B,IAAIgpB,aAAa,GAAGhpB,IAAI,CAACgpB,aAAa;IAClClB,SAAS,GAAG9nB,IAAI,CAAC8nB,SAAS;IAC1BnnB,OAAO,GAAGX,IAAI,CAACW,OAAO;IACtBuK,MAAM,GAAGlL,IAAI,CAACkL,MAAM;IACpBke,sBAAsB,GAAGppB,IAAI,CAACopB,sBAAsB;EACxD,IAAIE,eAAe,GAAG;IACpB1oB,GAAG,EAAEsK,MAAM,CAAC7L,CAAC,GAAGyoB,SAAS,CAAClnB,GAAG;IAC7BE,KAAK,EAAEgnB,SAAS,CAAChnB,KAAK,GAAGoK,MAAM,CAAC9L,CAAC;IACjC2B,MAAM,EAAE+mB,SAAS,CAAC/mB,MAAM,GAAGmK,MAAM,CAAC7L,CAAC;IACnC2B,IAAI,EAAEkK,MAAM,CAAC9L,CAAC,GAAG0oB,SAAS,CAAC9mB;EAC7B,CAAC;EACD,IAAI3B,CAAC,GAAGgqB,eAAe,CAAC;IACtBvB,SAAS,EAAEA,SAAS;IACpBwB,eAAe,EAAEA,eAAe;IAChCN,aAAa,EAAEA,aAAa;IAC5BrnB,IAAI,EAAE2F,QAAQ;IACd8hB,sBAAsB,EAAEA;EAC1B,CAAC,CAAC;EACF,IAAIhqB,CAAC,GAAGiqB,eAAe,CAAC;IACtBvB,SAAS,EAAEA,SAAS;IACpBwB,eAAe,EAAEA,eAAe;IAChCN,aAAa,EAAEA,aAAa;IAC5BrnB,IAAI,EAAEkG,UAAU;IAChBuhB,sBAAsB,EAAEA;EAC1B,CAAC,CAAC;EACF,IAAIS,QAAQ,GAAGF,OAAO,CAAC;IACrBvqB,CAAC,EAAEA,CAAC;IACJC,CAAC,EAAEA;EACL,CAAC,CAAC;EAEF,IAAIK,OAAO,CAACmqB,QAAQ,EAAE1qB,MAAM,CAAC,EAAE;IAC7B,OAAO,IAAI;EACb;EAEA,IAAI2qB,OAAO,GAAGN,mBAAmB,CAAC;IAChC1B,SAAS,EAAEA,SAAS;IACpBnnB,OAAO,EAAEA,OAAO;IAChBooB,cAAc,EAAEc;EAClB,CAAC,CAAC;EAEF,IAAI,CAACC,OAAO,EAAE;IACZ,OAAO,IAAI;EACb;EAEA,OAAOpqB,OAAO,CAACoqB,OAAO,EAAE3qB,MAAM,CAAC,GAAG,IAAI,GAAG2qB,OAAO;AAClD,CAAE;AAEF,IAAIC,cAAc,GAAGjwB,KAAK,CAAC,UAAUZ,KAAK,EAAE;EAC1C,IAAIA,KAAK,KAAK,CAAC,EAAE;IACf,OAAO,CAAC;EACV;EAEA,OAAOA,KAAK,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;AAC3B,CAAC,CAAC;AACF,IAAI8wB,UAAU,GAAG,YAAY;EAC3B,IAAIC,YAAY,GAAG,SAASA,YAAY,CAAC3pB,MAAM,EAAEO,GAAG,EAAE;IACpD,IAAIP,MAAM,GAAG,CAAC,EAAE;MACd,OAAOA,MAAM;IACf;IAEA,IAAIA,MAAM,GAAGO,GAAG,EAAE;MAChB,OAAOP,MAAM,GAAGO,GAAG;IACrB;IAEA,OAAO,CAAC;EACV,CAAC;EAED,OAAO,UAAUb,IAAI,EAAE;IACrB,IAAIiD,OAAO,GAAGjD,IAAI,CAACiD,OAAO;MACtBpC,GAAG,GAAGb,IAAI,CAACa,GAAG;MACd2lB,MAAM,GAAGxmB,IAAI,CAACwmB,MAAM;IACxB,IAAI0D,YAAY,GAAG5qB,GAAG,CAAC2D,OAAO,EAAEujB,MAAM,CAAC;IACvC,IAAI2D,OAAO,GAAG;MACZ/qB,CAAC,EAAE6qB,YAAY,CAACC,YAAY,CAAC9qB,CAAC,EAAEyB,GAAG,CAACzB,CAAC,CAAC;MACtCC,CAAC,EAAE4qB,YAAY,CAACC,YAAY,CAAC7qB,CAAC,EAAEwB,GAAG,CAACxB,CAAC;IACvC,CAAC;IAED,IAAIK,OAAO,CAACyqB,OAAO,EAAEhrB,MAAM,CAAC,EAAE;MAC5B,OAAO,IAAI;IACb;IAEA,OAAOgrB,OAAO;EAChB,CAAC;AACH,CAAC,EAAE;AACH,IAAIC,kBAAkB,GAAG,SAASA,kBAAkB,CAAC3gB,KAAK,EAAE;EAC1D,IAAI4gB,MAAM,GAAG5gB,KAAK,CAAC5I,GAAG;IAClBoC,OAAO,GAAGwG,KAAK,CAACxG,OAAO;IACvBujB,MAAM,GAAG/c,KAAK,CAAC+c,MAAM;EACzB,IAAI3lB,GAAG,GAAG;IACRzB,CAAC,EAAEc,IAAI,CAACW,GAAG,CAACoC,OAAO,CAAC7D,CAAC,EAAEirB,MAAM,CAACjrB,CAAC,CAAC;IAChCC,CAAC,EAAEa,IAAI,CAACW,GAAG,CAACoC,OAAO,CAAC5D,CAAC,EAAEgrB,MAAM,CAAChrB,CAAC;EACjC,CAAC;EACD,IAAIirB,cAAc,GAAGP,cAAc,CAACvD,MAAM,CAAC;EAC3C,IAAI2D,OAAO,GAAGH,UAAU,CAAC;IACvBnpB,GAAG,EAAEA,GAAG;IACRoC,OAAO,EAAEA,OAAO;IAChBujB,MAAM,EAAE8D;EACV,CAAC,CAAC;EAEF,IAAI,CAACH,OAAO,EAAE;IACZ,OAAO,IAAI;EACb;EAEA,IAAIG,cAAc,CAAClrB,CAAC,KAAK,CAAC,IAAI+qB,OAAO,CAAC/qB,CAAC,KAAK,CAAC,EAAE;IAC7C,OAAO,IAAI;EACb;EAEA,IAAIkrB,cAAc,CAACjrB,CAAC,KAAK,CAAC,IAAI8qB,OAAO,CAAC9qB,CAAC,KAAK,CAAC,EAAE;IAC7C,OAAO,IAAI;EACb;EAEA,OAAO,KAAK;AACd,CAAC;AACD,IAAIkrB,eAAe,GAAG,SAASA,eAAe,CAACpiB,QAAQ,EAAEqe,MAAM,EAAE;EAC/D,OAAO4D,kBAAkB,CAAC;IACxBnnB,OAAO,EAAEkF,QAAQ,CAAC5G,MAAM,CAAC0B,OAAO;IAChCpC,GAAG,EAAEsH,QAAQ,CAAC5G,MAAM,CAACV,GAAG;IACxB2lB,MAAM,EAAEA;EACV,CAAC,CAAC;AACJ,CAAC;AACD,IAAIgE,gBAAgB,GAAG,SAASA,gBAAgB,CAACriB,QAAQ,EAAEqe,MAAM,EAAE;EACjE,IAAI,CAAC+D,eAAe,CAACpiB,QAAQ,EAAEqe,MAAM,CAAC,EAAE;IACtC,OAAO,IAAI;EACb;EAEA,IAAI3lB,GAAG,GAAGsH,QAAQ,CAAC5G,MAAM,CAACV,GAAG;EAC7B,IAAIoC,OAAO,GAAGkF,QAAQ,CAAC5G,MAAM,CAAC0B,OAAO;EACrC,OAAO+mB,UAAU,CAAC;IAChB/mB,OAAO,EAAEA,OAAO;IAChBpC,GAAG,EAAEA,GAAG;IACR2lB,MAAM,EAAEA;EACV,CAAC,CAAC;AACJ,CAAC;AACD,IAAIiE,kBAAkB,GAAG,SAASA,kBAAkB,CAAC9nB,SAAS,EAAE6jB,MAAM,EAAE;EACtE,IAAI9lB,KAAK,GAAGiC,SAAS,CAACjC,KAAK;EAE3B,IAAI,CAACA,KAAK,EAAE;IACV,OAAO,KAAK;EACd;EAEA,OAAO0pB,kBAAkB,CAAC;IACxBnnB,OAAO,EAAEvC,KAAK,CAACa,MAAM,CAAC0B,OAAO;IAC7BpC,GAAG,EAAEH,KAAK,CAACa,MAAM,CAACV,GAAG;IACrB2lB,MAAM,EAAEA;EACV,CAAC,CAAC;AACJ,CAAC;AACD,IAAIkE,mBAAmB,GAAG,SAASA,mBAAmB,CAAC/nB,SAAS,EAAE6jB,MAAM,EAAE;EACxE,IAAI9lB,KAAK,GAAGiC,SAAS,CAACjC,KAAK;EAE3B,IAAI,CAACA,KAAK,EAAE;IACV,OAAO,IAAI;EACb;EAEA,IAAI,CAAC+pB,kBAAkB,CAAC9nB,SAAS,EAAE6jB,MAAM,CAAC,EAAE;IAC1C,OAAO,IAAI;EACb;EAEA,OAAOwD,UAAU,CAAC;IAChB/mB,OAAO,EAAEvC,KAAK,CAACa,MAAM,CAAC0B,OAAO;IAC7BpC,GAAG,EAAEH,KAAK,CAACa,MAAM,CAACV,GAAG;IACrB2lB,MAAM,EAAEA;EACV,CAAC,CAAC;AACJ,CAAC;AAED,IAAImE,qBAAqB,GAAI,SAAzBA,qBAAqB,CAAc3qB,IAAI,EAAE;EAC3C,IAAImI,QAAQ,GAAGnI,IAAI,CAACmI,QAAQ;IACxBxH,OAAO,GAAGX,IAAI,CAACW,OAAO;IACtBuK,MAAM,GAAGlL,IAAI,CAACkL,MAAM;IACpB8d,aAAa,GAAGhpB,IAAI,CAACgpB,aAAa;IAClCI,sBAAsB,GAAGppB,IAAI,CAACopB,sBAAsB;EACxD,IAAI7nB,MAAM,GAAGqoB,SAAS,CAAC;IACrBZ,aAAa,EAAEA,aAAa;IAC5BlB,SAAS,EAAE3f,QAAQ,CAACzH,KAAK;IACzBC,OAAO,EAAEA,OAAO;IAChBuK,MAAM,EAAEA,MAAM;IACdke,sBAAsB,EAAEA;EAC1B,CAAC,CAAC;EACF,OAAO7nB,MAAM,IAAIgpB,eAAe,CAACpiB,QAAQ,EAAE5G,MAAM,CAAC,GAAGA,MAAM,GAAG,IAAI;AACpE,CAAE;AAEF,IAAIqpB,wBAAwB,GAAI,SAA5BA,wBAAwB,CAAc5qB,IAAI,EAAE;EAC9C,IAAI2C,SAAS,GAAG3C,IAAI,CAAC2C,SAAS;IAC1BhC,OAAO,GAAGX,IAAI,CAACW,OAAO;IACtBuK,MAAM,GAAGlL,IAAI,CAACkL,MAAM;IACpB8d,aAAa,GAAGhpB,IAAI,CAACgpB,aAAa;IAClCI,sBAAsB,GAAGppB,IAAI,CAACopB,sBAAsB;EACxD,IAAI1oB,KAAK,GAAGiC,SAAS,CAACjC,KAAK;EAE3B,IAAI,CAACA,KAAK,EAAE;IACV,OAAO,IAAI;EACb;EAEA,IAAIa,MAAM,GAAGqoB,SAAS,CAAC;IACrBZ,aAAa,EAAEA,aAAa;IAC5BlB,SAAS,EAAEpnB,KAAK,CAACwB,aAAa;IAC9BvB,OAAO,EAAEA,OAAO;IAChBuK,MAAM,EAAEA,MAAM;IACdke,sBAAsB,EAAEA;EAC1B,CAAC,CAAC;EACF,OAAO7nB,MAAM,IAAIkpB,kBAAkB,CAAC9nB,SAAS,EAAEpB,MAAM,CAAC,GAAGA,MAAM,GAAG,IAAI;AACxE,CAAE;AAEF,IAAIspB,QAAQ,GAAI,SAAZA,QAAQ,CAAc7qB,IAAI,EAAE;EAC9B,IAAI2R,KAAK,GAAG3R,IAAI,CAAC2R,KAAK;IAClBqX,aAAa,GAAGhpB,IAAI,CAACgpB,aAAa;IAClCI,sBAAsB,GAAGppB,IAAI,CAACopB,sBAAsB;IACpDtC,YAAY,GAAG9mB,IAAI,CAAC8mB,YAAY;IAChCpkB,eAAe,GAAG1C,IAAI,CAAC0C,eAAe;EAC1C,IAAIwI,MAAM,GAAGyG,KAAK,CAAC1O,OAAO,CAACb,IAAI,CAAC8P,eAAe;EAC/C,IAAI5N,SAAS,GAAGqN,KAAK,CAACE,UAAU,CAAC5N,UAAU,CAAC0N,KAAK,CAACK,QAAQ,CAAC1N,SAAS,CAAC/F,EAAE,CAAC;EACxE,IAAIoC,OAAO,GAAG2D,SAAS,CAAClC,IAAI,CAACE,SAAS;EAEtC,IAAIqP,KAAK,CAACoH,qBAAqB,EAAE;IAC/B,IAAI5Q,QAAQ,GAAGwJ,KAAK,CAACxJ,QAAQ;IAE7B,IAAI2iB,OAAO,GAAGH,qBAAqB,CAAC;MAClC3B,aAAa,EAAEA,aAAa;MAC5B7gB,QAAQ,EAAEA,QAAQ;MAClBxH,OAAO,EAAEA,OAAO;MAChBuK,MAAM,EAAEA,MAAM;MACdke,sBAAsB,EAAEA;IAC1B,CAAC,CAAC;IAEF,IAAI0B,OAAO,EAAE;MACXhE,YAAY,CAACgE,OAAO,CAAC;MACrB;IACF;EACF;EAEA,IAAInoB,SAAS,GAAGwkB,0BAA0B,CAAC;IACzCjc,MAAM,EAAEA,MAAM;IACdjN,WAAW,EAAEuT,iBAAiB,CAACG,KAAK,CAAChN,MAAM,CAAC;IAC5Cf,UAAU,EAAE+N,KAAK,CAACE,UAAU,CAACjO;EAC/B,CAAC,CAAC;EAEF,IAAI,CAACjB,SAAS,EAAE;IACd;EACF;EAEA,IAAI6jB,MAAM,GAAGoE,wBAAwB,CAAC;IACpC5B,aAAa,EAAEA,aAAa;IAC5BrmB,SAAS,EAAEA,SAAS;IACpBhC,OAAO,EAAEA,OAAO;IAChBuK,MAAM,EAAEA,MAAM;IACdke,sBAAsB,EAAEA;EAC1B,CAAC,CAAC;EAEF,IAAI5C,MAAM,EAAE;IACV9jB,eAAe,CAACC,SAAS,CAACoB,UAAU,CAACxF,EAAE,EAAEioB,MAAM,CAAC;EAClD;AACF,CAAE;AAEF,IAAIuE,mBAAmB,GAAI,SAAvBA,mBAAmB,CAAc/qB,IAAI,EAAE;EACzC,IAAI8mB,YAAY,GAAG9mB,IAAI,CAAC8mB,YAAY;IAChCpkB,eAAe,GAAG1C,IAAI,CAAC0C,eAAe;EAC1C,IAAIsoB,oBAAoB,GAAG1yB,OAAO,CAACwuB,YAAY,CAAC;EAChD,IAAImE,uBAAuB,GAAG3yB,OAAO,CAACoK,eAAe,CAAC;EACtD,IAAIia,QAAQ,GAAG,IAAI;EAEnB,IAAIuO,SAAS,GAAG,SAASA,SAAS,CAACvZ,KAAK,EAAE;IACxC,CAACgL,QAAQ,GAAG/jB,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,GAAG4C,SAAS,CAAC,KAAK,EAAE,qCAAqC,CAAC,GAAGA,SAAS,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC;IACvI,IAAIyvB,SAAS,GAAGxO,QAAQ;MACpByM,sBAAsB,GAAG+B,SAAS,CAAC/B,sBAAsB;MACzDJ,aAAa,GAAGmC,SAAS,CAACnC,aAAa;IAC3C6B,QAAQ,CAAC;MACPlZ,KAAK,EAAEA,KAAK;MACZmV,YAAY,EAAEkE,oBAAoB;MAClCtoB,eAAe,EAAEuoB,uBAAuB;MACxCjC,aAAa,EAAEA,aAAa;MAC5BI,sBAAsB,EAAEA;IAC1B,CAAC,CAAC;EACJ,CAAC;EAED,IAAIgC,OAAO,GAAG,SAASA,OAAO,CAACzZ,KAAK,EAAE;IACpC7T,KAAK,CAAC,yBAAyB,CAAC;IAChC,CAAC,CAAC6e,QAAQ,GAAG/jB,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,GAAG4C,SAAS,CAAC,KAAK,EAAE,kDAAkD,CAAC,GAAGA,SAAS,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC;IAErJ,IAAIstB,aAAa,GAAGzwB,SAAS,EAAE;IAE/B,IAAI8yB,eAAe,GAAG,KAAK;IAE3B,IAAIC,kBAAkB,GAAG,SAASA,kBAAkB,GAAG;MACrDD,eAAe,GAAG,IAAI;IACxB,CAAC;IAEDR,QAAQ,CAAC;MACPlZ,KAAK,EAAEA,KAAK;MACZqX,aAAa,EAAE,CAAC;MAChBI,sBAAsB,EAAE,KAAK;MAC7BtC,YAAY,EAAEwE,kBAAkB;MAChC5oB,eAAe,EAAE4oB;IACnB,CAAC,CAAC;IACF3O,QAAQ,GAAG;MACTqM,aAAa,EAAEA,aAAa;MAC5BI,sBAAsB,EAAEiC;IAC1B,CAAC;IACDpV,MAAM,CAAC,yBAAyB,CAAC;IAEjC,IAAIoV,eAAe,EAAE;MACnBH,SAAS,CAACvZ,KAAK,CAAC;IAClB;EACF,CAAC;EAED,IAAIoO,IAAI,GAAG,SAASA,IAAI,GAAG;IACzB,IAAI,CAACpD,QAAQ,EAAE;MACb;IACF;IAEAqO,oBAAoB,CAAChL,MAAM,EAAE;IAC7BiL,uBAAuB,CAACjL,MAAM,EAAE;IAChCrD,QAAQ,GAAG,IAAI;EACjB,CAAC;EAED,OAAO;IACL7e,KAAK,EAAEstB,OAAO;IACdrL,IAAI,EAAEA,IAAI;IACVxe,MAAM,EAAE2pB;EACV,CAAC;AACH,CAAE;AAEF,IAAIK,kBAAkB,GAAI,SAAtBA,kBAAkB,CAAcvrB,IAAI,EAAE;EACxC,IAAI8a,IAAI,GAAG9a,IAAI,CAAC8a,IAAI;IAChBpY,eAAe,GAAG1C,IAAI,CAAC0C,eAAe;IACtCokB,YAAY,GAAG9mB,IAAI,CAAC8mB,YAAY;EAEpC,IAAI0E,YAAY,GAAG,SAASA,YAAY,CAAC7Z,KAAK,EAAE7Z,MAAM,EAAE;IACtD,IAAI4V,MAAM,GAAGpO,GAAG,CAACqS,KAAK,CAAC1O,OAAO,CAACyK,MAAM,CAAC0E,SAAS,EAAEta,MAAM,CAAC;IACxDgjB,IAAI,CAAC;MACHpN,MAAM,EAAEA;IACV,CAAC,CAAC;EACJ,CAAC;EAED,IAAI+d,4BAA4B,GAAG,SAASA,4BAA4B,CAAC9oB,SAAS,EAAE6jB,MAAM,EAAE;IAC1F,IAAI,CAACiE,kBAAkB,CAAC9nB,SAAS,EAAE6jB,MAAM,CAAC,EAAE;MAC1C,OAAOA,MAAM;IACf;IAEA,IAAI2D,OAAO,GAAGO,mBAAmB,CAAC/nB,SAAS,EAAE6jB,MAAM,CAAC;IAEpD,IAAI,CAAC2D,OAAO,EAAE;MACZznB,eAAe,CAACC,SAAS,CAACoB,UAAU,CAACxF,EAAE,EAAEioB,MAAM,CAAC;MAChD,OAAO,IAAI;IACb;IAEA,IAAIkF,yBAAyB,GAAGjsB,QAAQ,CAAC+mB,MAAM,EAAE2D,OAAO,CAAC;IACzDznB,eAAe,CAACC,SAAS,CAACoB,UAAU,CAACxF,EAAE,EAAEmtB,yBAAyB,CAAC;IACnE,IAAIC,SAAS,GAAGlsB,QAAQ,CAAC+mB,MAAM,EAAEkF,yBAAyB,CAAC;IAC3D,OAAOC,SAAS;EAClB,CAAC;EAED,IAAIC,yBAAyB,GAAG,SAASA,yBAAyB,CAAC7S,qBAAqB,EAAE5Q,QAAQ,EAAEqe,MAAM,EAAE;IAC1G,IAAI,CAACzN,qBAAqB,EAAE;MAC1B,OAAOyN,MAAM;IACf;IAEA,IAAI,CAAC+D,eAAe,CAACpiB,QAAQ,EAAEqe,MAAM,CAAC,EAAE;MACtC,OAAOA,MAAM;IACf;IAEA,IAAI2D,OAAO,GAAGK,gBAAgB,CAACriB,QAAQ,EAAEqe,MAAM,CAAC;IAEhD,IAAI,CAAC2D,OAAO,EAAE;MACZrD,YAAY,CAACN,MAAM,CAAC;MACpB,OAAO,IAAI;IACb;IAEA,IAAIqF,sBAAsB,GAAGpsB,QAAQ,CAAC+mB,MAAM,EAAE2D,OAAO,CAAC;IACtDrD,YAAY,CAAC+E,sBAAsB,CAAC;IACpC,IAAIF,SAAS,GAAGlsB,QAAQ,CAAC+mB,MAAM,EAAEqF,sBAAsB,CAAC;IACxD,OAAOF,SAAS;EAClB,CAAC;EAED,IAAIG,YAAY,GAAG,SAASA,YAAY,CAACna,KAAK,EAAE;IAC9C,IAAI6K,OAAO,GAAG7K,KAAK,CAACpD,iBAAiB;IAErC,IAAI,CAACiO,OAAO,EAAE;MACZ;IACF;IAEA,IAAIve,WAAW,GAAGuT,iBAAiB,CAACG,KAAK,CAAChN,MAAM,CAAC;IACjD,CAAC1G,WAAW,GAAGrF,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,GAAG4C,SAAS,CAAC,KAAK,EAAE,2DAA2D,CAAC,GAAGA,SAAS,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC;IAChK,IAAIqwB,kBAAkB,GAAGN,4BAA4B,CAAC9Z,KAAK,CAACE,UAAU,CAACjO,UAAU,CAAC3F,WAAW,CAAC,EAAEue,OAAO,CAAC;IAExG,IAAI,CAACuP,kBAAkB,EAAE;MACvB;IACF;IAEA,IAAI5jB,QAAQ,GAAGwJ,KAAK,CAACxJ,QAAQ;IAC7B,IAAI6jB,eAAe,GAAGJ,yBAAyB,CAACja,KAAK,CAACoH,qBAAqB,EAAE5Q,QAAQ,EAAE4jB,kBAAkB,CAAC;IAE1G,IAAI,CAACC,eAAe,EAAE;MACpB;IACF;IAEAR,YAAY,CAAC7Z,KAAK,EAAEqa,eAAe,CAAC;EACtC,CAAC;EAED,OAAOF,YAAY;AACrB,CAAE;AAEF,IAAIG,kBAAkB,GAAI,SAAtBA,kBAAkB,CAAcjsB,IAAI,EAAE;EACxC,IAAI0C,eAAe,GAAG1C,IAAI,CAAC0C,eAAe;IACtCokB,YAAY,GAAG9mB,IAAI,CAAC8mB,YAAY;IAChChM,IAAI,GAAG9a,IAAI,CAAC8a,IAAI;EACpB,IAAIoR,aAAa,GAAGnB,mBAAmB,CAAC;IACtCjE,YAAY,EAAEA,YAAY;IAC1BpkB,eAAe,EAAEA;EACnB,CAAC,CAAC;EACF,IAAIypB,UAAU,GAAGZ,kBAAkB,CAAC;IAClCzQ,IAAI,EAAEA,IAAI;IACVgM,YAAY,EAAEA,YAAY;IAC1BpkB,eAAe,EAAEA;EACnB,CAAC,CAAC;EAEF,IAAInB,MAAM,GAAG,SAASA,MAAM,CAACoQ,KAAK,EAAE;IAClC,IAAIA,KAAK,CAACW,KAAK,KAAK,UAAU,EAAE;MAC9B;IACF;IAEA,IAAIX,KAAK,CAAC0D,YAAY,KAAK,OAAO,EAAE;MAClC6W,aAAa,CAAC3qB,MAAM,CAACoQ,KAAK,CAAC;MAC3B;IACF;IAEA,IAAI,CAACA,KAAK,CAACpD,iBAAiB,EAAE;MAC5B;IACF;IAEA4d,UAAU,CAACxa,KAAK,CAAC;EACnB,CAAC;EAED,IAAIya,QAAQ,GAAG;IACb7qB,MAAM,EAAEA,MAAM;IACdzD,KAAK,EAAEouB,aAAa,CAACpuB,KAAK;IAC1BiiB,IAAI,EAAEmM,aAAa,CAACnM;EACtB,CAAC;EACD,OAAOqM,QAAQ;AACjB,CAAE;AAEF,IAAIC,QAAQ,GAAG,UAAU;AACzB,IAAIC,UAAU,GAAG,YAAY;EAC3B,IAAIC,IAAI,GAAGF,QAAQ,GAAG,cAAc;EACpC,OAAO;IACLE,IAAI,EAAEA,IAAI;IACV7tB,WAAW,EAAE6tB,IAAI,GAAG,eAAe;IACnCC,SAAS,EAAED,IAAI,GAAG;EACpB,CAAC;AACH,CAAC,EAAE;AACH,IAAIjoB,SAAS,GAAG,YAAY;EAC1B,IAAIioB,IAAI,GAAGF,QAAQ,GAAG,YAAY;EAClC,OAAO;IACLE,IAAI,EAAEA,IAAI;IACVC,SAAS,EAAED,IAAI,GAAG,aAAa;IAC/BhuB,EAAE,EAAEguB,IAAI,GAAG;EACb,CAAC;AACH,CAAC,EAAE;AACH,IAAI5pB,SAAS,GAAG,YAAY;EAC1B,IAAI4pB,IAAI,GAAGF,QAAQ,GAAG,YAAY;EAClC,OAAO;IACLE,IAAI,EAAEA,IAAI;IACVC,SAAS,EAAED,IAAI,GAAG,aAAa;IAC/BhuB,EAAE,EAAEguB,IAAI,GAAG;EACb,CAAC;AACH,CAAC,EAAE;AACH,IAAIE,eAAe,GAAG;EACpBD,SAAS,EAAEH,QAAQ,GAAG;AACxB,CAAC;AAED,IAAIK,eAAe,GAAG,SAASA,eAAe,CAACC,OAAO,EAAE;EACtD,OAAO,UAAUC,SAAS,EAAE;IAC1B,OAAO,GAAG,GAAGA,SAAS,GAAG,KAAK,GAAGD,OAAO,GAAG,KAAK;EAClD,CAAC;AACH,CAAC;AAED,IAAIE,SAAS,GAAG,SAASA,SAAS,CAACC,KAAK,EAAEC,QAAQ,EAAE;EAClD,OAAOD,KAAK,CAACnyB,GAAG,CAAC,UAAUqyB,IAAI,EAAE;IAC/B,IAAI9zB,KAAK,GAAG8zB,IAAI,CAACC,MAAM,CAACF,QAAQ,CAAC;IAEjC,IAAI,CAAC7zB,KAAK,EAAE;MACV,OAAO,EAAE;IACX;IAEA,OAAO8zB,IAAI,CAACE,QAAQ,GAAG,KAAK,GAAGh0B,KAAK,GAAG,IAAI;EAC7C,CAAC,CAAC,CAAC6iB,IAAI,CAAC,GAAG,CAAC;AACd,CAAC;AAED,IAAIoR,eAAe,GAAG,uBAAuB;AAC7C,IAAIC,WAAW,GAAI,SAAfA,WAAW,CAAcZ,SAAS,EAAE;EACtC,IAAIa,WAAW,GAAGX,eAAe,CAACF,SAAS,CAAC;EAE5C,IAAIc,YAAY,GAAG,YAAY;IAC7B,IAAIC,UAAU,GAAG,0DAA0D;IAC3E,OAAO;MACLL,QAAQ,EAAEG,WAAW,CAACf,UAAU,CAACE,SAAS,CAAC;MAC3CS,MAAM,EAAE;QACNO,MAAM,EAAE,kJAAkJ;QAC1J3Q,OAAO,EAAE0Q,UAAU;QACnB5Q,QAAQ,EAAEwQ,eAAe;QACzBM,aAAa,EAAEF;MACjB;IACF,CAAC;EACH,CAAC,EAAE;EAEH,IAAIG,WAAW,GAAG,YAAY;IAC5B,IAAIC,UAAU,GAAG,sBAAsB,GAAGpQ,WAAW,CAACR,WAAW,GAAG,SAAS;IAC7E,OAAO;MACLmQ,QAAQ,EAAEG,WAAW,CAAC/oB,SAAS,CAACkoB,SAAS,CAAC;MAC1CS,MAAM,EAAE;QACNtQ,QAAQ,EAAEgR,UAAU;QACpBF,aAAa,EAAEE,UAAU;QACzBC,UAAU,EAAED;MACd;IACF,CAAC;EACH,CAAC,EAAE;EAEH,IAAIE,WAAW,GAAG;IAChBX,QAAQ,EAAEG,WAAW,CAAC1qB,SAAS,CAAC6pB,SAAS,CAAC;IAC1CS,MAAM,EAAE;MACNO,MAAM,EAAE;IACV;EACF,CAAC;EACD,IAAIM,IAAI,GAAG;IACTZ,QAAQ,EAAE,MAAM;IAChBD,MAAM,EAAE;MACNtQ,QAAQ,EAAE;IACZ;EACF,CAAC;EACD,IAAImQ,KAAK,GAAG,CAACY,WAAW,EAAEJ,YAAY,EAAEO,WAAW,EAAEC,IAAI,CAAC;EAC1D,OAAO;IACLN,MAAM,EAAEX,SAAS,CAACC,KAAK,EAAE,QAAQ,CAAC;IAClCjQ,OAAO,EAAEgQ,SAAS,CAACC,KAAK,EAAE,SAAS,CAAC;IACpCnQ,QAAQ,EAAEkQ,SAAS,CAACC,KAAK,EAAE,UAAU,CAAC;IACtCW,aAAa,EAAEZ,SAAS,CAACC,KAAK,EAAE,eAAe,CAAC;IAChDc,UAAU,EAAEf,SAAS,CAACC,KAAK,EAAE,YAAY;EAC3C,CAAC;AACH,CAAE;AAEF,IAAIiB,yBAAyB,GAAG,OAAOn0B,MAAM,KAAK,WAAW,IAAI,OAAOA,MAAM,CAAC6lB,QAAQ,KAAK,WAAW,IAAI,OAAO7lB,MAAM,CAAC6lB,QAAQ,CAACuO,aAAa,KAAK,WAAW,GAAGp3B,eAAe,GAAGC,SAAS;AAE7L,IAAIo3B,OAAO,GAAG,SAASA,OAAO,GAAG;EAC/B,IAAIC,IAAI,GAAGzO,QAAQ,CAAC0O,aAAa,CAAC,MAAM,CAAC;EACzC,CAACD,IAAI,GAAGt1B,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,GAAG4C,SAAS,CAAC,KAAK,EAAE,2CAA2C,CAAC,GAAGA,SAAS,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC;EACzI,OAAOwyB,IAAI;AACb,CAAC;AAED,IAAIE,aAAa,GAAG,SAASA,aAAa,CAACC,KAAK,EAAE;EAChD,IAAI9zB,EAAE,GAAGklB,QAAQ,CAACuO,aAAa,CAAC,OAAO,CAAC;EAExC,IAAIK,KAAK,EAAE;IACT9zB,EAAE,CAAC+zB,YAAY,CAAC,OAAO,EAAED,KAAK,CAAC;EACjC;EAEA9zB,EAAE,CAACb,IAAI,GAAG,UAAU;EACpB,OAAOa,EAAE;AACX,CAAC;AAED,SAASg0B,eAAe,CAAC/B,SAAS,EAAE6B,KAAK,EAAE;EACzC,IAAIpB,MAAM,GAAGh2B,OAAO,CAAC,YAAY;IAC/B,OAAOm2B,WAAW,CAACZ,SAAS,CAAC;EAC/B,CAAC,EAAE,CAACA,SAAS,CAAC,CAAC;EACf,IAAIgC,SAAS,GAAG13B,MAAM,CAAC,IAAI,CAAC;EAC5B,IAAI23B,UAAU,GAAG33B,MAAM,CAAC,IAAI,CAAC;EAC7B,IAAI43B,eAAe,GAAGx3B,WAAW,CAACiB,UAAU,CAAC,UAAU+Y,QAAQ,EAAE;IAC/D,IAAI3W,EAAE,GAAGk0B,UAAU,CAACxrB,OAAO;IAC3B,CAAC1I,EAAE,GAAG3B,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,GAAG4C,SAAS,CAAC,KAAK,EAAE,mDAAmD,CAAC,GAAGA,SAAS,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC;IAC/InB,EAAE,CAACo0B,WAAW,GAAGzd,QAAQ;EAC3B,CAAC,CAAC,EAAE,EAAE,CAAC;EACP,IAAI0d,cAAc,GAAG13B,WAAW,CAAC,UAAUga,QAAQ,EAAE;IACnD,IAAI3W,EAAE,GAAGi0B,SAAS,CAACvrB,OAAO;IAC1B,CAAC1I,EAAE,GAAG3B,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,GAAG4C,SAAS,CAAC,KAAK,EAAE,mDAAmD,CAAC,GAAGA,SAAS,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC;IAC/InB,EAAE,CAACo0B,WAAW,GAAGzd,QAAQ;EAC3B,CAAC,EAAE,EAAE,CAAC;EACN6c,yBAAyB,CAAC,YAAY;IACpC,EAAE,CAACS,SAAS,CAACvrB,OAAO,IAAI,CAACwrB,UAAU,CAACxrB,OAAO,CAAC,GAAGrK,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,GAAG4C,SAAS,CAAC,KAAK,EAAE,gCAAgC,CAAC,GAAGA,SAAS,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC;IACrK,IAAI8xB,MAAM,GAAGY,aAAa,CAACC,KAAK,CAAC;IACjC,IAAIQ,OAAO,GAAGT,aAAa,CAACC,KAAK,CAAC;IAClCG,SAAS,CAACvrB,OAAO,GAAGuqB,MAAM;IAC1BiB,UAAU,CAACxrB,OAAO,GAAG4rB,OAAO;IAC5BrB,MAAM,CAACc,YAAY,CAACjC,QAAQ,GAAG,SAAS,EAAEG,SAAS,CAAC;IACpDqC,OAAO,CAACP,YAAY,CAACjC,QAAQ,GAAG,UAAU,EAAEG,SAAS,CAAC;IACtDyB,OAAO,EAAE,CAACa,WAAW,CAACtB,MAAM,CAAC;IAC7BS,OAAO,EAAE,CAACa,WAAW,CAACD,OAAO,CAAC;IAC9BD,cAAc,CAAC3B,MAAM,CAACO,MAAM,CAAC;IAC7BkB,eAAe,CAACzB,MAAM,CAACpQ,OAAO,CAAC;IAC/B,OAAO,YAAY;MACjB,IAAI9X,MAAM,GAAG,SAASA,MAAM,CAACgqB,GAAG,EAAE;QAChC,IAAI9rB,OAAO,GAAG8rB,GAAG,CAAC9rB,OAAO;QACzB,CAACA,OAAO,GAAGrK,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,GAAG4C,SAAS,CAAC,KAAK,EAAE,qCAAqC,CAAC,GAAGA,SAAS,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC;QACtIuyB,OAAO,EAAE,CAACe,WAAW,CAAC/rB,OAAO,CAAC;QAC9B8rB,GAAG,CAAC9rB,OAAO,GAAG,IAAI;MACpB,CAAC;MAED8B,MAAM,CAACypB,SAAS,CAAC;MACjBzpB,MAAM,CAAC0pB,UAAU,CAAC;IACpB,CAAC;EACH,CAAC,EAAE,CAACJ,KAAK,EAAEO,cAAc,EAAEF,eAAe,EAAEzB,MAAM,CAACO,MAAM,EAAEP,MAAM,CAACpQ,OAAO,EAAE2P,SAAS,CAAC,CAAC;EACtF,IAAI7P,QAAQ,GAAGzlB,WAAW,CAAC,YAAY;IACrC,OAAOw3B,eAAe,CAACzB,MAAM,CAACtQ,QAAQ,CAAC;EACzC,CAAC,EAAE,CAAC+R,eAAe,EAAEzB,MAAM,CAACtQ,QAAQ,CAAC,CAAC;EACtC,IAAIC,QAAQ,GAAG1lB,WAAW,CAAC,UAAU+H,MAAM,EAAE;IAC3C,IAAIA,MAAM,KAAK,MAAM,EAAE;MACrByvB,eAAe,CAACzB,MAAM,CAACQ,aAAa,CAAC;MACrC;IACF;IAEAiB,eAAe,CAACzB,MAAM,CAACW,UAAU,CAAC;EACpC,CAAC,EAAE,CAACc,eAAe,EAAEzB,MAAM,CAACQ,aAAa,EAAER,MAAM,CAACW,UAAU,CAAC,CAAC;EAC9D,IAAI/Q,OAAO,GAAG3lB,WAAW,CAAC,YAAY;IACpC,IAAI,CAACu3B,UAAU,CAACxrB,OAAO,EAAE;MACvB;IACF;IAEAyrB,eAAe,CAACzB,MAAM,CAACpQ,OAAO,CAAC;EACjC,CAAC,EAAE,CAAC6R,eAAe,EAAEzB,MAAM,CAACpQ,OAAO,CAAC,CAAC;EACrC,IAAIX,OAAO,GAAGjlB,OAAO,CAAC,YAAY;IAChC,OAAO;MACL0lB,QAAQ,EAAEA,QAAQ;MAClBC,QAAQ,EAAEA,QAAQ;MAClBC,OAAO,EAAEA;IACX,CAAC;EACH,CAAC,EAAE,CAACF,QAAQ,EAAEC,QAAQ,EAAEC,OAAO,CAAC,CAAC;EACjC,OAAOX,OAAO;AAChB;AAEA,IAAI+S,eAAe,GAAI,SAAnBA,eAAe,CAAc10B,EAAE,EAAE;EACnC,OAAOA,EAAE,IAAIA,EAAE,CAAC20B,aAAa,GAAG30B,EAAE,CAAC20B,aAAa,CAACC,WAAW,GAAGv1B,MAAM;AACvE,CAAE;AAEF,SAASw1B,aAAa,CAAC70B,EAAE,EAAE;EACzB,OAAOA,EAAE,YAAY00B,eAAe,CAAC10B,EAAE,CAAC,CAAC80B,WAAW;AACtD;AAEA,SAASC,cAAc,CAAC9C,SAAS,EAAE9tB,WAAW,EAAE;EAC9C,IAAIwuB,QAAQ,GAAG,GAAG,GAAGZ,UAAU,CAACE,SAAS,GAAG,KAAK,GAAGA,SAAS,GAAG,KAAK;EACrE,IAAI+C,QAAQ,GAAG9rB,OAAO,CAACgc,QAAQ,CAAC+P,gBAAgB,CAACtC,QAAQ,CAAC,CAAC;EAE3D,IAAI,CAACqC,QAAQ,CAACtzB,MAAM,EAAE;IACpBrD,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,GAAGiB,OAAO,CAAC,mDAAmD,GAAGyyB,SAAS,GAAG,IAAI,CAAC,GAAG,KAAK,CAAC;IAChI,OAAO,IAAI;EACb;EAEA,IAAIiD,MAAM,GAAGlsB,IAAI,CAACgsB,QAAQ,EAAE,UAAUh1B,EAAE,EAAE;IACxC,OAAOA,EAAE,CAACm1B,YAAY,CAACpD,UAAU,CAAC5tB,WAAW,CAAC,KAAKA,WAAW;EAChE,CAAC,CAAC;EAEF,IAAI,CAAC+wB,MAAM,EAAE;IACX72B,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,GAAGiB,OAAO,CAAC,uCAAuC,GAAG2E,WAAW,GAAG,8CAA8C,CAAC,GAAG,KAAK,CAAC;IAChK,OAAO,IAAI;EACb;EAEA,IAAI,CAAC0wB,aAAa,CAACK,MAAM,CAAC,EAAE;IAC1B72B,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,GAAGiB,OAAO,CAAC,uCAAuC,CAAC,GAAG,KAAK,CAAC;IACjG,OAAO,IAAI;EACb;EAEA,OAAO01B,MAAM;AACf;AAEA,SAASE,eAAe,CAACnD,SAAS,EAAE;EAClC,IAAIoD,UAAU,GAAG94B,MAAM,CAAC,CAAC,CAAC,CAAC;EAC3B,IAAI+4B,SAAS,GAAG/4B,MAAM,CAAC,IAAI,CAAC;EAC5B,IAAIg5B,oBAAoB,GAAGh5B,MAAM,CAAC,IAAI,CAAC;EACvC,IAAIi5B,YAAY,GAAGj5B,MAAM,CAAC,KAAK,CAAC;EAChC,IAAIk5B,QAAQ,GAAG94B,WAAW,CAAC,SAAS84B,QAAQ,CAACzxB,EAAE,EAAEolB,KAAK,EAAE;IACtD,IAAIzC,KAAK,GAAG;MACV3iB,EAAE,EAAEA,EAAE;MACNolB,KAAK,EAAEA;IACT,CAAC;IACDiM,UAAU,CAAC3sB,OAAO,CAAC1E,EAAE,CAAC,GAAG2iB,KAAK;IAC9B,OAAO,SAAS+O,UAAU,GAAG;MAC3B,IAAIpP,OAAO,GAAG+O,UAAU,CAAC3sB,OAAO;MAChC,IAAIA,OAAO,GAAG4d,OAAO,CAACtiB,EAAE,CAAC;MAEzB,IAAI0E,OAAO,KAAKie,KAAK,EAAE;QACrB,OAAOL,OAAO,CAACtiB,EAAE,CAAC;MACpB;IACF,CAAC;EACH,CAAC,EAAE,EAAE,CAAC;EACN,IAAI2xB,YAAY,GAAGh5B,WAAW,CAAC,SAASg5B,YAAY,CAACC,cAAc,EAAE;IACnE,IAAIV,MAAM,GAAGH,cAAc,CAAC9C,SAAS,EAAE2D,cAAc,CAAC;IAEtD,IAAIV,MAAM,IAAIA,MAAM,KAAKhQ,QAAQ,CAAC2Q,aAAa,EAAE;MAC/CX,MAAM,CAAC9L,KAAK,EAAE;IAChB;EACF,CAAC,EAAE,CAAC6I,SAAS,CAAC,CAAC;EACf,IAAIzI,cAAc,GAAG7sB,WAAW,CAAC,SAAS6sB,cAAc,CAACjgB,QAAQ,EAAEusB,UAAU,EAAE;IAC7E,IAAIR,SAAS,CAAC5sB,OAAO,KAAKa,QAAQ,EAAE;MAClC+rB,SAAS,CAAC5sB,OAAO,GAAGotB,UAAU;IAChC;EACF,CAAC,EAAE,EAAE,CAAC;EACN,IAAIvM,uBAAuB,GAAG5sB,WAAW,CAAC,SAAS4sB,uBAAuB,GAAG;IAC3E,IAAIgM,oBAAoB,CAAC7sB,OAAO,EAAE;MAChC;IACF;IAEA,IAAI,CAAC8sB,YAAY,CAAC9sB,OAAO,EAAE;MACzB;IACF;IAEA6sB,oBAAoB,CAAC7sB,OAAO,GAAGugB,qBAAqB,CAAC,YAAY;MAC/DsM,oBAAoB,CAAC7sB,OAAO,GAAG,IAAI;MACnC,IAAIqtB,MAAM,GAAGT,SAAS,CAAC5sB,OAAO;MAE9B,IAAIqtB,MAAM,EAAE;QACVJ,YAAY,CAACI,MAAM,CAAC;MACtB;IACF,CAAC,CAAC;EACJ,CAAC,EAAE,CAACJ,YAAY,CAAC,CAAC;EAClB,IAAIrM,cAAc,GAAG3sB,WAAW,CAAC,SAAS2sB,cAAc,CAACtlB,EAAE,EAAE;IAC3DsxB,SAAS,CAAC5sB,OAAO,GAAG,IAAI;IACxB,IAAIstB,OAAO,GAAG9Q,QAAQ,CAAC2Q,aAAa;IAEpC,IAAI,CAACG,OAAO,EAAE;MACZ;IACF;IAEA,IAAIA,OAAO,CAACb,YAAY,CAACpD,UAAU,CAAC5tB,WAAW,CAAC,KAAKH,EAAE,EAAE;MACvD;IACF;IAEAsxB,SAAS,CAAC5sB,OAAO,GAAG1E,EAAE;EACxB,CAAC,EAAE,EAAE,CAAC;EACNwvB,yBAAyB,CAAC,YAAY;IACpCgC,YAAY,CAAC9sB,OAAO,GAAG,IAAI;IAC3B,OAAO,SAASutB,mBAAmB,GAAG;MACpCT,YAAY,CAAC9sB,OAAO,GAAG,KAAK;MAC5B,IAAIkgB,OAAO,GAAG2M,oBAAoB,CAAC7sB,OAAO;MAE1C,IAAIkgB,OAAO,EAAE;QACXE,oBAAoB,CAACF,OAAO,CAAC;MAC/B;IACF,CAAC;EACH,CAAC,EAAE,EAAE,CAAC;EACN,IAAIjH,OAAO,GAAGjlB,OAAO,CAAC,YAAY;IAChC,OAAO;MACL+4B,QAAQ,EAAEA,QAAQ;MAClBnM,cAAc,EAAEA,cAAc;MAC9BC,uBAAuB,EAAEA,uBAAuB;MAChDC,cAAc,EAAEA;IAClB,CAAC;EACH,CAAC,EAAE,CAACiM,QAAQ,EAAEnM,cAAc,EAAEC,uBAAuB,EAAEC,cAAc,CAAC,CAAC;EACvE,OAAO7H,OAAO;AAChB;AAEA,SAASuU,cAAc,GAAG;EACxB,IAAI5P,OAAO,GAAG;IACZ5c,UAAU,EAAE,CAAC,CAAC;IACdL,UAAU,EAAE,CAAC;EACf,CAAC;EACD,IAAI8sB,WAAW,GAAG,EAAE;EAEpB,SAAS9J,SAAS,CAAC+J,EAAE,EAAE;IACrBD,WAAW,CAACvnB,IAAI,CAACwnB,EAAE,CAAC;IACpB,OAAO,SAASjK,WAAW,GAAG;MAC5B,IAAI9oB,KAAK,GAAG8yB,WAAW,CAAC7mB,OAAO,CAAC8mB,EAAE,CAAC;MAEnC,IAAI/yB,KAAK,KAAK,CAAC,CAAC,EAAE;QAChB;MACF;MAEA8yB,WAAW,CAACzP,MAAM,CAACrjB,KAAK,EAAE,CAAC,CAAC;IAC9B,CAAC;EACH;EAEA,SAASgzB,MAAM,CAACn0B,KAAK,EAAE;IACrB,IAAIi0B,WAAW,CAACz0B,MAAM,EAAE;MACtBy0B,WAAW,CAACt1B,OAAO,CAAC,UAAUu1B,EAAE,EAAE;QAChC,OAAOA,EAAE,CAACl0B,KAAK,CAAC;MAClB,CAAC,CAAC;IACJ;EACF;EAEA,SAASo0B,iBAAiB,CAACtyB,EAAE,EAAE;IAC7B,OAAOsiB,OAAO,CAAC5c,UAAU,CAAC1F,EAAE,CAAC,IAAI,IAAI;EACvC;EAEA,SAASuyB,gBAAgB,CAACvyB,EAAE,EAAE;IAC5B,IAAI2iB,KAAK,GAAG2P,iBAAiB,CAACtyB,EAAE,CAAC;IACjC,CAAC2iB,KAAK,GAAGtoB,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,GAAG4C,SAAS,CAAC,KAAK,EAAE,uCAAuC,GAAG6C,EAAE,GAAG,GAAG,CAAC,GAAG7C,SAAS,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC;IACjJ,OAAOwlB,KAAK;EACd;EAEA,IAAI6P,YAAY,GAAG;IACjBf,QAAQ,EAAE,SAASA,QAAQ,CAAC9O,KAAK,EAAE;MACjCL,OAAO,CAAC5c,UAAU,CAACid,KAAK,CAACnd,UAAU,CAACxF,EAAE,CAAC,GAAG2iB,KAAK;MAC/C0P,MAAM,CAAC;QACLl3B,IAAI,EAAE,UAAU;QAChBR,KAAK,EAAEgoB;MACT,CAAC,CAAC;IACJ,CAAC;IACDtiB,MAAM,EAAE,SAASA,MAAM,CAACsiB,KAAK,EAAEvb,IAAI,EAAE;MACnC,IAAI1C,OAAO,GAAG4d,OAAO,CAAC5c,UAAU,CAAC0B,IAAI,CAAC5B,UAAU,CAACxF,EAAE,CAAC;MAEpD,IAAI,CAAC0E,OAAO,EAAE;QACZ;MACF;MAEA,IAAIA,OAAO,CAAC+tB,QAAQ,KAAK9P,KAAK,CAAC8P,QAAQ,EAAE;QACvC;MACF;MAEA,OAAOnQ,OAAO,CAAC5c,UAAU,CAAC0B,IAAI,CAAC5B,UAAU,CAACxF,EAAE,CAAC;MAC7CsiB,OAAO,CAAC5c,UAAU,CAACid,KAAK,CAACnd,UAAU,CAACxF,EAAE,CAAC,GAAG2iB,KAAK;IACjD,CAAC;IACD+O,UAAU,EAAE,SAASA,UAAU,CAAC/O,KAAK,EAAE;MACrC,IAAIxiB,WAAW,GAAGwiB,KAAK,CAACnd,UAAU,CAACxF,EAAE;MACrC,IAAI0E,OAAO,GAAG4tB,iBAAiB,CAACnyB,WAAW,CAAC;MAE5C,IAAI,CAACuE,OAAO,EAAE;QACZ;MACF;MAEA,IAAIie,KAAK,CAAC8P,QAAQ,KAAK/tB,OAAO,CAAC+tB,QAAQ,EAAE;QACvC;MACF;MAEA,OAAOnQ,OAAO,CAAC5c,UAAU,CAACvF,WAAW,CAAC;MACtCkyB,MAAM,CAAC;QACLl3B,IAAI,EAAE,SAAS;QACfR,KAAK,EAAEgoB;MACT,CAAC,CAAC;IACJ,CAAC;IACD+D,OAAO,EAAE6L,gBAAgB;IACzBG,QAAQ,EAAEJ,iBAAiB;IAC3BtK,MAAM,EAAE,SAASA,MAAM,CAAChoB,EAAE,EAAE;MAC1B,OAAO0L,OAAO,CAAC4mB,iBAAiB,CAACtyB,EAAE,CAAC,CAAC;IACvC,CAAC;IACD2nB,YAAY,EAAE,SAASA,YAAY,CAACxsB,IAAI,EAAE;MACxC,OAAOwJ,MAAM,CAAC2d,OAAO,CAAC5c,UAAU,CAAC,CAACI,MAAM,CAAC,UAAU6c,KAAK,EAAE;QACxD,OAAOA,KAAK,CAACnd,UAAU,CAACrK,IAAI,KAAKA,IAAI;MACvC,CAAC,CAAC;IACJ;EACF,CAAC;EAED,SAASw3B,iBAAiB,CAAC3yB,EAAE,EAAE;IAC7B,OAAOsiB,OAAO,CAACjd,UAAU,CAACrF,EAAE,CAAC,IAAI,IAAI;EACvC;EAEA,SAAS4yB,gBAAgB,CAAC5yB,EAAE,EAAE;IAC5B,IAAI2iB,KAAK,GAAGgQ,iBAAiB,CAAC3yB,EAAE,CAAC;IACjC,CAAC2iB,KAAK,GAAGtoB,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,GAAG4C,SAAS,CAAC,KAAK,EAAE,uCAAuC,GAAG6C,EAAE,GAAG,GAAG,CAAC,GAAG7C,SAAS,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC;IACjJ,OAAOwlB,KAAK;EACd;EAEA,IAAIkQ,YAAY,GAAG;IACjBpB,QAAQ,EAAE,SAASA,QAAQ,CAAC9O,KAAK,EAAE;MACjCL,OAAO,CAACjd,UAAU,CAACsd,KAAK,CAACnd,UAAU,CAACxF,EAAE,CAAC,GAAG2iB,KAAK;IACjD,CAAC;IACD+O,UAAU,EAAE,SAASA,UAAU,CAAC/O,KAAK,EAAE;MACrC,IAAIje,OAAO,GAAGiuB,iBAAiB,CAAChQ,KAAK,CAACnd,UAAU,CAACxF,EAAE,CAAC;MAEpD,IAAI,CAAC0E,OAAO,EAAE;QACZ;MACF;MAEA,IAAIie,KAAK,CAAC8P,QAAQ,KAAK/tB,OAAO,CAAC+tB,QAAQ,EAAE;QACvC;MACF;MAEA,OAAOnQ,OAAO,CAACjd,UAAU,CAACsd,KAAK,CAACnd,UAAU,CAACxF,EAAE,CAAC;IAChD,CAAC;IACD0mB,OAAO,EAAEkM,gBAAgB;IACzBF,QAAQ,EAAEC,iBAAiB;IAC3B3K,MAAM,EAAE,SAASA,MAAM,CAAChoB,EAAE,EAAE;MAC1B,OAAO0L,OAAO,CAACinB,iBAAiB,CAAC3yB,EAAE,CAAC,CAAC;IACvC,CAAC;IACD2nB,YAAY,EAAE,SAASA,YAAY,CAACxsB,IAAI,EAAE;MACxC,OAAOwJ,MAAM,CAAC2d,OAAO,CAACjd,UAAU,CAAC,CAACS,MAAM,CAAC,UAAU6c,KAAK,EAAE;QACxD,OAAOA,KAAK,CAACnd,UAAU,CAACrK,IAAI,KAAKA,IAAI;MACvC,CAAC,CAAC;IACJ;EACF,CAAC;EAED,SAAST,KAAK,GAAG;IACf4nB,OAAO,CAAC5c,UAAU,GAAG,CAAC,CAAC;IACvB4c,OAAO,CAACjd,UAAU,GAAG,CAAC,CAAC;IACvB8sB,WAAW,CAACz0B,MAAM,GAAG,CAAC;EACxB;EAEA,OAAO;IACLqI,SAAS,EAAEysB,YAAY;IACvBpuB,SAAS,EAAEyuB,YAAY;IACvBxK,SAAS,EAAEA,SAAS;IACpB3tB,KAAK,EAAEA;EACT,CAAC;AACH;AAEA,SAASo4B,WAAW,GAAG;EACrB,IAAIxM,QAAQ,GAAG5tB,OAAO,CAACw5B,cAAc,EAAE,EAAE,CAAC;EAC1C55B,SAAS,CAAC,YAAY;IACpB,OAAO,SAASy6B,OAAO,GAAG;MACxB9N,qBAAqB,CAACqB,QAAQ,CAAC5rB,KAAK,CAAC;IACvC,CAAC;EACH,CAAC,EAAE,CAAC4rB,QAAQ,CAAC,CAAC;EACd,OAAOA,QAAQ;AACjB;AAEA,IAAI0M,YAAY,GAAG56B,KAAK,CAAC66B,aAAa,CAAC,IAAI,CAAC;AAE5C,IAAIC,cAAc,GAAI,SAAlBA,cAAc,GAAgB;EAChC,IAAI3D,IAAI,GAAGrO,QAAQ,CAACqO,IAAI;EACxB,CAACA,IAAI,GAAGl1B,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,GAAG4C,SAAS,CAAC,KAAK,EAAE,2BAA2B,CAAC,GAAGA,SAAS,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC;EACzH,OAAOoyB,IAAI;AACb,CAAE;AAEF,IAAI4D,cAAc,GAAG;EACnB/zB,QAAQ,EAAE,UAAU;EACpBsD,KAAK,EAAE,KAAK;EACZC,MAAM,EAAE,KAAK;EACbqK,MAAM,EAAE,MAAM;EACdomB,MAAM,EAAE,GAAG;EACXC,OAAO,EAAE,GAAG;EACZC,QAAQ,EAAE,QAAQ;EAClB7vB,IAAI,EAAE,eAAe;EACrB,WAAW,EAAE;AACf,CAAC;AAED,IAAI8vB,KAAK,GAAG,SAASA,KAAK,CAACtF,SAAS,EAAE;EACpC,OAAO,mBAAmB,GAAGA,SAAS;AACxC,CAAC;AACD,SAASuF,YAAY,CAACvF,SAAS,EAAE;EAC/B,IAAIjuB,EAAE,GAAGtH,OAAO,CAAC,YAAY;IAC3B,OAAO66B,KAAK,CAACtF,SAAS,CAAC;EACzB,CAAC,EAAE,CAACA,SAAS,CAAC,CAAC;EACf,IAAIuC,GAAG,GAAGj4B,MAAM,CAAC,IAAI,CAAC;EACtBD,SAAS,CAAC,SAASm7B,KAAK,GAAG;IACzB,IAAIz3B,EAAE,GAAGklB,QAAQ,CAACuO,aAAa,CAAC,KAAK,CAAC;IACtCe,GAAG,CAAC9rB,OAAO,GAAG1I,EAAE;IAChBA,EAAE,CAACgE,EAAE,GAAGA,EAAE;IACVhE,EAAE,CAAC+zB,YAAY,CAAC,WAAW,EAAE,WAAW,CAAC;IACzC/zB,EAAE,CAAC+zB,YAAY,CAAC,MAAM,EAAE,KAAK,CAAC;IAC9B/zB,EAAE,CAAC+zB,YAAY,CAAC,aAAa,EAAE,MAAM,CAAC;IAEtC91B,cAAc,CAAC+B,EAAE,CAAC8b,KAAK,EAAEqb,cAAc,CAAC;IAExCD,cAAc,EAAE,CAAC3C,WAAW,CAACv0B,EAAE,CAAC;IAChC,OAAO,SAAS03B,OAAO,GAAG;MACxBvR,UAAU,CAAC,SAAS3b,MAAM,GAAG;QAC3B0sB,cAAc,EAAE,CAACzC,WAAW,CAACz0B,EAAE,CAAC;QAEhC,IAAIA,EAAE,KAAKw0B,GAAG,CAAC9rB,OAAO,EAAE;UACtB8rB,GAAG,CAAC9rB,OAAO,GAAG,IAAI;QACpB;MACF,CAAC,CAAC;IACJ,CAAC;EACH,CAAC,EAAE,CAAC1E,EAAE,CAAC,CAAC;EACR,IAAI+hB,QAAQ,GAAGppB,WAAW,CAAC,UAAUoC,OAAO,EAAE;IAC5C,IAAIiB,EAAE,GAAGw0B,GAAG,CAAC9rB,OAAO;IAEpB,IAAI1I,EAAE,EAAE;MACNA,EAAE,CAACo0B,WAAW,GAAGr1B,OAAO;MACxB;IACF;IAEAV,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,GAAGiB,OAAO,CAAC,wXAAwX,GAAGT,OAAO,GAAG,UAAU,CAAC,GAAG,KAAK,CAAC;EAC3c,CAAC,EAAE,EAAE,CAAC;EACN,OAAOgnB,QAAQ;AACjB;AAEA,IAAI4R,OAAO,GAAG,SAASJ,KAAK,CAACtF,SAAS,EAAE;EACtC,OAAO,uBAAuB,GAAGA,SAAS;AAC5C,CAAC;AACD,SAAS2F,kBAAkB,CAAC3F,SAAS,EAAE9uB,eAAe,EAAE;EACtD,IAAIa,EAAE,GAAGtH,OAAO,CAAC,YAAY;IAC3B,OAAOi7B,OAAO,CAAC1F,SAAS,CAAC;EAC3B,CAAC,EAAE,CAACA,SAAS,CAAC,CAAC;EACf31B,SAAS,CAAC,SAASu7B,KAAK,GAAG;IACzB,IAAI73B,EAAE,GAAGklB,QAAQ,CAACuO,aAAa,CAAC,KAAK,CAAC;IACtCzzB,EAAE,CAACgE,EAAE,GAAGA,EAAE;IACVhE,EAAE,CAACo0B,WAAW,GAAGjxB,eAAe;IAEhClF,cAAc,CAAC+B,EAAE,CAAC8b,KAAK,EAAE;MACvBgc,OAAO,EAAE;IACX,CAAC,CAAC;IAEFZ,cAAc,EAAE,CAAC3C,WAAW,CAACv0B,EAAE,CAAC;IAChC,OAAO,SAAS+2B,OAAO,GAAG;MACxBG,cAAc,EAAE,CAACzC,WAAW,CAACz0B,EAAE,CAAC;IAClC,CAAC;EACH,CAAC,EAAE,CAACgE,EAAE,EAAEb,eAAe,CAAC,CAAC;EACzB,OAAOa,EAAE;AACX;AAEA,IAAI+zB,UAAU,GAAG37B,KAAK,CAAC66B,aAAa,CAAC,IAAI,CAAC;AAE1C,IAAIe,gBAAgB,GAAG;EACtBC,KAAK,EAAE,SAAS;EAChB,WAAW,EAAE;AACd,CAAC;AAED,IAAIC,MAAM,GAAG,qBAAqB;AAElC,IAAIC,UAAU,GAAG,SAASA,UAAU,CAACx5B,KAAK,EAAE;EAC1C,IAAI8F,MAAM,GAAGyzB,MAAM,CAACE,IAAI,CAACz5B,KAAK,CAAC;EAC/B,EAAE8F,MAAM,IAAI,IAAI,CAAC,GAAGpG,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,GAAG4C,SAAS,CAAC,KAAK,EAAE,gCAAgC,GAAGxC,KAAK,CAAC,GAAGwC,SAAS,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC;EAClJ,IAAIk3B,KAAK,GAAGrU,MAAM,CAACvf,MAAM,CAAC,CAAC,CAAC,CAAC;EAC7B,IAAI6zB,KAAK,GAAGtU,MAAM,CAACvf,MAAM,CAAC,CAAC,CAAC,CAAC;EAC7B,IAAIa,KAAK,GAAG0e,MAAM,CAACvf,MAAM,CAAC,CAAC,CAAC,CAAC;EAC7B,OAAO;IACL4zB,KAAK,EAAEA,KAAK;IACZC,KAAK,EAAEA,KAAK;IACZhzB,KAAK,EAAEA,KAAK;IACZizB,GAAG,EAAE55B;EACP,CAAC;AACH,CAAC;AAED,IAAI65B,WAAW,GAAG,SAASA,WAAW,CAACC,QAAQ,EAAEC,MAAM,EAAE;EACvD,IAAIA,MAAM,CAACL,KAAK,GAAGI,QAAQ,CAACJ,KAAK,EAAE;IACjC,OAAO,IAAI;EACb;EAEA,IAAIK,MAAM,CAACL,KAAK,GAAGI,QAAQ,CAACJ,KAAK,EAAE;IACjC,OAAO,KAAK;EACd;EAEA,IAAIK,MAAM,CAACJ,KAAK,GAAGG,QAAQ,CAACH,KAAK,EAAE;IACjC,OAAO,IAAI;EACb;EAEA,IAAII,MAAM,CAACJ,KAAK,GAAGG,QAAQ,CAACH,KAAK,EAAE;IACjC,OAAO,KAAK;EACd;EAEA,OAAOI,MAAM,CAACpzB,KAAK,IAAImzB,QAAQ,CAACnzB,KAAK;AACvC,CAAC;AAED,IAAIqzB,iBAAiB,GAAI,SAArBA,iBAAiB,CAAcC,YAAY,EAAEC,WAAW,EAAE;EAC5D,IAAIC,OAAO,GAAGX,UAAU,CAACS,YAAY,CAAC;EACtC,IAAIF,MAAM,GAAGP,UAAU,CAACU,WAAW,CAAC;EAEpC,IAAIL,WAAW,CAACM,OAAO,EAAEJ,MAAM,CAAC,EAAE;IAChC;EACF;EAEAr6B,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,GAAGiB,OAAO,CAAC,wBAAwB,GAAGk5B,MAAM,CAACH,GAAG,GAAG,6DAA6D,GAAGO,OAAO,CAACP,GAAG,GAAG,uEAAuE,CAAC,GAAG,KAAK,CAAC;AACzP,CAAE;AAEF,IAAIQ,MAAM,GAAG,4NAA4N;AACzO,IAAIC,YAAY,GAAI,SAAhBA,YAAY,CAAc7N,GAAG,EAAE;EACjC,IAAI8N,OAAO,GAAG9N,GAAG,CAAC8N,OAAO;EAEzB,IAAI,CAACA,OAAO,EAAE;IACZ56B,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,GAAGiB,OAAO,CAAC,6CAA6C,GAAGu5B,MAAM,GAAG,QAAQ,CAAC,GAAG,KAAK,CAAC;IAC3H;EACF;EAEA,IAAIE,OAAO,CAACC,IAAI,CAACC,WAAW,EAAE,KAAK,MAAM,EAAE;IACzC96B,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,GAAGiB,OAAO,CAAC,wCAAwC,GAAGy5B,OAAO,CAACC,IAAI,GAAG,aAAa,GAAGH,MAAM,GAAG,QAAQ,CAAC,GAAG,KAAK,CAAC;EACvJ;EAEA,IAAIE,OAAO,CAACG,QAAQ,KAAK,EAAE,EAAE;IAC3B/6B,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,GAAGiB,OAAO,CAAC,iDAAiD,GAAGy5B,OAAO,CAACG,QAAQ,GAAG,6DAA6D,GAAGL,MAAM,GAAG,QAAQ,CAAC,GAAG,KAAK,CAAC;EACpN;AACF,CAAE;AAEF,SAASM,MAAM,CAACC,OAAO,EAAE;EACvB,IAAIj7B,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,EAAE;IACzC+6B,OAAO,EAAE;EACX;AACF;AAEA,SAASC,kBAAkB,CAAC94B,EAAE,EAAE+4B,MAAM,EAAE;EACtCH,MAAM,CAAC,YAAY;IACjB/8B,SAAS,CAAC,YAAY;MACpB,IAAI;QACFmE,EAAE,EAAE;MACN,CAAC,CAAC,OAAOg5B,CAAC,EAAE;QACV/5B,KAAK,CAAC,8DAA8D,GAAG+5B,CAAC,CAAC16B,OAAO,GAAG,YAAY,CAAC;MAClG;IACF,CAAC,EAAEy6B,MAAM,CAAC;EACZ,CAAC,CAAC;AACJ;AAEA,SAASE,oBAAoB,GAAG;EAC9BH,kBAAkB,CAAC,YAAY;IAC7BZ,iBAAiB,CAACX,gBAAgB,CAACC,KAAK,EAAE77B,KAAK,CAACu9B,OAAO,CAAC;IACxDX,YAAY,CAAC9T,QAAQ,CAAC;EACxB,CAAC,EAAE,EAAE,CAAC;AACR;AAEA,SAAS0U,WAAW,CAAClxB,OAAO,EAAE;EAC5B,IAAI8rB,GAAG,GAAGj4B,MAAM,CAACmM,OAAO,CAAC;EACzBpM,SAAS,CAAC,YAAY;IACpBk4B,GAAG,CAAC9rB,OAAO,GAAGA,OAAO;EACvB,CAAC,CAAC;EACF,OAAO8rB,GAAG;AACZ;AAEA,SAASqF,MAAM,GAAG;EAChB,IAAIC,IAAI,GAAG,IAAI;EAEf,SAASC,SAAS,GAAG;IACnB,OAAOrqB,OAAO,CAACoqB,IAAI,CAAC;EACtB;EAEA,SAASvU,QAAQ,CAAC5mB,KAAK,EAAE;IACvB,OAAOA,KAAK,KAAKm7B,IAAI;EACvB;EAEA,SAASE,KAAK,CAACC,OAAO,EAAE;IACtB,CAAC,CAACH,IAAI,GAAGz7B,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,GAAG4C,SAAS,CAAC,KAAK,EAAE,4CAA4C,CAAC,GAAGA,SAAS,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC;IAC3I,IAAI+4B,OAAO,GAAG;MACZD,OAAO,EAAEA;IACX,CAAC;IACDH,IAAI,GAAGI,OAAO;IACd,OAAOA,OAAO;EAChB;EAEA,SAASC,OAAO,GAAG;IACjB,CAACL,IAAI,GAAGz7B,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,GAAG4C,SAAS,CAAC,KAAK,EAAE,2CAA2C,CAAC,GAAGA,SAAS,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC;IACzI24B,IAAI,GAAG,IAAI;EACb;EAEA,SAASM,UAAU,GAAG;IACpB,IAAIN,IAAI,EAAE;MACRA,IAAI,CAACG,OAAO,EAAE;MACdE,OAAO,EAAE;IACX;EACF;EAEA,OAAO;IACLJ,SAAS,EAAEA,SAAS;IACpBxU,QAAQ,EAAEA,QAAQ;IAClByU,KAAK,EAAEA,KAAK;IACZG,OAAO,EAAEA,OAAO;IAChBC,UAAU,EAAEA;EACd,CAAC;AACH;AAEA,IAAIC,GAAG,GAAG,CAAC;AACX,IAAIC,KAAK,GAAG,EAAE;AACd,IAAIC,MAAM,GAAG,EAAE;AACf,IAAIC,KAAK,GAAG,EAAE;AACd,IAAIC,MAAM,GAAG,EAAE;AACf,IAAIC,QAAQ,GAAG,EAAE;AACjB,IAAIlzB,GAAG,GAAG,EAAE;AACZ,IAAIgQ,IAAI,GAAG,EAAE;AACb,IAAImjB,SAAS,GAAG,EAAE;AAClB,IAAIC,OAAO,GAAG,EAAE;AAChB,IAAIC,UAAU,GAAG,EAAE;AACnB,IAAIC,SAAS,GAAG,EAAE;AAElB,IAAIC,cAAc;AAClB,IAAIC,aAAa,IAAID,cAAc,GAAG,CAAC,CAAC,EAAEA,cAAc,CAACT,KAAK,CAAC,GAAG,IAAI,EAAES,cAAc,CAACV,GAAG,CAAC,GAAG,IAAI,EAAEU,cAAc,CAAC;AACnH,IAAIE,wBAAwB,GAAI,SAA5BA,wBAAwB,CAAc/4B,KAAK,EAAE;EAC/C,IAAI84B,aAAa,CAAC94B,KAAK,CAACg5B,OAAO,CAAC,EAAE;IAChCh5B,KAAK,CAACK,cAAc,EAAE;EACxB;AACF,CAAE;AAEF,IAAI44B,kBAAkB,GAAG,YAAY;EACnC,IAAInJ,IAAI,GAAG,kBAAkB;EAE7B,IAAI,OAAO9M,QAAQ,KAAK,WAAW,EAAE;IACnC,OAAO8M,IAAI;EACb;EAEA,IAAI1d,UAAU,GAAG,CAAC0d,IAAI,EAAE,IAAI,GAAGA,IAAI,EAAE,QAAQ,GAAGA,IAAI,EAAE,KAAK,GAAGA,IAAI,EAAE,GAAG,GAAGA,IAAI,CAAC;EAC/E,IAAIoJ,SAAS,GAAGpyB,IAAI,CAACsL,UAAU,EAAE,UAAU9T,SAAS,EAAE;IACpD,OAAO,IAAI,GAAGA,SAAS,IAAI0kB,QAAQ;EACrC,CAAC,CAAC;EACF,OAAOkW,SAAS,IAAIpJ,IAAI;AAC1B,CAAC,EAAE;AAEH,IAAIqJ,aAAa,GAAG,CAAC;AACrB,IAAIC,oBAAoB,GAAG,CAAC;AAE5B,SAASC,8BAA8B,CAACvpB,QAAQ,EAAEtJ,OAAO,EAAE;EACzD,OAAO/C,IAAI,CAAC61B,GAAG,CAAC9yB,OAAO,CAAC7D,CAAC,GAAGmN,QAAQ,CAACnN,CAAC,CAAC,IAAIy2B,oBAAoB,IAAI31B,IAAI,CAAC61B,GAAG,CAAC9yB,OAAO,CAAC5D,CAAC,GAAGkN,QAAQ,CAAClN,CAAC,CAAC,IAAIw2B,oBAAoB;AAC7H;AAEA,IAAIG,MAAM,GAAG;EACXt8B,IAAI,EAAE;AACR,CAAC;AAED,SAASu8B,kBAAkB,CAACj2B,IAAI,EAAE;EAChC,IAAIggB,MAAM,GAAGhgB,IAAI,CAACggB,MAAM;IACpBvH,SAAS,GAAGzY,IAAI,CAACyY,SAAS;IAC1Byd,QAAQ,GAAGl2B,IAAI,CAACk2B,QAAQ;IACxBC,QAAQ,GAAGn2B,IAAI,CAACm2B,QAAQ;EAC5B,OAAO,CAAC;IACNp7B,SAAS,EAAE,WAAW;IACtBC,EAAE,EAAE,SAASA,EAAE,CAACyB,KAAK,EAAE;MACrB,IAAI25B,MAAM,GAAG35B,KAAK,CAAC25B,MAAM;QACrBC,OAAO,GAAG55B,KAAK,CAAC45B,OAAO;QACvBC,OAAO,GAAG75B,KAAK,CAAC65B,OAAO;MAE3B,IAAIF,MAAM,KAAKR,aAAa,EAAE;QAC5B;MACF;MAEA,IAAIh2B,KAAK,GAAG;QACVR,CAAC,EAAEi3B,OAAO;QACVh3B,CAAC,EAAEi3B;MACL,CAAC;MACD,IAAIhkB,KAAK,GAAG4jB,QAAQ,EAAE;MAEtB,IAAI5jB,KAAK,CAAC5Y,IAAI,KAAK,UAAU,EAAE;QAC7B+C,KAAK,CAACK,cAAc,EAAE;QACtBwV,KAAK,CAACikB,OAAO,CAACzb,IAAI,CAAClb,KAAK,CAAC;QACzB;MACF;MAEA,EAAE0S,KAAK,CAAC5Y,IAAI,KAAK,SAAS,CAAC,GAAGd,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,GAAG4C,SAAS,CAAC,KAAK,EAAE,gBAAgB,CAAC,GAAGA,SAAS,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC;MACpI,IAAI86B,OAAO,GAAGlkB,KAAK,CAAC1S,KAAK;MAEzB,IAAI,CAACk2B,8BAA8B,CAACU,OAAO,EAAE52B,KAAK,CAAC,EAAE;QACnD;MACF;MAEAnD,KAAK,CAACK,cAAc,EAAE;MACtB,IAAIy5B,OAAO,GAAGjkB,KAAK,CAACikB,OAAO,CAACE,SAAS,CAAC72B,KAAK,CAAC;MAC5Cu2B,QAAQ,CAAC;QACPz8B,IAAI,EAAE,UAAU;QAChB68B,OAAO,EAAEA;MACX,CAAC,CAAC;IACJ;EACF,CAAC,EAAE;IACDx7B,SAAS,EAAE,SAAS;IACpBC,EAAE,EAAE,SAASA,EAAE,CAACyB,KAAK,EAAE;MACrB,IAAI6V,KAAK,GAAG4jB,QAAQ,EAAE;MAEtB,IAAI5jB,KAAK,CAAC5Y,IAAI,KAAK,UAAU,EAAE;QAC7BsmB,MAAM,EAAE;QACR;MACF;MAEAvjB,KAAK,CAACK,cAAc,EAAE;MACtBwV,KAAK,CAACikB,OAAO,CAAC/a,IAAI,CAAC;QACjBkb,oBAAoB,EAAE;MACxB,CAAC,CAAC;MACFje,SAAS,EAAE;IACb;EACF,CAAC,EAAE;IACD1d,SAAS,EAAE,WAAW;IACtBC,EAAE,EAAE,SAASA,EAAE,CAACyB,KAAK,EAAE;MACrB,IAAIy5B,QAAQ,EAAE,CAACx8B,IAAI,KAAK,UAAU,EAAE;QAClC+C,KAAK,CAACK,cAAc,EAAE;MACxB;MAEAkjB,MAAM,EAAE;IACV;EACF,CAAC,EAAE;IACDjlB,SAAS,EAAE,SAAS;IACpBC,EAAE,EAAE,SAASA,EAAE,CAACyB,KAAK,EAAE;MACrB,IAAI6V,KAAK,GAAG4jB,QAAQ,EAAE;MAEtB,IAAI5jB,KAAK,CAAC5Y,IAAI,KAAK,SAAS,EAAE;QAC5BsmB,MAAM,EAAE;QACR;MACF;MAEA,IAAIvjB,KAAK,CAACg5B,OAAO,KAAKX,MAAM,EAAE;QAC5Br4B,KAAK,CAACK,cAAc,EAAE;QACtBkjB,MAAM,EAAE;QACR;MACF;MAEAwV,wBAAwB,CAAC/4B,KAAK,CAAC;IACjC;EACF,CAAC,EAAE;IACD1B,SAAS,EAAE,QAAQ;IACnBC,EAAE,EAAEglB;EACN,CAAC,EAAE;IACDjlB,SAAS,EAAE,QAAQ;IACnBF,OAAO,EAAE;MACP0kB,OAAO,EAAE,IAAI;MACbC,OAAO,EAAE;IACX,CAAC;IACDxkB,EAAE,EAAE,SAASA,EAAE,GAAG;MAChB,IAAIk7B,QAAQ,EAAE,CAACx8B,IAAI,KAAK,SAAS,EAAE;QACjCsmB,MAAM,EAAE;MACV;IACF;EACF,CAAC,EAAE;IACDjlB,SAAS,EAAE,sBAAsB;IACjCC,EAAE,EAAE,SAASA,EAAE,CAACyB,KAAK,EAAE;MACrB,IAAI6V,KAAK,GAAG4jB,QAAQ,EAAE;MACtB,EAAE5jB,KAAK,CAAC5Y,IAAI,KAAK,MAAM,CAAC,GAAGd,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,GAAG4C,SAAS,CAAC,KAAK,EAAE,kBAAkB,CAAC,GAAGA,SAAS,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC;MAEnI,IAAI4W,KAAK,CAACikB,OAAO,CAACI,uBAAuB,EAAE,EAAE;QAC3C3W,MAAM,EAAE;QACR;MACF;MAEAvjB,KAAK,CAACK,cAAc,EAAE;IACxB;EACF,CAAC,EAAE;IACD/B,SAAS,EAAE26B,kBAAkB;IAC7B16B,EAAE,EAAEglB;EACN,CAAC,CAAC;AACJ;AAEA,SAAS4W,cAAc,CAACC,GAAG,EAAE;EAC3B,IAAIC,QAAQ,GAAGhgC,MAAM,CAACk/B,MAAM,CAAC;EAC7B,IAAIe,eAAe,GAAGjgC,MAAM,CAACoD,IAAI,CAAC;EAClC,IAAI88B,mBAAmB,GAAG//B,OAAO,CAAC,YAAY;IAC5C,OAAO;MACL8D,SAAS,EAAE,WAAW;MACtBC,EAAE,EAAE,SAASi8B,WAAW,CAACx6B,KAAK,EAAE;QAC9B,IAAIA,KAAK,CAACy6B,gBAAgB,EAAE;UAC1B;QACF;QAEA,IAAIz6B,KAAK,CAAC25B,MAAM,KAAKR,aAAa,EAAE;UAClC;QACF;QAEA,IAAIn5B,KAAK,CAAC06B,OAAO,IAAI16B,KAAK,CAAC26B,OAAO,IAAI36B,KAAK,CAAC46B,QAAQ,IAAI56B,KAAK,CAAC66B,MAAM,EAAE;UACpE;QACF;QAEA,IAAI54B,WAAW,GAAGm4B,GAAG,CAACU,sBAAsB,CAAC96B,KAAK,CAAC;QAEnD,IAAI,CAACiC,WAAW,EAAE;UAChB;QACF;QAEA,IAAI63B,OAAO,GAAGM,GAAG,CAACW,UAAU,CAAC94B,WAAW,EAAEqhB,IAAI,EAAE;UAC9C0X,WAAW,EAAEh7B;QACf,CAAC,CAAC;QAEF,IAAI,CAAC85B,OAAO,EAAE;UACZ;QACF;QAEA95B,KAAK,CAACK,cAAc,EAAE;QACtB,IAAI8C,KAAK,GAAG;UACVR,CAAC,EAAE3C,KAAK,CAAC45B,OAAO;UAChBh3B,CAAC,EAAE5C,KAAK,CAAC65B;QACX,CAAC;QACDS,eAAe,CAAC9zB,OAAO,EAAE;QACzBy0B,gBAAgB,CAACnB,OAAO,EAAE32B,KAAK,CAAC;MAClC;IACF,CAAC;EACH,CAAC,EAAE,CAACi3B,GAAG,CAAC,CAAC;EACT,IAAIc,wBAAwB,GAAG1gC,OAAO,CAAC,YAAY;IACjD,OAAO;MACL8D,SAAS,EAAE,2BAA2B;MACtCC,EAAE,EAAE,SAASA,EAAE,CAACyB,KAAK,EAAE;QACrB,IAAIA,KAAK,CAACy6B,gBAAgB,EAAE;UAC1B;QACF;QAEA,IAAI34B,EAAE,GAAGs4B,GAAG,CAACU,sBAAsB,CAAC96B,KAAK,CAAC;QAE1C,IAAI,CAAC8B,EAAE,EAAE;UACP;QACF;QAEA,IAAI1D,OAAO,GAAGg8B,GAAG,CAACe,uBAAuB,CAACr5B,EAAE,CAAC;QAE7C,IAAI,CAAC1D,OAAO,EAAE;UACZ;QACF;QAEA,IAAIA,OAAO,CAAC87B,uBAAuB,EAAE;UACnC;QACF;QAEA,IAAI,CAACE,GAAG,CAACgB,UAAU,CAACt5B,EAAE,CAAC,EAAE;UACvB;QACF;QAEA9B,KAAK,CAACK,cAAc,EAAE;MACxB;IACF,CAAC;EACH,CAAC,EAAE,CAAC+5B,GAAG,CAAC,CAAC;EACT,IAAIiB,gBAAgB,GAAG5gC,WAAW,CAAC,SAAS4gC,gBAAgB,GAAG;IAC7D,IAAIj9B,OAAO,GAAG;MACZ0kB,OAAO,EAAE,KAAK;MACdC,OAAO,EAAE;IACX,CAAC;IACDuX,eAAe,CAAC9zB,OAAO,GAAG3I,UAAU,CAACV,MAAM,EAAE,CAAC+9B,wBAAwB,EAAEX,mBAAmB,CAAC,EAAEn8B,OAAO,CAAC;EACxG,CAAC,EAAE,CAAC88B,wBAAwB,EAAEX,mBAAmB,CAAC,CAAC;EACnD,IAAIjX,IAAI,GAAG7oB,WAAW,CAAC,YAAY;IACjC,IAAI+L,OAAO,GAAG6zB,QAAQ,CAAC7zB,OAAO;IAE9B,IAAIA,OAAO,CAACvJ,IAAI,KAAK,MAAM,EAAE;MAC3B;IACF;IAEAo9B,QAAQ,CAAC7zB,OAAO,GAAG+yB,MAAM;IACzBe,eAAe,CAAC9zB,OAAO,EAAE;IACzB60B,gBAAgB,EAAE;EACpB,CAAC,EAAE,CAACA,gBAAgB,CAAC,CAAC;EACtB,IAAI9X,MAAM,GAAG9oB,WAAW,CAAC,YAAY;IACnC,IAAIob,KAAK,GAAGwkB,QAAQ,CAAC7zB,OAAO;IAC5B8c,IAAI,EAAE;IAEN,IAAIzN,KAAK,CAAC5Y,IAAI,KAAK,UAAU,EAAE;MAC7B4Y,KAAK,CAACikB,OAAO,CAACvW,MAAM,CAAC;QACnB0W,oBAAoB,EAAE;MACxB,CAAC,CAAC;IACJ;IAEA,IAAIpkB,KAAK,CAAC5Y,IAAI,KAAK,SAAS,EAAE;MAC5B4Y,KAAK,CAACikB,OAAO,CAACzT,KAAK,EAAE;IACvB;EACF,CAAC,EAAE,CAAC/C,IAAI,CAAC,CAAC;EACV,IAAIgY,mBAAmB,GAAG7gC,WAAW,CAAC,SAAS6gC,mBAAmB,GAAG;IACnE,IAAIl9B,OAAO,GAAG;MACZ2kB,OAAO,EAAE,IAAI;MACbD,OAAO,EAAE;IACX,CAAC;IACD,IAAI/kB,QAAQ,GAAGy7B,kBAAkB,CAAC;MAChCjW,MAAM,EAAEA,MAAM;MACdvH,SAAS,EAAEsH,IAAI;MACfmW,QAAQ,EAAE,SAASA,QAAQ,GAAG;QAC5B,OAAOY,QAAQ,CAAC7zB,OAAO;MACzB,CAAC;MACDkzB,QAAQ,EAAE,SAASA,QAAQ,CAAC7jB,KAAK,EAAE;QACjCwkB,QAAQ,CAAC7zB,OAAO,GAAGqP,KAAK;MAC1B;IACF,CAAC,CAAC;IACFykB,eAAe,CAAC9zB,OAAO,GAAG3I,UAAU,CAACV,MAAM,EAAEY,QAAQ,EAAEK,OAAO,CAAC;EACjE,CAAC,EAAE,CAACmlB,MAAM,EAAED,IAAI,CAAC,CAAC;EAClB,IAAI2X,gBAAgB,GAAGxgC,WAAW,CAAC,SAASwgC,gBAAgB,CAACnB,OAAO,EAAE32B,KAAK,EAAE;IAC3E,EAAEk3B,QAAQ,CAAC7zB,OAAO,CAACvJ,IAAI,KAAK,MAAM,CAAC,GAAGd,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,GAAG4C,SAAS,CAAC,KAAK,EAAE,4CAA4C,CAAC,GAAGA,SAAS,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC;IACxKo7B,QAAQ,CAAC7zB,OAAO,GAAG;MACjBvJ,IAAI,EAAE,SAAS;MACfkG,KAAK,EAAEA,KAAK;MACZ22B,OAAO,EAAEA;IACX,CAAC;IACDwB,mBAAmB,EAAE;EACvB,CAAC,EAAE,CAACA,mBAAmB,CAAC,CAAC;EACzBhK,yBAAyB,CAAC,SAASqE,KAAK,GAAG;IACzC0F,gBAAgB,EAAE;IAClB,OAAO,SAASxG,OAAO,GAAG;MACxByF,eAAe,CAAC9zB,OAAO,EAAE;IAC3B,CAAC;EACH,CAAC,EAAE,CAAC60B,gBAAgB,CAAC,CAAC;AACxB;AAEA,IAAIE,eAAe;AAEnB,SAASC,MAAM,GAAG,CAAC;AAEnB,IAAIC,cAAc,IAAIF,eAAe,GAAG,CAAC,CAAC,EAAEA,eAAe,CAAC/C,QAAQ,CAAC,GAAG,IAAI,EAAE+C,eAAe,CAAChD,MAAM,CAAC,GAAG,IAAI,EAAEgD,eAAe,CAACjmB,IAAI,CAAC,GAAG,IAAI,EAAEimB,eAAe,CAACj2B,GAAG,CAAC,GAAG,IAAI,EAAEi2B,eAAe,CAAC;AAEzL,SAASG,mBAAmB,CAAC5B,OAAO,EAAExW,IAAI,EAAE;EAC1C,SAASC,MAAM,GAAG;IAChBD,IAAI,EAAE;IACNwW,OAAO,CAACvW,MAAM,EAAE;EAClB;EAEA,SAASxE,IAAI,GAAG;IACduE,IAAI,EAAE;IACNwW,OAAO,CAAC/a,IAAI,EAAE;EAChB;EAEA,OAAO,CAAC;IACNzgB,SAAS,EAAE,SAAS;IACpBC,EAAE,EAAE,SAASA,EAAE,CAACyB,KAAK,EAAE;MACrB,IAAIA,KAAK,CAACg5B,OAAO,KAAKX,MAAM,EAAE;QAC5Br4B,KAAK,CAACK,cAAc,EAAE;QACtBkjB,MAAM,EAAE;QACR;MACF;MAEA,IAAIvjB,KAAK,CAACg5B,OAAO,KAAKV,KAAK,EAAE;QAC3Bt4B,KAAK,CAACK,cAAc,EAAE;QACtB0e,IAAI,EAAE;QACN;MACF;MAEA,IAAI/e,KAAK,CAACg5B,OAAO,KAAKJ,SAAS,EAAE;QAC/B54B,KAAK,CAACK,cAAc,EAAE;QACtBy5B,OAAO,CAACrb,QAAQ,EAAE;QAClB;MACF;MAEA,IAAIze,KAAK,CAACg5B,OAAO,KAAKN,OAAO,EAAE;QAC7B14B,KAAK,CAACK,cAAc,EAAE;QACtBy5B,OAAO,CAACtb,MAAM,EAAE;QAChB;MACF;MAEA,IAAIxe,KAAK,CAACg5B,OAAO,KAAKL,UAAU,EAAE;QAChC34B,KAAK,CAACK,cAAc,EAAE;QACtBy5B,OAAO,CAACpb,SAAS,EAAE;QACnB;MACF;MAEA,IAAI1e,KAAK,CAACg5B,OAAO,KAAKP,SAAS,EAAE;QAC/Bz4B,KAAK,CAACK,cAAc,EAAE;QACtBy5B,OAAO,CAACnb,QAAQ,EAAE;QAClB;MACF;MAEA,IAAI8c,cAAc,CAACz7B,KAAK,CAACg5B,OAAO,CAAC,EAAE;QACjCh5B,KAAK,CAACK,cAAc,EAAE;QACtB;MACF;MAEA04B,wBAAwB,CAAC/4B,KAAK,CAAC;IACjC;EACF,CAAC,EAAE;IACD1B,SAAS,EAAE,WAAW;IACtBC,EAAE,EAAEglB;EACN,CAAC,EAAE;IACDjlB,SAAS,EAAE,SAAS;IACpBC,EAAE,EAAEglB;EACN,CAAC,EAAE;IACDjlB,SAAS,EAAE,OAAO;IAClBC,EAAE,EAAEglB;EACN,CAAC,EAAE;IACDjlB,SAAS,EAAE,YAAY;IACvBC,EAAE,EAAEglB;EACN,CAAC,EAAE;IACDjlB,SAAS,EAAE,QAAQ;IACnBC,EAAE,EAAEglB;EACN,CAAC,EAAE;IACDjlB,SAAS,EAAE,OAAO;IAClBC,EAAE,EAAEglB,MAAM;IACVnlB,OAAO,EAAE;MACP0kB,OAAO,EAAE;IACX;EACF,CAAC,EAAE;IACDxkB,SAAS,EAAE26B,kBAAkB;IAC7B16B,EAAE,EAAEglB;EACN,CAAC,CAAC;AACJ;AAEA,SAASoY,iBAAiB,CAACvB,GAAG,EAAE;EAC9B,IAAIE,eAAe,GAAGjgC,MAAM,CAACmhC,MAAM,CAAC;EACpC,IAAIjB,mBAAmB,GAAG//B,OAAO,CAAC,YAAY;IAC5C,OAAO;MACL8D,SAAS,EAAE,SAAS;MACpBC,EAAE,EAAE,SAASq9B,SAAS,CAAC57B,KAAK,EAAE;QAC5B,IAAIA,KAAK,CAACy6B,gBAAgB,EAAE;UAC1B;QACF;QAEA,IAAIz6B,KAAK,CAACg5B,OAAO,KAAKV,KAAK,EAAE;UAC3B;QACF;QAEA,IAAIr2B,WAAW,GAAGm4B,GAAG,CAACU,sBAAsB,CAAC96B,KAAK,CAAC;QAEnD,IAAI,CAACiC,WAAW,EAAE;UAChB;QACF;QAEA,IAAI45B,OAAO,GAAGzB,GAAG,CAACW,UAAU,CAAC94B,WAAW,EAAEqhB,IAAI,EAAE;UAC9C0X,WAAW,EAAEh7B;QACf,CAAC,CAAC;QAEF,IAAI,CAAC67B,OAAO,EAAE;UACZ;QACF;QAEA77B,KAAK,CAACK,cAAc,EAAE;QACtB,IAAIy7B,WAAW,GAAG,IAAI;QACtB,IAAIhC,OAAO,GAAG+B,OAAO,CAACE,QAAQ,EAAE;QAChCzB,eAAe,CAAC9zB,OAAO,EAAE;QAEzB,SAAS8c,IAAI,GAAG;UACd,CAACwY,WAAW,GAAG3/B,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,GAAG4C,SAAS,CAAC,KAAK,EAAE,0DAA0D,CAAC,GAAGA,SAAS,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC;UAC/J68B,WAAW,GAAG,KAAK;UACnBxB,eAAe,CAAC9zB,OAAO,EAAE;UACzB60B,gBAAgB,EAAE;QACpB;QAEAf,eAAe,CAAC9zB,OAAO,GAAG3I,UAAU,CAACV,MAAM,EAAEu+B,mBAAmB,CAAC5B,OAAO,EAAExW,IAAI,CAAC,EAAE;UAC/EP,OAAO,EAAE,IAAI;UACbD,OAAO,EAAE;QACX,CAAC,CAAC;MACJ;IACF,CAAC;EACH,CAAC,EAAE,CAACsX,GAAG,CAAC,CAAC;EACT,IAAIiB,gBAAgB,GAAG5gC,WAAW,CAAC,SAASuhC,eAAe,GAAG;IAC5D,IAAI59B,OAAO,GAAG;MACZ0kB,OAAO,EAAE,KAAK;MACdC,OAAO,EAAE;IACX,CAAC;IACDuX,eAAe,CAAC9zB,OAAO,GAAG3I,UAAU,CAACV,MAAM,EAAE,CAACo9B,mBAAmB,CAAC,EAAEn8B,OAAO,CAAC;EAC9E,CAAC,EAAE,CAACm8B,mBAAmB,CAAC,CAAC;EACzBjJ,yBAAyB,CAAC,SAASqE,KAAK,GAAG;IACzC0F,gBAAgB,EAAE;IAClB,OAAO,SAASxG,OAAO,GAAG;MACxByF,eAAe,CAAC9zB,OAAO,EAAE;IAC3B,CAAC;EACH,CAAC,EAAE,CAAC60B,gBAAgB,CAAC,CAAC;AACxB;AAEA,IAAIY,MAAM,GAAG;EACXh/B,IAAI,EAAE;AACR,CAAC;AACD,IAAIi/B,gBAAgB,GAAG,GAAG;AAC1B,IAAIC,mBAAmB,GAAG,IAAI;AAE9B,SAASC,iBAAiB,CAAC74B,IAAI,EAAE;EAC/B,IAAIggB,MAAM,GAAGhgB,IAAI,CAACggB,MAAM;IACpBkW,QAAQ,GAAGl2B,IAAI,CAACk2B,QAAQ;EAC5B,OAAO,CAAC;IACNn7B,SAAS,EAAE,mBAAmB;IAC9BC,EAAE,EAAEglB;EACN,CAAC,EAAE;IACDjlB,SAAS,EAAE,QAAQ;IACnBC,EAAE,EAAEglB;EACN,CAAC,EAAE;IACDjlB,SAAS,EAAE,aAAa;IACxBC,EAAE,EAAE,SAASA,EAAE,CAACyB,KAAK,EAAE;MACrBA,KAAK,CAACK,cAAc,EAAE;IACxB;EACF,CAAC,EAAE;IACD/B,SAAS,EAAE,SAAS;IACpBC,EAAE,EAAE,SAASA,EAAE,CAACyB,KAAK,EAAE;MACrB,IAAIy5B,QAAQ,EAAE,CAACx8B,IAAI,KAAK,UAAU,EAAE;QAClCsmB,MAAM,EAAE;QACR;MACF;MAEA,IAAIvjB,KAAK,CAACg5B,OAAO,KAAKX,MAAM,EAAE;QAC5Br4B,KAAK,CAACK,cAAc,EAAE;MACxB;MAEAkjB,MAAM,EAAE;IACV;EACF,CAAC,EAAE;IACDjlB,SAAS,EAAE26B,kBAAkB;IAC7B16B,EAAE,EAAEglB;EACN,CAAC,CAAC;AACJ;AAEA,SAAS8Y,iBAAiB,CAACrvB,KAAK,EAAE;EAChC,IAAIuW,MAAM,GAAGvW,KAAK,CAACuW,MAAM;IACrBvH,SAAS,GAAGhP,KAAK,CAACgP,SAAS;IAC3Byd,QAAQ,GAAGzsB,KAAK,CAACysB,QAAQ;EAC7B,OAAO,CAAC;IACNn7B,SAAS,EAAE,WAAW;IACtBF,OAAO,EAAE;MACP2kB,OAAO,EAAE;IACX,CAAC;IACDxkB,EAAE,EAAE,SAASA,EAAE,CAACyB,KAAK,EAAE;MACrB,IAAI6V,KAAK,GAAG4jB,QAAQ,EAAE;MAEtB,IAAI5jB,KAAK,CAAC5Y,IAAI,KAAK,UAAU,EAAE;QAC7BsmB,MAAM,EAAE;QACR;MACF;MAEA1N,KAAK,CAACymB,QAAQ,GAAG,IAAI;MACrB,IAAIC,eAAe,GAAGv8B,KAAK,CAACw8B,OAAO,CAAC,CAAC,CAAC;QAClC5C,OAAO,GAAG2C,eAAe,CAAC3C,OAAO;QACjCC,OAAO,GAAG0C,eAAe,CAAC1C,OAAO;MACrC,IAAI12B,KAAK,GAAG;QACVR,CAAC,EAAEi3B,OAAO;QACVh3B,CAAC,EAAEi3B;MACL,CAAC;MACD75B,KAAK,CAACK,cAAc,EAAE;MACtBwV,KAAK,CAACikB,OAAO,CAACzb,IAAI,CAAClb,KAAK,CAAC;IAC3B;EACF,CAAC,EAAE;IACD7E,SAAS,EAAE,UAAU;IACrBC,EAAE,EAAE,SAASA,EAAE,CAACyB,KAAK,EAAE;MACrB,IAAI6V,KAAK,GAAG4jB,QAAQ,EAAE;MAEtB,IAAI5jB,KAAK,CAAC5Y,IAAI,KAAK,UAAU,EAAE;QAC7BsmB,MAAM,EAAE;QACR;MACF;MAEAvjB,KAAK,CAACK,cAAc,EAAE;MACtBwV,KAAK,CAACikB,OAAO,CAAC/a,IAAI,CAAC;QACjBkb,oBAAoB,EAAE;MACxB,CAAC,CAAC;MACFje,SAAS,EAAE;IACb;EACF,CAAC,EAAE;IACD1d,SAAS,EAAE,aAAa;IACxBC,EAAE,EAAE,SAASA,EAAE,CAACyB,KAAK,EAAE;MACrB,IAAIy5B,QAAQ,EAAE,CAACx8B,IAAI,KAAK,UAAU,EAAE;QAClCsmB,MAAM,EAAE;QACR;MACF;MAEAvjB,KAAK,CAACK,cAAc,EAAE;MACtBkjB,MAAM,EAAE;IACV;EACF,CAAC,EAAE;IACDjlB,SAAS,EAAE,kBAAkB;IAC7BC,EAAE,EAAE,SAASA,EAAE,CAACyB,KAAK,EAAE;MACrB,IAAI6V,KAAK,GAAG4jB,QAAQ,EAAE;MACtB,EAAE5jB,KAAK,CAAC5Y,IAAI,KAAK,MAAM,CAAC,GAAGd,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,GAAG4C,SAAS,CAAC,KAAK,CAAC,GAAGA,SAAS,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC;MAC/G,IAAIw9B,KAAK,GAAGz8B,KAAK,CAACw8B,OAAO,CAAC,CAAC,CAAC;MAE5B,IAAI,CAACC,KAAK,EAAE;QACV;MACF;MAEA,IAAIC,YAAY,GAAGD,KAAK,CAACE,KAAK,IAAIR,mBAAmB;MAErD,IAAI,CAACO,YAAY,EAAE;QACjB;MACF;MAEA,IAAIE,aAAa,GAAG/mB,KAAK,CAACikB,OAAO,CAACI,uBAAuB,EAAE;MAE3D,IAAIrkB,KAAK,CAAC5Y,IAAI,KAAK,SAAS,EAAE;QAC5B,IAAI2/B,aAAa,EAAE;UACjBrZ,MAAM,EAAE;QACV;QAEA;MACF;MAEA,IAAIqZ,aAAa,EAAE;QACjB,IAAI/mB,KAAK,CAACymB,QAAQ,EAAE;UAClBt8B,KAAK,CAACK,cAAc,EAAE;UACtB;QACF;QAEAkjB,MAAM,EAAE;QACR;MACF;MAEAvjB,KAAK,CAACK,cAAc,EAAE;IACxB;EACF,CAAC,EAAE;IACD/B,SAAS,EAAE26B,kBAAkB;IAC7B16B,EAAE,EAAEglB;EACN,CAAC,CAAC;AACJ;AAEA,SAASsZ,gBAAgB,CAACzC,GAAG,EAAE;EAC7B,IAAIC,QAAQ,GAAGhgC,MAAM,CAAC4hC,MAAM,CAAC;EAC7B,IAAI3B,eAAe,GAAGjgC,MAAM,CAACoD,IAAI,CAAC;EAClC,IAAIg8B,QAAQ,GAAGh/B,WAAW,CAAC,SAASg/B,QAAQ,GAAG;IAC7C,OAAOY,QAAQ,CAAC7zB,OAAO;EACzB,CAAC,EAAE,EAAE,CAAC;EACN,IAAIkzB,QAAQ,GAAGj/B,WAAW,CAAC,SAASi/B,QAAQ,CAAC7jB,KAAK,EAAE;IAClDwkB,QAAQ,CAAC7zB,OAAO,GAAGqP,KAAK;EAC1B,CAAC,EAAE,EAAE,CAAC;EACN,IAAI0kB,mBAAmB,GAAG//B,OAAO,CAAC,YAAY;IAC5C,OAAO;MACL8D,SAAS,EAAE,YAAY;MACvBC,EAAE,EAAE,SAASu+B,YAAY,CAAC98B,KAAK,EAAE;QAC/B,IAAIA,KAAK,CAACy6B,gBAAgB,EAAE;UAC1B;QACF;QAEA,IAAIx4B,WAAW,GAAGm4B,GAAG,CAACU,sBAAsB,CAAC96B,KAAK,CAAC;QAEnD,IAAI,CAACiC,WAAW,EAAE;UAChB;QACF;QAEA,IAAI63B,OAAO,GAAGM,GAAG,CAACW,UAAU,CAAC94B,WAAW,EAAEqhB,IAAI,EAAE;UAC9C0X,WAAW,EAAEh7B;QACf,CAAC,CAAC;QAEF,IAAI,CAAC85B,OAAO,EAAE;UACZ;QACF;QAEA,IAAI2C,KAAK,GAAGz8B,KAAK,CAACw8B,OAAO,CAAC,CAAC,CAAC;QAC5B,IAAI5C,OAAO,GAAG6C,KAAK,CAAC7C,OAAO;UACvBC,OAAO,GAAG4C,KAAK,CAAC5C,OAAO;QAC3B,IAAI12B,KAAK,GAAG;UACVR,CAAC,EAAEi3B,OAAO;UACVh3B,CAAC,EAAEi3B;QACL,CAAC;QACDS,eAAe,CAAC9zB,OAAO,EAAE;QACzBy0B,gBAAgB,CAACnB,OAAO,EAAE32B,KAAK,CAAC;MAClC;IACF,CAAC;EACH,CAAC,EAAE,CAACi3B,GAAG,CAAC,CAAC;EACT,IAAIiB,gBAAgB,GAAG5gC,WAAW,CAAC,SAAS4gC,gBAAgB,GAAG;IAC7D,IAAIj9B,OAAO,GAAG;MACZ2kB,OAAO,EAAE,IAAI;MACbD,OAAO,EAAE;IACX,CAAC;IACDwX,eAAe,CAAC9zB,OAAO,GAAG3I,UAAU,CAACV,MAAM,EAAE,CAACo9B,mBAAmB,CAAC,EAAEn8B,OAAO,CAAC;EAC9E,CAAC,EAAE,CAACm8B,mBAAmB,CAAC,CAAC;EACzB,IAAIjX,IAAI,GAAG7oB,WAAW,CAAC,YAAY;IACjC,IAAI+L,OAAO,GAAG6zB,QAAQ,CAAC7zB,OAAO;IAE9B,IAAIA,OAAO,CAACvJ,IAAI,KAAK,MAAM,EAAE;MAC3B;IACF;IAEA,IAAIuJ,OAAO,CAACvJ,IAAI,KAAK,SAAS,EAAE;MAC9BinB,YAAY,CAAC1d,OAAO,CAACu2B,gBAAgB,CAAC;IACxC;IAEArD,QAAQ,CAACuC,MAAM,CAAC;IAChB3B,eAAe,CAAC9zB,OAAO,EAAE;IACzB60B,gBAAgB,EAAE;EACpB,CAAC,EAAE,CAACA,gBAAgB,EAAE3B,QAAQ,CAAC,CAAC;EAChC,IAAInW,MAAM,GAAG9oB,WAAW,CAAC,YAAY;IACnC,IAAIob,KAAK,GAAGwkB,QAAQ,CAAC7zB,OAAO;IAC5B8c,IAAI,EAAE;IAEN,IAAIzN,KAAK,CAAC5Y,IAAI,KAAK,UAAU,EAAE;MAC7B4Y,KAAK,CAACikB,OAAO,CAACvW,MAAM,CAAC;QACnB0W,oBAAoB,EAAE;MACxB,CAAC,CAAC;IACJ;IAEA,IAAIpkB,KAAK,CAAC5Y,IAAI,KAAK,SAAS,EAAE;MAC5B4Y,KAAK,CAACikB,OAAO,CAACzT,KAAK,EAAE;IACvB;EACF,CAAC,EAAE,CAAC/C,IAAI,CAAC,CAAC;EACV,IAAIgY,mBAAmB,GAAG7gC,WAAW,CAAC,SAAS6gC,mBAAmB,GAAG;IACnE,IAAIl9B,OAAO,GAAG;MACZ2kB,OAAO,EAAE,IAAI;MACbD,OAAO,EAAE;IACX,CAAC;IACD,IAAIrjB,IAAI,GAAG;MACT8jB,MAAM,EAAEA,MAAM;MACdvH,SAAS,EAAEsH,IAAI;MACfmW,QAAQ,EAAEA;IACZ,CAAC;IACD,IAAIuD,YAAY,GAAGn/B,UAAU,CAACV,MAAM,EAAEk/B,iBAAiB,CAAC58B,IAAI,CAAC,EAAErB,OAAO,CAAC;IACvE,IAAI6+B,YAAY,GAAGp/B,UAAU,CAACV,MAAM,EAAEi/B,iBAAiB,CAAC38B,IAAI,CAAC,EAAErB,OAAO,CAAC;IAEvEk8B,eAAe,CAAC9zB,OAAO,GAAG,SAAS9H,SAAS,GAAG;MAC7Cs+B,YAAY,EAAE;MACdC,YAAY,EAAE;IAChB,CAAC;EACH,CAAC,EAAE,CAAC1Z,MAAM,EAAEkW,QAAQ,EAAEnW,IAAI,CAAC,CAAC;EAC5B,IAAI4Z,aAAa,GAAGziC,WAAW,CAAC,SAASyiC,aAAa,GAAG;IACvD,IAAIrnB,KAAK,GAAG4jB,QAAQ,EAAE;IACtB,EAAE5jB,KAAK,CAAC5Y,IAAI,KAAK,SAAS,CAAC,GAAGd,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,GAAG4C,SAAS,CAAC,KAAK,EAAE,mCAAmC,GAAG4W,KAAK,CAAC5Y,IAAI,CAAC,GAAGgC,SAAS,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC;IACpK,IAAI66B,OAAO,GAAGjkB,KAAK,CAACikB,OAAO,CAACE,SAAS,CAACnkB,KAAK,CAAC1S,KAAK,CAAC;IAClDu2B,QAAQ,CAAC;MACPz8B,IAAI,EAAE,UAAU;MAChB68B,OAAO,EAAEA,OAAO;MAChBwC,QAAQ,EAAE;IACZ,CAAC,CAAC;EACJ,CAAC,EAAE,CAAC7C,QAAQ,EAAEC,QAAQ,CAAC,CAAC;EACxB,IAAIuB,gBAAgB,GAAGxgC,WAAW,CAAC,SAASwgC,gBAAgB,CAACnB,OAAO,EAAE32B,KAAK,EAAE;IAC3E,EAAEs2B,QAAQ,EAAE,CAACx8B,IAAI,KAAK,MAAM,CAAC,GAAGd,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,GAAG4C,SAAS,CAAC,KAAK,EAAE,4CAA4C,CAAC,GAAGA,SAAS,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC;IAClK,IAAI89B,gBAAgB,GAAG9Y,UAAU,CAACiZ,aAAa,EAAEhB,gBAAgB,CAAC;IAClExC,QAAQ,CAAC;MACPz8B,IAAI,EAAE,SAAS;MACfkG,KAAK,EAAEA,KAAK;MACZ22B,OAAO,EAAEA,OAAO;MAChBiD,gBAAgB,EAAEA;IACpB,CAAC,CAAC;IACFzB,mBAAmB,EAAE;EACvB,CAAC,EAAE,CAACA,mBAAmB,EAAE7B,QAAQ,EAAEC,QAAQ,EAAEwD,aAAa,CAAC,CAAC;EAC5D5L,yBAAyB,CAAC,SAASqE,KAAK,GAAG;IACzC0F,gBAAgB,EAAE;IAClB,OAAO,SAASxG,OAAO,GAAG;MACxByF,eAAe,CAAC9zB,OAAO,EAAE;MACzB,IAAIqP,KAAK,GAAG4jB,QAAQ,EAAE;MAEtB,IAAI5jB,KAAK,CAAC5Y,IAAI,KAAK,SAAS,EAAE;QAC5BinB,YAAY,CAACrO,KAAK,CAACknB,gBAAgB,CAAC;QACpCrD,QAAQ,CAACuC,MAAM,CAAC;MAClB;IACF,CAAC;EACH,CAAC,EAAE,CAACxC,QAAQ,EAAE4B,gBAAgB,EAAE3B,QAAQ,CAAC,CAAC;EAC1CpI,yBAAyB,CAAC,SAAS6L,UAAU,GAAG;IAC9C,IAAI3+B,MAAM,GAAGX,UAAU,CAACV,MAAM,EAAE,CAAC;MAC/BmB,SAAS,EAAE,WAAW;MACtBC,EAAE,EAAE,SAASA,EAAE,GAAG,CAAC,CAAC;MACpBH,OAAO,EAAE;QACP2kB,OAAO,EAAE,KAAK;QACdD,OAAO,EAAE;MACX;IACF,CAAC,CAAC,CAAC;IACH,OAAOtkB,MAAM;EACf,CAAC,EAAE,EAAE,CAAC;AACR;AAEA,SAAS4+B,sBAAsB,CAACC,WAAW,EAAE;EAC3ClG,MAAM,CAAC,YAAY;IACjB,IAAImG,WAAW,GAAG5F,WAAW,CAAC2F,WAAW,CAAC;IAC1ChG,kBAAkB,CAAC,YAAY;MAC7B,EAAEiG,WAAW,CAAC92B,OAAO,CAAChH,MAAM,KAAK69B,WAAW,CAAC79B,MAAM,CAAC,GAAGrD,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,GAAG4C,SAAS,CAAC,KAAK,EAAE,yDAAyD,CAAC,GAAGA,SAAS,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC;IACxM,CAAC,CAAC;EACJ,CAAC,CAAC;AACJ;AAEA,IAAIs+B,mBAAmB,GAAG;EACxBC,KAAK,EAAE,IAAI;EACX7D,MAAM,EAAE,IAAI;EACZ8D,QAAQ,EAAE,IAAI;EACdC,MAAM,EAAE,IAAI;EACZC,MAAM,EAAE,IAAI;EACZC,QAAQ,EAAE,IAAI;EACdC,KAAK,EAAE,IAAI;EACXC,KAAK,EAAE;AACT,CAAC;AAED,SAASC,sBAAsB,CAACC,MAAM,EAAEx3B,OAAO,EAAE;EAC/C,IAAIA,OAAO,IAAI,IAAI,EAAE;IACnB,OAAO,KAAK;EACd;EAEA,IAAIy3B,mBAAmB,GAAGzwB,OAAO,CAAC+vB,mBAAmB,CAAC/2B,OAAO,CAAC03B,OAAO,CAACjH,WAAW,EAAE,CAAC,CAAC;EAErF,IAAIgH,mBAAmB,EAAE;IACvB,OAAO,IAAI;EACb;EAEA,IAAI9N,SAAS,GAAG3pB,OAAO,CAACysB,YAAY,CAAC,iBAAiB,CAAC;EAEvD,IAAI9C,SAAS,KAAK,MAAM,IAAIA,SAAS,KAAK,EAAE,EAAE;IAC5C,OAAO,IAAI;EACb;EAEA,IAAI3pB,OAAO,KAAKw3B,MAAM,EAAE;IACtB,OAAO,KAAK;EACd;EAEA,OAAOD,sBAAsB,CAACC,MAAM,EAAEx3B,OAAO,CAAC23B,aAAa,CAAC;AAC9D;AAEA,SAASC,2BAA2B,CAACv2B,SAAS,EAAE7H,KAAK,EAAE;EACrD,IAAI6D,MAAM,GAAG7D,KAAK,CAAC6D,MAAM;EAEzB,IAAI,CAAC8uB,aAAa,CAAC9uB,MAAM,CAAC,EAAE;IAC1B,OAAO,KAAK;EACd;EAEA,OAAOk6B,sBAAsB,CAACl2B,SAAS,EAAEhE,MAAM,CAAC;AAClD;AAEA,IAAIw6B,0BAA0B,GAAI,SAA9BA,0BAA0B,CAAcvgC,EAAE,EAAE;EAC9C,OAAO3C,OAAO,CAAC2C,EAAE,CAACwgC,qBAAqB,EAAE,CAAC,CAAC7vB,MAAM;AACnD,CAAE;AAEF,SAAS8vB,SAAS,CAACzgC,EAAE,EAAE;EACrB,OAAOA,EAAE,YAAY00B,eAAe,CAAC10B,EAAE,CAAC,CAAC0gC,OAAO;AAClD;AAEA,IAAIC,oBAAoB,GAAG,YAAY;EACrC,IAAI3O,IAAI,GAAG,SAAS;EAEpB,IAAI,OAAO9M,QAAQ,KAAK,WAAW,EAAE;IACnC,OAAO8M,IAAI;EACb;EAEA,IAAI1d,UAAU,GAAG,CAAC0d,IAAI,EAAE,mBAAmB,EAAE,uBAAuB,CAAC;EACrE,IAAIrzB,KAAK,GAAGqK,IAAI,CAACsL,UAAU,EAAE,UAAU4kB,IAAI,EAAE;IAC3C,OAAOA,IAAI,IAAIwH,OAAO,CAACz/B,SAAS;EAClC,CAAC,CAAC;EACF,OAAOtC,KAAK,IAAIqzB,IAAI;AACtB,CAAC,EAAE;AAEH,SAAS4O,eAAe,CAAC5gC,EAAE,EAAE2yB,QAAQ,EAAE;EACrC,IAAI3yB,EAAE,IAAI,IAAI,EAAE;IACd,OAAO,IAAI;EACb;EAEA,IAAIA,EAAE,CAAC2gC,oBAAoB,CAAC,CAAChO,QAAQ,CAAC,EAAE;IACtC,OAAO3yB,EAAE;EACX;EAEA,OAAO4gC,eAAe,CAAC5gC,EAAE,CAACqgC,aAAa,EAAE1N,QAAQ,CAAC;AACpD;AAEA,SAASkO,SAAS,CAAC7gC,EAAE,EAAE2yB,QAAQ,EAAE;EAC/B,IAAI3yB,EAAE,CAAC8F,OAAO,EAAE;IACd,OAAO9F,EAAE,CAAC8F,OAAO,CAAC6sB,QAAQ,CAAC;EAC7B;EAEA,OAAOiO,eAAe,CAAC5gC,EAAE,EAAE2yB,QAAQ,CAAC;AACtC;AAEA,SAASG,WAAW,CAACb,SAAS,EAAE;EAC9B,OAAO,GAAG,GAAGF,UAAU,CAACE,SAAS,GAAG,KAAK,GAAGA,SAAS,GAAG,KAAK;AAC/D;AAEA,SAAS6O,8BAA8B,CAAC7O,SAAS,EAAE/vB,KAAK,EAAE;EACxD,IAAI6D,MAAM,GAAG7D,KAAK,CAAC6D,MAAM;EAEzB,IAAI,CAAC06B,SAAS,CAAC16B,MAAM,CAAC,EAAE;IACtB1H,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,GAAGiB,OAAO,CAAC,gCAAgC,CAAC,GAAG,KAAK,CAAC;IAC1F,OAAO,IAAI;EACb;EAEA,IAAImzB,QAAQ,GAAGG,WAAW,CAACb,SAAS,CAAC;EACrC,IAAIiD,MAAM,GAAG2L,SAAS,CAAC96B,MAAM,EAAE4sB,QAAQ,CAAC;EAExC,IAAI,CAACuC,MAAM,EAAE;IACX,OAAO,IAAI;EACb;EAEA,IAAI,CAACL,aAAa,CAACK,MAAM,CAAC,EAAE;IAC1B72B,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,GAAGiB,OAAO,CAAC,mCAAmC,CAAC,GAAG,KAAK,CAAC;IAC7F,OAAO,IAAI;EACb;EAEA,OAAO01B,MAAM;AACf;AAEA,SAAS6L,iCAAiC,CAAC9O,SAAS,EAAE/vB,KAAK,EAAE;EAC3D,IAAIgzB,MAAM,GAAG4L,8BAA8B,CAAC7O,SAAS,EAAE/vB,KAAK,CAAC;EAE7D,IAAI,CAACgzB,MAAM,EAAE;IACX,OAAO,IAAI;EACb;EAEA,OAAOA,MAAM,CAACC,YAAY,CAACpD,UAAU,CAAC5tB,WAAW,CAAC;AACpD;AAEA,SAAS68B,aAAa,CAAC/O,SAAS,EAAE9tB,WAAW,EAAE;EAC7C,IAAIwuB,QAAQ,GAAG,GAAG,GAAG5oB,SAAS,CAACkoB,SAAS,GAAG,KAAK,GAAGA,SAAS,GAAG,KAAK;EACpE,IAAI+C,QAAQ,GAAG9rB,OAAO,CAACgc,QAAQ,CAAC+P,gBAAgB,CAACtC,QAAQ,CAAC,CAAC;EAC3D,IAAIQ,WAAW,GAAGnqB,IAAI,CAACgsB,QAAQ,EAAE,UAAUh1B,EAAE,EAAE;IAC7C,OAAOA,EAAE,CAACm1B,YAAY,CAACprB,SAAS,CAAC/F,EAAE,CAAC,KAAKG,WAAW;EACtD,CAAC,CAAC;EAEF,IAAI,CAACgvB,WAAW,EAAE;IAChB,OAAO,IAAI;EACb;EAEA,IAAI,CAAC0B,aAAa,CAAC1B,WAAW,CAAC,EAAE;IAC/B90B,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,GAAGiB,OAAO,CAAC,wCAAwC,CAAC,GAAG,KAAK,CAAC;IAClG,OAAO,IAAI;EACb;EAEA,OAAO2zB,WAAW;AACpB;AAEA,SAAS5wB,cAAc,CAACL,KAAK,EAAE;EAC7BA,KAAK,CAACK,cAAc,EAAE;AACxB;AAEA,SAAS0+B,SAAS,CAACx7B,IAAI,EAAE;EACvB,IAAIgzB,QAAQ,GAAGhzB,IAAI,CAACgzB,QAAQ;IACxB1gB,KAAK,GAAGtS,IAAI,CAACsS,KAAK;IAClBmpB,YAAY,GAAGz7B,IAAI,CAACy7B,YAAY;IAChCC,UAAU,GAAG17B,IAAI,CAAC07B,UAAU;EAEhC,IAAI,CAACD,YAAY,EAAE,EAAE;IACnB,IAAIC,UAAU,EAAE;MACd9iC,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,GAAGiB,OAAO,CAAC,+OAA+O,CAAC,GAAG,KAAK,CAAC;IAC3S;IAEA,OAAO,KAAK;EACd;EAEA,IAAIi5B,QAAQ,KAAK1gB,KAAK,EAAE;IACtB,IAAIopB,UAAU,EAAE;MACd9iC,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,GAAGiB,OAAO,CAAC,uHAAuH,GAAGi5B,QAAQ,GAAG,sDAAsD,GAAG1gB,KAAK,GAAG,8GAA8G,CAAC,GAAG,KAAK,CAAC;IAChX;IAEA,OAAO,KAAK;EACd;EAEA,OAAO,IAAI;AACb;AAEA,SAASqpB,QAAQ,CAAClyB,KAAK,EAAE;EACvB,IAAImyB,OAAO,GAAGnyB,KAAK,CAACmyB,OAAO;IACvBzb,KAAK,GAAG1W,KAAK,CAAC0W,KAAK;IACnB0E,QAAQ,GAAGpb,KAAK,CAACob,QAAQ;IACzBnmB,WAAW,GAAG+K,KAAK,CAAC/K,WAAW;EAEnC,IAAIk9B,OAAO,CAACtH,SAAS,EAAE,EAAE;IACvB,OAAO,KAAK;EACd;EAEA,IAAIpT,KAAK,GAAG2D,QAAQ,CAACvgB,SAAS,CAAC2sB,QAAQ,CAACvyB,WAAW,CAAC;EAEpD,IAAI,CAACwiB,KAAK,EAAE;IACVtoB,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,GAAGiB,OAAO,CAAC,oCAAoC,GAAG2E,WAAW,CAAC,GAAG,KAAK,CAAC;IAC5G,OAAO,KAAK;EACd;EAEA,IAAI,CAACwiB,KAAK,CAACrmB,OAAO,CAACuT,SAAS,EAAE;IAC5B,OAAO,KAAK;EACd;EAEA,IAAI,CAACyY,YAAY,CAAC1G,KAAK,CAAChE,QAAQ,EAAE,EAAEzd,WAAW,CAAC,EAAE;IAChD,OAAO,KAAK;EACd;EAEA,OAAO,IAAI;AACb;AAEA,SAASm9B,QAAQ,CAAC9vB,KAAK,EAAE;EACvB,IAAI6vB,OAAO,GAAG7vB,KAAK,CAAC6vB,OAAO;IACvBpP,SAAS,GAAGzgB,KAAK,CAACygB,SAAS;IAC3BrM,KAAK,GAAGpU,KAAK,CAACoU,KAAK;IACnB0E,QAAQ,GAAG9Y,KAAK,CAAC8Y,QAAQ;IACzBnmB,WAAW,GAAGqN,KAAK,CAACrN,WAAW;IAC/Bo9B,eAAe,GAAG/vB,KAAK,CAAC+vB,eAAe;IACvCrE,WAAW,GAAG1rB,KAAK,CAAC0rB,WAAW;EACnC,IAAIsE,WAAW,GAAGJ,QAAQ,CAAC;IACzBC,OAAO,EAAEA,OAAO;IAChBzb,KAAK,EAAEA,KAAK;IACZ0E,QAAQ,EAAEA,QAAQ;IAClBnmB,WAAW,EAAEA;EACf,CAAC,CAAC;EAEF,IAAI,CAACq9B,WAAW,EAAE;IAChB,OAAO,IAAI;EACb;EAEA,IAAI7a,KAAK,GAAG2D,QAAQ,CAACvgB,SAAS,CAAC2gB,OAAO,CAACvmB,WAAW,CAAC;EACnD,IAAInE,EAAE,GAAGghC,aAAa,CAAC/O,SAAS,EAAEtL,KAAK,CAACnd,UAAU,CAACxF,EAAE,CAAC;EAEtD,IAAI,CAAChE,EAAE,EAAE;IACP3B,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,GAAGiB,OAAO,CAAC,4CAA4C,GAAG2E,WAAW,CAAC,GAAG,KAAK,CAAC;IACpH,OAAO,IAAI;EACb;EAEA,IAAI+4B,WAAW,IAAI,CAACvW,KAAK,CAACrmB,OAAO,CAACmhC,0BAA0B,IAAInB,2BAA2B,CAACtgC,EAAE,EAAEk9B,WAAW,CAAC,EAAE;IAC5G,OAAO,IAAI;EACb;EAEA,IAAIpD,IAAI,GAAGuH,OAAO,CAACrH,KAAK,CAACuH,eAAe,IAAI5hC,IAAI,CAAC;EACjD,IAAIoY,KAAK,GAAG,UAAU;EAEtB,SAAS2pB,0BAA0B,GAAG;IACpC,OAAO/a,KAAK,CAACrmB,OAAO,CAAC87B,uBAAuB;EAC9C;EAEA,SAAS8E,YAAY,GAAG;IACtB,OAAOG,OAAO,CAAC9b,QAAQ,CAACuU,IAAI,CAAC;EAC/B;EAEA,SAAS6H,WAAW,CAAClJ,QAAQ,EAAEmJ,SAAS,EAAE;IACxC,IAAIX,SAAS,CAAC;MACZxI,QAAQ,EAAEA,QAAQ;MAClB1gB,KAAK,EAAEA,KAAK;MACZmpB,YAAY,EAAEA,YAAY;MAC1BC,UAAU,EAAE;IACd,CAAC,CAAC,EAAE;MACFvb,KAAK,CAAC/D,QAAQ,CAAC+f,SAAS,EAAE,CAAC;IAC7B;EACF;EAEA,IAAIC,uBAAuB,GAAGF,WAAW,CAACliC,IAAI,CAAC,IAAI,EAAE,UAAU,CAAC;EAEhE,SAASiiB,MAAM,CAAC/f,IAAI,EAAE;IACpB,SAASuc,SAAS,GAAG;MACnBmjB,OAAO,CAAClH,OAAO,EAAE;MACjBpiB,KAAK,GAAG,WAAW;IACrB;IAEA,IAAIA,KAAK,KAAK,UAAU,EAAE;MACxBmG,SAAS,EAAE;MACX,EAAEnG,KAAK,KAAK,UAAU,CAAC,GAAG1Z,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,GAAG4C,SAAS,CAAC,KAAK,EAAE,uBAAuB,GAAG4W,KAAK,CAAC,GAAG5W,SAAS,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC;IACjJ;IAEAykB,KAAK,CAAC/D,QAAQ,CAAC7B,IAAI,CAACre,IAAI,CAACmgC,cAAc,CAAC,CAAC;IACzC/pB,KAAK,GAAG,UAAU;IAElB,SAAS2D,MAAM,CAAChX,MAAM,EAAEpE,OAAO,EAAE;MAC/B,IAAIA,OAAO,KAAK,KAAK,CAAC,EAAE;QACtBA,OAAO,GAAG;UACR67B,oBAAoB,EAAE;QACxB,CAAC;MACH;MAEAx6B,IAAI,CAAC+1B,OAAO,EAAE;MAEd,IAAIp3B,OAAO,CAAC67B,oBAAoB,EAAE;QAChC,IAAIz7B,MAAM,GAAGX,UAAU,CAACV,MAAM,EAAE,CAAC;UAC/BmB,SAAS,EAAE,OAAO;UAClBC,EAAE,EAAE8B,cAAc;UAClBjC,OAAO,EAAE;YACPyoB,IAAI,EAAE,IAAI;YACV/D,OAAO,EAAE,KAAK;YACdC,OAAO,EAAE;UACX;QACF,CAAC,CAAC,CAAC;QACHkB,UAAU,CAACzlB,MAAM,CAAC;MACpB;MAEAwd,SAAS,EAAE;MACX0H,KAAK,CAAC/D,QAAQ,CAACZ,IAAI,CAAC;QAClBvc,MAAM,EAAEA;MACV,CAAC,CAAC,CAAC;IACL;IAEA,OAAO7H,QAAQ,CAAC;MACd0oB,QAAQ,EAAE,SAASA,QAAQ,GAAG;QAC5B,OAAO0b,SAAS,CAAC;UACfxI,QAAQ,EAAE,UAAU;UACpB1gB,KAAK,EAAEA,KAAK;UACZmpB,YAAY,EAAEA,YAAY;UAC1BC,UAAU,EAAE;QACd,CAAC,CAAC;MACJ,CAAC;MACD/E,uBAAuB,EAAEsF,0BAA0B;MACnDzgB,IAAI,EAAE,SAASA,IAAI,CAAC3gB,OAAO,EAAE;QAC3B,OAAOob,MAAM,CAAC,MAAM,EAAEpb,OAAO,CAAC;MAChC,CAAC;MACDmlB,MAAM,EAAE,SAASA,MAAM,CAACnlB,OAAO,EAAE;QAC/B,OAAOob,MAAM,CAAC,QAAQ,EAAEpb,OAAO,CAAC;MAClC;IACF,CAAC,EAAEqB,IAAI,CAACq6B,OAAO,CAAC;EAClB;EAEA,SAASE,SAAS,CAACnoB,eAAe,EAAE;IAClC,IAAIguB,MAAM,GAAGhkC,OAAO,CAAC,UAAUoV,MAAM,EAAE;MACrC0uB,uBAAuB,CAAC,YAAY;QAClC,OAAOthB,IAAI,CAAC;UACVpN,MAAM,EAAEA;QACV,CAAC,CAAC;MACJ,CAAC,CAAC;IACJ,CAAC,CAAC;IACF,IAAImpB,GAAG,GAAG5a,MAAM,CAAC;MACfogB,cAAc,EAAE;QACd99B,EAAE,EAAEG,WAAW;QACf4P,eAAe,EAAEA,eAAe;QAChC+G,YAAY,EAAE;MAChB,CAAC;MACD4c,OAAO,EAAE,SAASA,OAAO,GAAG;QAC1B,OAAOqK,MAAM,CAACtc,MAAM,EAAE;MACxB,CAAC;MACDuW,OAAO,EAAE;QACPzb,IAAI,EAAEwhB;MACR;IACF,CAAC,CAAC;IACF,OAAOllC,QAAQ,CAAC,CAAC,CAAC,EAAEy/B,GAAG,EAAE;MACvB/b,IAAI,EAAEwhB;IACR,CAAC,CAAC;EACJ;EAEA,SAAS9D,QAAQ,GAAG;IAClB,IAAIjC,OAAO,GAAG;MACZtb,MAAM,EAAE,SAASshB,QAAQ,GAAG;QAC1B,OAAOH,uBAAuB,CAACnhB,MAAM,CAAC;MACxC,CAAC;MACDE,SAAS,EAAE,SAASqhB,WAAW,GAAG;QAChC,OAAOJ,uBAAuB,CAACjhB,SAAS,CAAC;MAC3C,CAAC;MACDD,QAAQ,EAAE,SAASuhB,UAAU,GAAG;QAC9B,OAAOL,uBAAuB,CAAClhB,QAAQ,CAAC;MAC1C,CAAC;MACDE,QAAQ,EAAE,SAASshB,UAAU,GAAG;QAC9B,OAAON,uBAAuB,CAAChhB,QAAQ,CAAC;MAC1C;IACF,CAAC;IACD,OAAOa,MAAM,CAAC;MACZogB,cAAc,EAAE;QACd99B,EAAE,EAAEG,WAAW;QACf4P,eAAe,EAAEwsB,0BAA0B,CAACvgC,EAAE,CAAC;QAC/C8a,YAAY,EAAE;MAChB,CAAC;MACD4c,OAAO,EAAE/3B,IAAI;MACbq8B,OAAO,EAAEA;IACX,CAAC,CAAC;EACJ;EAEA,SAASoG,YAAY,GAAG;IACtB,IAAIC,aAAa,GAAGpB,SAAS,CAAC;MAC5BxI,QAAQ,EAAE,UAAU;MACpB1gB,KAAK,EAAEA,KAAK;MACZmpB,YAAY,EAAEA,YAAY;MAC1BC,UAAU,EAAE;IACd,CAAC,CAAC;IAEF,IAAIkB,aAAa,EAAE;MACjBhB,OAAO,CAAClH,OAAO,EAAE;IACnB;EACF;EAEA,IAAI4D,OAAO,GAAG;IACZxY,QAAQ,EAAE,SAASA,QAAQ,GAAG;MAC5B,OAAO0b,SAAS,CAAC;QACfxI,QAAQ,EAAE,UAAU;QACpB1gB,KAAK,EAAEA,KAAK;QACZmpB,YAAY,EAAEA,YAAY;QAC1BC,UAAU,EAAE;MACd,CAAC,CAAC;IACJ,CAAC;IACD/E,uBAAuB,EAAEsF,0BAA0B;IACnDxF,SAAS,EAAEA,SAAS;IACpB+B,QAAQ,EAAEA,QAAQ;IAClB1V,KAAK,EAAE6Z;EACT,CAAC;EACD,OAAOrE,OAAO;AAChB;AAEA,IAAIuE,cAAc,GAAG,CAACjG,cAAc,EAAEwB,iBAAiB,EAAEkB,gBAAgB,CAAC;AAC1E,SAASwD,gBAAgB,CAACC,KAAK,EAAE;EAC/B,IAAIvQ,SAAS,GAAGuQ,KAAK,CAACvQ,SAAS;IAC3BrM,KAAK,GAAG4c,KAAK,CAAC5c,KAAK;IACnB0E,QAAQ,GAAGkY,KAAK,CAAClY,QAAQ;IACzBmY,aAAa,GAAGD,KAAK,CAACC,aAAa;IACnCC,oBAAoB,GAAGF,KAAK,CAACE,oBAAoB;EACrD,IAAIC,UAAU,GAAG,EAAE,CAAC5gC,MAAM,CAAC2gC,oBAAoB,GAAGJ,cAAc,GAAG,EAAE,EAAEG,aAAa,IAAI,EAAE,CAAC;EAC3F,IAAIpB,OAAO,GAAG7kC,QAAQ,CAAC,YAAY;IACjC,OAAOq9B,MAAM,EAAE;EACjB,CAAC,CAAC,CAAC,CAAC,CAAC;EACL,IAAI+I,cAAc,GAAGjmC,WAAW,CAAC,SAASimC,cAAc,CAACr5B,QAAQ,EAAEb,OAAO,EAAE;IAC1E,IAAIa,QAAQ,CAACnH,UAAU,IAAI,CAACsG,OAAO,CAACtG,UAAU,EAAE;MAC9Ci/B,OAAO,CAACjH,UAAU,EAAE;IACtB;EACF,CAAC,EAAE,CAACiH,OAAO,CAAC,CAAC;EACb7N,yBAAyB,CAAC,SAASqP,aAAa,GAAG;IACjD,IAAIt5B,QAAQ,GAAGqc,KAAK,CAAChE,QAAQ,EAAE;IAC/B,IAAIuK,WAAW,GAAGvG,KAAK,CAACyG,SAAS,CAAC,YAAY;MAC5C,IAAI3jB,OAAO,GAAGkd,KAAK,CAAChE,QAAQ,EAAE;MAC9BghB,cAAc,CAACr5B,QAAQ,EAAEb,OAAO,CAAC;MACjCa,QAAQ,GAAGb,OAAO;IACpB,CAAC,CAAC;IACF,OAAOyjB,WAAW;EACpB,CAAC,EAAE,CAACkV,OAAO,EAAEzb,KAAK,EAAEgd,cAAc,CAAC,CAAC;EACpCpP,yBAAyB,CAAC,YAAY;IACpC,OAAO6N,OAAO,CAACjH,UAAU;EAC3B,CAAC,EAAE,CAACiH,OAAO,CAACjH,UAAU,CAAC,CAAC;EACxB,IAAIkD,UAAU,GAAG3gC,WAAW,CAAC,UAAUwH,WAAW,EAAE;IAClD,OAAOi9B,QAAQ,CAAC;MACdC,OAAO,EAAEA,OAAO;MAChB/W,QAAQ,EAAEA,QAAQ;MAClB1E,KAAK,EAAEA,KAAK;MACZzhB,WAAW,EAAEA;IACf,CAAC,CAAC;EACJ,CAAC,EAAE,CAACk9B,OAAO,EAAE/W,QAAQ,EAAE1E,KAAK,CAAC,CAAC;EAC9B,IAAIqX,UAAU,GAAGtgC,WAAW,CAAC,UAAUwH,WAAW,EAAE2+B,SAAS,EAAExiC,OAAO,EAAE;IACtE,OAAOghC,QAAQ,CAAC;MACdD,OAAO,EAAEA,OAAO;MAChB/W,QAAQ,EAAEA,QAAQ;MAClB2H,SAAS,EAAEA,SAAS;MACpBrM,KAAK,EAAEA,KAAK;MACZzhB,WAAW,EAAEA,WAAW;MACxBo9B,eAAe,EAAEuB,SAAS;MAC1B5F,WAAW,EAAE58B,OAAO,IAAIA,OAAO,CAAC48B,WAAW,GAAG58B,OAAO,CAAC48B,WAAW,GAAG;IACtE,CAAC,CAAC;EACJ,CAAC,EAAE,CAACjL,SAAS,EAAEoP,OAAO,EAAE/W,QAAQ,EAAE1E,KAAK,CAAC,CAAC;EACzC,IAAIoX,sBAAsB,GAAGrgC,WAAW,CAAC,UAAUuF,KAAK,EAAE;IACxD,OAAO6+B,iCAAiC,CAAC9O,SAAS,EAAE/vB,KAAK,CAAC;EAC5D,CAAC,EAAE,CAAC+vB,SAAS,CAAC,CAAC;EACf,IAAIoL,uBAAuB,GAAG1gC,WAAW,CAAC,UAAUqH,EAAE,EAAE;IACtD,IAAI2iB,KAAK,GAAG2D,QAAQ,CAACvgB,SAAS,CAAC2sB,QAAQ,CAAC1yB,EAAE,CAAC;IAC3C,OAAO2iB,KAAK,GAAGA,KAAK,CAACrmB,OAAO,GAAG,IAAI;EACrC,CAAC,EAAE,CAACgqB,QAAQ,CAACvgB,SAAS,CAAC,CAAC;EACxB,IAAIg5B,cAAc,GAAGpmC,WAAW,CAAC0kC,OAAO,CAACjH,UAAU,EAAE,CAACiH,OAAO,CAAC,CAAC;EAC/D,IAAI2B,aAAa,GAAGrmC,WAAW,CAAC0kC,OAAO,CAACtH,SAAS,EAAE,CAACsH,OAAO,CAAC,CAAC;EAC7D,IAAI/E,GAAG,GAAG5/B,OAAO,CAAC,YAAY;IAC5B,OAAO;MACL4gC,UAAU,EAAEA,UAAU;MACtBL,UAAU,EAAEA,UAAU;MACtBD,sBAAsB,EAAEA,sBAAsB;MAC9CK,uBAAuB,EAAEA,uBAAuB;MAChD0F,cAAc,EAAEA,cAAc;MAC9BC,aAAa,EAAEA;IACjB,CAAC;EACH,CAAC,EAAE,CAAC1F,UAAU,EAAEL,UAAU,EAAED,sBAAsB,EAAEK,uBAAuB,EAAE0F,cAAc,EAAEC,aAAa,CAAC,CAAC;EAC5G1D,sBAAsB,CAACqD,UAAU,CAAC;EAElC,KAAK,IAAI55B,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG45B,UAAU,CAACjhC,MAAM,EAAEqH,CAAC,EAAE,EAAE;IAC1C45B,UAAU,CAAC55B,CAAC,CAAC,CAACuzB,GAAG,CAAC;EACpB;AACF;AAEA,IAAI2G,gBAAgB,GAAG,SAASA,gBAAgB,CAACjgC,KAAK,EAAE;EACtD,OAAO;IACL8kB,eAAe,EAAE9kB,KAAK,CAAC8kB,eAAe;IACtCE,iBAAiB,EAAEhlB,KAAK,CAACglB,iBAAiB;IAC1C1kB,WAAW,EAAEN,KAAK,CAACM,WAAW;IAC9BkB,SAAS,EAAExB,KAAK,CAACwB,SAAS;IAC1BJ,YAAY,EAAEpB,KAAK,CAACoB;EACtB,CAAC;AACH,CAAC;AAED,SAAS8+B,QAAQ,CAACC,OAAO,EAAE;EACzB,CAACA,OAAO,CAACz6B,OAAO,GAAGrK,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,GAAG4C,SAAS,CAAC,KAAK,EAAE,oCAAoC,CAAC,GAAGA,SAAS,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC;EAC7I,OAAOgiC,OAAO,CAACz6B,OAAO;AACxB;AAEA,SAAS06B,GAAG,CAACpgC,KAAK,EAAE;EAClB,IAAIivB,SAAS,GAAGjvB,KAAK,CAACivB,SAAS;IAC3BxvB,YAAY,GAAGO,KAAK,CAACP,YAAY;IACjC4gC,OAAO,GAAGrgC,KAAK,CAACqgC,OAAO;IACvBvP,KAAK,GAAG9wB,KAAK,CAAC8wB,KAAK;IACnB3wB,eAAe,GAAGH,KAAK,CAACG,eAAe;EAC3C,IAAImgC,YAAY,GAAG/mC,MAAM,CAAC,IAAI,CAAC;EAC/Bm9B,oBAAoB,EAAE;EACtB,IAAI6J,YAAY,GAAG3J,WAAW,CAAC52B,KAAK,CAAC;EACrC,IAAI2kB,aAAa,GAAGhrB,WAAW,CAAC,YAAY;IAC1C,OAAOsmC,gBAAgB,CAACM,YAAY,CAAC76B,OAAO,CAAC;EAC/C,CAAC,EAAE,CAAC66B,YAAY,CAAC,CAAC;EAClB,IAAIxd,QAAQ,GAAGyR,YAAY,CAACvF,SAAS,CAAC;EACtC,IAAIuR,iBAAiB,GAAG5L,kBAAkB,CAAC3F,SAAS,EAAE9uB,eAAe,CAAC;EACtE,IAAI+mB,YAAY,GAAG8J,eAAe,CAAC/B,SAAS,EAAE6B,KAAK,CAAC;EACpD,IAAI2P,YAAY,GAAG9mC,WAAW,CAAC,UAAU0hB,MAAM,EAAE;IAC/C6kB,QAAQ,CAACI,YAAY,CAAC,CAACzhB,QAAQ,CAACxD,MAAM,CAAC;EACzC,CAAC,EAAE,EAAE,CAAC;EACN,IAAIqlB,gBAAgB,GAAGhnC,OAAO,CAAC,YAAY;IACzC,OAAOQ,kBAAkB,CAAC;MACxBgjB,oBAAoB,EAAEA,oBAAoB;MAC1CE,qBAAqB,EAAEA,qBAAqB;MAC5CC,wBAAwB,EAAEA,wBAAwB;MAClDC,+BAA+B,EAAEA,+BAA+B;MAChEH,kBAAkB,EAAEA;IACtB,CAAC,EAAEsjB,YAAY,CAAC;EAClB,CAAC,EAAE,CAACA,YAAY,CAAC,CAAC;EAClB,IAAInZ,QAAQ,GAAGwM,WAAW,EAAE;EAC5B,IAAI9M,gBAAgB,GAAGttB,OAAO,CAAC,YAAY;IACzC,OAAOovB,sBAAsB,CAACxB,QAAQ,EAAEoZ,gBAAgB,CAAC;EAC3D,CAAC,EAAE,CAACpZ,QAAQ,EAAEoZ,gBAAgB,CAAC,CAAC;EAChC,IAAI/Z,YAAY,GAAGjtB,OAAO,CAAC,YAAY;IACrC,OAAOg1B,kBAAkB,CAAC70B,QAAQ,CAAC;MACjC0vB,YAAY,EAAEA,YAAY;MAC1BpkB,eAAe,EAAE6hB,gBAAgB,CAAC7hB;IACpC,CAAC,EAAEjL,kBAAkB,CAAC;MACpBqjB,IAAI,EAAEA;IACR,CAAC,EAAEkjB,YAAY,CAAC,CAAC,CAAC;EACpB,CAAC,EAAE,CAACzZ,gBAAgB,CAAC7hB,eAAe,EAAEs7B,YAAY,CAAC,CAAC;EACpD,IAAIxZ,YAAY,GAAGmL,eAAe,CAACnD,SAAS,CAAC;EAC7C,IAAIrM,KAAK,GAAGlpB,OAAO,CAAC,YAAY;IAC9B,OAAOI,WAAW,CAAC;MACjBipB,QAAQ,EAAEA,QAAQ;MAClB4D,YAAY,EAAEA,YAAY;MAC1BK,gBAAgB,EAAEA,gBAAgB;MAClCC,YAAY,EAAEA,YAAY;MAC1BtC,aAAa,EAAEA,aAAa;MAC5BuC,YAAY,EAAEA;IAChB,CAAC,CAAC;EACJ,CAAC,EAAE,CAACnE,QAAQ,EAAE4D,YAAY,EAAEK,gBAAgB,EAAEC,YAAY,EAAEtC,aAAa,EAAEuC,YAAY,CAAC,CAAC;EAEzF,IAAI7rB,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,EAAE;IACzC,IAAI+kC,YAAY,CAAC56B,OAAO,IAAI46B,YAAY,CAAC56B,OAAO,KAAKkd,KAAK,EAAE;MAC1DvnB,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,GAAGiB,OAAO,CAAC,yBAAyB,CAAC,GAAG,KAAK,CAAC;IACrF;EACF;EAEA8jC,YAAY,CAAC56B,OAAO,GAAGkd,KAAK;EAC5B,IAAI+d,aAAa,GAAGhnC,WAAW,CAAC,YAAY;IAC1C,IAAI+L,OAAO,GAAGw6B,QAAQ,CAACI,YAAY,CAAC;IACpC,IAAIlsB,KAAK,GAAG1O,OAAO,CAACkZ,QAAQ,EAAE;IAE9B,IAAIxK,KAAK,CAACW,KAAK,KAAK,MAAM,EAAE;MAC1BrP,OAAO,CAACmZ,QAAQ,CAACf,KAAK,EAAE,CAAC;IAC3B;EACF,CAAC,EAAE,EAAE,CAAC;EACN,IAAI1e,UAAU,GAAGzF,WAAW,CAAC,YAAY;IACvC,IAAIya,KAAK,GAAG8rB,QAAQ,CAACI,YAAY,CAAC,CAAC1hB,QAAQ,EAAE;IAC7C,OAAOxK,KAAK,CAAChV,UAAU,IAAIgV,KAAK,CAACW,KAAK,KAAK,gBAAgB;EAC7D,CAAC,EAAE,EAAE,CAAC;EACN,IAAI6rB,YAAY,GAAGlnC,OAAO,CAAC,YAAY;IACrC,OAAO;MACL0F,UAAU,EAAEA,UAAU;MACtBC,QAAQ,EAAEshC;IACZ,CAAC;EACH,CAAC,EAAE,CAACvhC,UAAU,EAAEuhC,aAAa,CAAC,CAAC;EAC/BlhC,YAAY,CAACmhC,YAAY,CAAC;EAC1B,IAAIC,UAAU,GAAGlnC,WAAW,CAAC,UAAUqH,EAAE,EAAE;IACzC,OAAOsoB,YAAY,CAAC4W,QAAQ,CAACI,YAAY,CAAC,CAAC1hB,QAAQ,EAAE,EAAE5d,EAAE,CAAC;EAC5D,CAAC,EAAE,EAAE,CAAC;EACN,IAAI8/B,oBAAoB,GAAGnnC,WAAW,CAAC,YAAY;IACjD,OAAOmb,iBAAiB,CAACorB,QAAQ,CAACI,YAAY,CAAC,CAAC1hB,QAAQ,EAAE,CAAC;EAC7D,CAAC,EAAE,EAAE,CAAC;EACN,IAAImiB,UAAU,GAAGrnC,OAAO,CAAC,YAAY;IACnC,OAAO;MACLilB,OAAO,EAAEqI,gBAAgB;MACzBZ,KAAK,EAAEa,YAAY;MACnBgI,SAAS,EAAEA,SAAS;MACpB+R,OAAO,EAAEH,UAAU;MACnB/rB,iBAAiB,EAAEgsB,oBAAoB;MACvCN,iBAAiB,EAAEA,iBAAiB;MACpClZ,QAAQ,EAAEA;IACZ,CAAC;EACH,CAAC,EAAE,CAAC2H,SAAS,EAAEjI,gBAAgB,EAAEC,YAAY,EAAE4Z,UAAU,EAAEC,oBAAoB,EAAEN,iBAAiB,EAAElZ,QAAQ,CAAC,CAAC;EAC9GiY,gBAAgB,CAAC;IACftQ,SAAS,EAAEA,SAAS;IACpBrM,KAAK,EAAEA,KAAK;IACZ0E,QAAQ,EAAEA,QAAQ;IAClBmY,aAAa,EAAEY,OAAO;IACtBX,oBAAoB,EAAE1/B,KAAK,CAAC0/B,oBAAoB,KAAK;EACvD,CAAC,CAAC;EACFpmC,SAAS,CAAC,YAAY;IACpB,OAAOqnC,aAAa;EACtB,CAAC,EAAE,CAACA,aAAa,CAAC,CAAC;EACnB,OAAOvnC,KAAK,CAACq3B,aAAa,CAACsE,UAAU,CAAC56B,QAAQ,EAAE;IAC9CwB,KAAK,EAAEolC;EACT,CAAC,EAAE3nC,KAAK,CAACq3B,aAAa,CAACt2B,QAAQ,EAAE;IAC/Bi1B,OAAO,EAAE4E,YAAY;IACrBpR,KAAK,EAAEA;EACT,CAAC,EAAE5iB,KAAK,CAACC,QAAQ,CAAC,CAAC;AACrB;AAEA,IAAIghC,aAAa,GAAG,CAAC;AACrB,SAASC,kBAAkB,GAAG;EAC5BD,aAAa,GAAG,CAAC;AACnB;AACA,SAASE,eAAe,CAACnhC,KAAK,EAAE;EAC9B,IAAIivB,SAAS,GAAGv1B,OAAO,CAAC,YAAY;IAClC,OAAO,EAAE,GAAGunC,aAAa,EAAE;EAC7B,CAAC,EAAE,EAAE,CAAC;EACN,IAAI9gC,eAAe,GAAGH,KAAK,CAACG,eAAe,IAAIwB,MAAM,CAACxB,eAAe;EACrE,OAAO/G,KAAK,CAACq3B,aAAa,CAACpyB,aAAa,EAAE,IAAI,EAAE,UAAUoB,YAAY,EAAE;IACtE,OAAOrG,KAAK,CAACq3B,aAAa,CAAC2P,GAAG,EAAE;MAC9BtP,KAAK,EAAE9wB,KAAK,CAAC8wB,KAAK;MAClB7B,SAAS,EAAEA,SAAS;MACpBxvB,YAAY,EAAEA,YAAY;MAC1BU,eAAe,EAAEA,eAAe;MAChCu/B,oBAAoB,EAAE1/B,KAAK,CAAC0/B,oBAAoB;MAChDW,OAAO,EAAErgC,KAAK,CAACqgC,OAAO;MACtBvb,eAAe,EAAE9kB,KAAK,CAAC8kB,eAAe;MACtCE,iBAAiB,EAAEhlB,KAAK,CAACglB,iBAAiB;MAC1C1kB,WAAW,EAAEN,KAAK,CAACM,WAAW;MAC9Bc,YAAY,EAAEpB,KAAK,CAACoB,YAAY;MAChCI,SAAS,EAAExB,KAAK,CAACwB;IACnB,CAAC,EAAExB,KAAK,CAACC,QAAQ,CAAC;EACpB,CAAC,CAAC;AACJ;AAEA,IAAImhC,SAAS,GAAG,SAASj/B,OAAO,CAAC6sB,IAAI,EAAE;EACrC,OAAO,UAAUrzB,KAAK,EAAE;IACtB,OAAOqzB,IAAI,KAAKrzB,KAAK;EACvB,CAAC;AACH,CAAC;AAED,IAAI0lC,QAAQ,GAAGD,SAAS,CAAC,QAAQ,CAAC;AAClC,IAAIE,MAAM,GAAGF,SAAS,CAAC,MAAM,CAAC;AAC9B,IAAIG,WAAW,GAAGH,SAAS,CAAC,SAAS,CAAC;AAEtC,IAAII,QAAQ,GAAG,SAASA,QAAQ,CAAClN,QAAQ,EAAE72B,EAAE,EAAE;EAC7C,OAAOA,EAAE,CAAC62B,QAAQ,CAACmN,SAAS,CAAC,IAAIhkC,EAAE,CAAC62B,QAAQ,CAACoN,SAAS,CAAC;AACzD,CAAC;AAED,IAAIC,MAAM,GAAG,SAASA,MAAM,CAACrN,QAAQ,EAAE72B,EAAE,EAAE;EACzC,OAAOA,EAAE,CAAC62B,QAAQ,CAACmN,SAAS,CAAC,IAAIhkC,EAAE,CAAC62B,QAAQ,CAACoN,SAAS,CAAC;AACzD,CAAC;AAED,IAAIE,mBAAmB,GAAG,SAASA,mBAAmB,CAAC5kC,EAAE,EAAE;EACzD,IAAI8b,KAAK,GAAGzc,MAAM,CAACwlC,gBAAgB,CAAC7kC,EAAE,CAAC;EACvC,IAAIs3B,QAAQ,GAAG;IACbmN,SAAS,EAAE3oB,KAAK,CAAC2oB,SAAS;IAC1BC,SAAS,EAAE5oB,KAAK,CAAC4oB;EACnB,CAAC;EACD,OAAOF,QAAQ,CAAClN,QAAQ,EAAE+M,QAAQ,CAAC,IAAIG,QAAQ,CAAClN,QAAQ,EAAEgN,MAAM,CAAC;AACnE,CAAC;AAED,IAAIQ,gBAAgB,GAAG,SAASA,gBAAgB,GAAG;EACjD,IAAIzmC,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,EAAE;IACzC,OAAO,KAAK;EACd;EAEA,IAAIg1B,IAAI,GAAG2D,cAAc,EAAE;EAC3B,IAAI6N,IAAI,GAAG7f,QAAQ,CAACkG,eAAe;EACnC,CAAC2Z,IAAI,GAAG1mC,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,GAAG4C,SAAS,CAAC,KAAK,CAAC,GAAGA,SAAS,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC;EAE5F,IAAI,CAACyjC,mBAAmB,CAACrR,IAAI,CAAC,EAAE;IAC9B,OAAO,KAAK;EACd;EAEA,IAAIyR,SAAS,GAAG3lC,MAAM,CAACwlC,gBAAgB,CAACE,IAAI,CAAC;EAC7C,IAAIE,YAAY,GAAG;IACjBR,SAAS,EAAEO,SAAS,CAACP,SAAS;IAC9BC,SAAS,EAAEM,SAAS,CAACN;EACvB,CAAC;EAED,IAAIC,MAAM,CAACM,YAAY,EAAEV,WAAW,CAAC,EAAE;IACrC,OAAO,KAAK;EACd;EAEAlmC,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,GAAGiB,OAAO,CAAC,ykBAAykB,CAAC,GAAG,KAAK,CAAC;EACnoB,OAAO,KAAK;AACd,CAAC;AAED,IAAI0lC,oBAAoB,GAAG,SAASA,oBAAoB,CAACllC,EAAE,EAAE;EAC3D,IAAIA,EAAE,IAAI,IAAI,EAAE;IACd,OAAO,IAAI;EACb;EAEA,IAAIA,EAAE,KAAKklB,QAAQ,CAACqO,IAAI,EAAE;IACxB,OAAOuR,gBAAgB,EAAE,GAAG9kC,EAAE,GAAG,IAAI;EACvC;EAEA,IAAIA,EAAE,KAAKklB,QAAQ,CAACkG,eAAe,EAAE;IACnC,OAAO,IAAI;EACb;EAEA,IAAI,CAACwZ,mBAAmB,CAAC5kC,EAAE,CAAC,EAAE;IAC5B,OAAOklC,oBAAoB,CAACllC,EAAE,CAACqgC,aAAa,CAAC;EAC/C;EAEA,OAAOrgC,EAAE;AACX,CAAC;AAED,IAAImlC,8BAA8B,GAAI,SAAlCA,8BAA8B,CAAc78B,UAAU,EAAE;EAC1D,IAAI,CAACA,UAAU,EAAE;IACf;EACF;EAEA,IAAI88B,mBAAmB,GAAGF,oBAAoB,CAAC58B,UAAU,CAAC+3B,aAAa,CAAC;EAExE,IAAI,CAAC+E,mBAAmB,EAAE;IACxB;EACF;EAEA/mC,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,GAAGiB,OAAO,CAAC,2TAA2T,CAAC,GAAG,KAAK,CAAC;AACvX,CAAE;AAEF,IAAI6lC,WAAW,GAAI,SAAfA,WAAW,CAAcrlC,EAAE,EAAE;EAC/B,OAAO;IACL6E,CAAC,EAAE7E,EAAE,CAACslC,UAAU;IAChBxgC,CAAC,EAAE9E,EAAE,CAACulC;EACR,CAAC;AACH,CAAE;AAEF,IAAIC,UAAU,GAAG,SAASA,UAAU,CAACxlC,EAAE,EAAE;EACvC,IAAI,CAACA,EAAE,EAAE;IACP,OAAO,KAAK;EACd;EAEA,IAAI8b,KAAK,GAAGzc,MAAM,CAACwlC,gBAAgB,CAAC7kC,EAAE,CAAC;EAEvC,IAAI8b,KAAK,CAAC1Y,QAAQ,KAAK,OAAO,EAAE;IAC9B,OAAO,IAAI;EACb;EAEA,OAAOoiC,UAAU,CAACxlC,EAAE,CAACqgC,aAAa,CAAC;AACrC,CAAC;AAED,IAAIoF,MAAM,GAAI,SAAVA,MAAM,CAAcliC,KAAK,EAAE;EAC7B,IAAImiC,iBAAiB,GAAGR,oBAAoB,CAAC3hC,KAAK,CAAC;EACnD,IAAImb,aAAa,GAAG8mB,UAAU,CAACjiC,KAAK,CAAC;EACrC,OAAO;IACLmiC,iBAAiB,EAAEA,iBAAiB;IACpChnB,aAAa,EAAEA;EACjB,CAAC;AACH,CAAE;AAEF,IAAIinB,qBAAqB,GAAI,SAAzBA,qBAAqB,CAAclgC,IAAI,EAAE;EAC3C,IAAI+D,UAAU,GAAG/D,IAAI,CAAC+D,UAAU;IAC5BqK,SAAS,GAAGpO,IAAI,CAACoO,SAAS;IAC1B/I,gBAAgB,GAAGrF,IAAI,CAACqF,gBAAgB;IACxC4T,aAAa,GAAGjZ,IAAI,CAACiZ,aAAa;IAClC1R,SAAS,GAAGvH,IAAI,CAACuH,SAAS;IAC1BmG,MAAM,GAAG1N,IAAI,CAAC0N,MAAM;IACpBtL,IAAI,GAAGpC,IAAI,CAACoC,IAAI;IAChB/B,OAAO,GAAGL,IAAI,CAACK,OAAO;EAE1B,IAAIK,KAAK,GAAG,YAAY;IACtB,IAAI,CAACL,OAAO,EAAE;MACZ,OAAO,IAAI;IACb;IAEA,IAAI8/B,UAAU,GAAG9/B,OAAO,CAAC8/B,UAAU;MAC/BC,WAAW,GAAG//B,OAAO,CAACqN,MAAM;IAChC,IAAIkD,SAAS,GAAGyU,YAAY,CAAC;MAC3BC,YAAY,EAAE6a,UAAU,CAAC7a,YAAY;MACrCC,WAAW,EAAE4a,UAAU,CAAC5a,WAAW;MACnCrkB,MAAM,EAAEk/B,WAAW,CAACC,UAAU,CAACn/B,MAAM;MACrCD,KAAK,EAAEm/B,WAAW,CAACC,UAAU,CAACp/B;IAChC,CAAC,CAAC;IACF,OAAO;MACLiB,aAAa,EAAE7B,OAAO,CAAC+B,IAAI,CAACE,SAAS;MACrC89B,WAAW,EAAEA,WAAW;MACxBD,UAAU,EAAEA,UAAU;MACtBl+B,iBAAiB,EAAE5B,OAAO,CAAC4B,iBAAiB;MAC5CV,MAAM,EAAE;QACNwB,OAAO,EAAE1C,OAAO,CAACkB,MAAM;QACvB0B,OAAO,EAAE5C,OAAO,CAACkB,MAAM;QACvBV,GAAG,EAAE+P,SAAS;QACdpP,IAAI,EAAE;UACJtI,KAAK,EAAEiG,MAAM;UACbsC,YAAY,EAAEtC;QAChB;MACF;IACF,CAAC;EACH,CAAC,EAAE;EAEH,IAAIwC,IAAI,GAAG4F,SAAS,KAAK,UAAU,GAAGD,QAAQ,GAAGO,UAAU;EAC3D,IAAIlH,OAAO,GAAGwB,UAAU,CAAC;IACvBC,IAAI,EAAEA,IAAI;IACVR,eAAe,EAAE,IAAI;IACrBD,IAAI,EAAEA,IAAI;IACVjB,KAAK,EAAEA;EACT,CAAC,CAAC;EACF,IAAIyP,SAAS,GAAG;IACdpM,UAAU,EAAEA,UAAU;IACtBsB,gBAAgB,EAAEA,gBAAgB;IAClC4T,aAAa,EAAEA,aAAa;IAC5BtX,IAAI,EAAEA,IAAI;IACVyM,SAAS,EAAEA,SAAS;IACpBV,MAAM,EAAEA,MAAM;IACdtL,IAAI,EAAEA,IAAI;IACV1B,KAAK,EAAEA,KAAK;IACZC,OAAO,EAAEA;EACX,CAAC;EACD,OAAOwP,SAAS;AAClB,CAAE;AAEF,IAAImwB,SAAS,GAAG,SAASA,SAAS,CAACC,SAAS,EAAEN,iBAAiB,EAAE;EAC/D,IAAI1T,IAAI,GAAGv0B,MAAM,CAACuoC,SAAS,CAAC;EAE5B,IAAI,CAACN,iBAAiB,EAAE;IACtB,OAAO1T,IAAI;EACb;EAEA,IAAIgU,SAAS,KAAKN,iBAAiB,EAAE;IACnC,OAAO1T,IAAI;EACb;EAEA,IAAI3rB,GAAG,GAAG2rB,IAAI,CAAC8T,UAAU,CAACz/B,GAAG,GAAGq/B,iBAAiB,CAACH,SAAS;EAC3D,IAAI9+B,IAAI,GAAGurB,IAAI,CAAC8T,UAAU,CAACr/B,IAAI,GAAGi/B,iBAAiB,CAACJ,UAAU;EAC9D,IAAI9+B,MAAM,GAAGH,GAAG,GAAGq/B,iBAAiB,CAAC3a,YAAY;EACjD,IAAIxkB,KAAK,GAAGE,IAAI,GAAGi/B,iBAAiB,CAAC1a,WAAW;EAChD,IAAI8a,UAAU,GAAG;IACfz/B,GAAG,EAAEA,GAAG;IACRE,KAAK,EAAEA,KAAK;IACZC,MAAM,EAAEA,MAAM;IACdC,IAAI,EAAEA;EACR,CAAC;EACD,IAAImK,SAAS,GAAGtT,MAAM,CAACwoC,UAAU,EAAE9T,IAAI,CAACoF,MAAM,CAAC;EAC/C,IAAIjkB,MAAM,GAAGzV,SAAS,CAAC;IACrBkT,SAAS,EAAEA,SAAS;IACpBI,MAAM,EAAEghB,IAAI,CAAChhB,MAAM;IACnBomB,MAAM,EAAEpF,IAAI,CAACoF,MAAM;IACnBC,OAAO,EAAErF,IAAI,CAACqF;EAChB,CAAC,CAAC;EACF,OAAOlkB,MAAM;AACf,CAAC;AAED,IAAIwX,YAAY,GAAI,SAAhBA,YAAY,CAAcllB,IAAI,EAAE;EAClC,IAAI+uB,GAAG,GAAG/uB,IAAI,CAAC+uB,GAAG;IACdhrB,UAAU,GAAG/D,IAAI,CAAC+D,UAAU;IAC5BlL,GAAG,GAAGmH,IAAI,CAACnH,GAAG;IACdotB,YAAY,GAAGjmB,IAAI,CAACimB,YAAY;IAChC1e,SAAS,GAAGvH,IAAI,CAACuH,SAAS;IAC1Bi5B,cAAc,GAAGxgC,IAAI,CAACwgC,cAAc;IACpCn7B,gBAAgB,GAAGrF,IAAI,CAACqF,gBAAgB;IACxCpD,iBAAiB,GAAGjC,IAAI,CAACiC,iBAAiB;EAC9C,IAAIg+B,iBAAiB,GAAGpnC,GAAG,CAAConC,iBAAiB;EAC7C,IAAIvyB,MAAM,GAAG4yB,SAAS,CAACvR,GAAG,EAAEkR,iBAAiB,CAAC;EAC9C,IAAI79B,IAAI,GAAGrK,UAAU,CAAC2V,MAAM,EAAEuY,YAAY,CAAC;EAE3C,IAAI5lB,OAAO,GAAG,YAAY;IACxB,IAAI,CAAC4/B,iBAAiB,EAAE;MACtB,OAAO,IAAI;IACb;IAEA,IAAIG,WAAW,GAAGpoC,MAAM,CAACioC,iBAAiB,CAAC;IAC3C,IAAIE,UAAU,GAAG;MACf7a,YAAY,EAAE2a,iBAAiB,CAAC3a,YAAY;MAC5CC,WAAW,EAAE0a,iBAAiB,CAAC1a;IACjC,CAAC;IACD,OAAO;MACL7X,MAAM,EAAE0yB,WAAW;MACnBh+B,IAAI,EAAErK,UAAU,CAACqoC,WAAW,EAAEna,YAAY,CAAC;MAC3C1kB,MAAM,EAAEq+B,WAAW,CAACK,iBAAiB,CAAC;MACtCE,UAAU,EAAEA,UAAU;MACtBl+B,iBAAiB,EAAEA;IACrB,CAAC;EACH,CAAC,EAAE;EAEH,IAAIkO,SAAS,GAAG+vB,qBAAqB,CAAC;IACpCn8B,UAAU,EAAEA,UAAU;IACtBqK,SAAS,EAAE,CAACoyB,cAAc;IAC1Bn7B,gBAAgB,EAAEA,gBAAgB;IAClC4T,aAAa,EAAEpgB,GAAG,CAACogB,aAAa;IAChC1R,SAAS,EAAEA,SAAS;IACpBmG,MAAM,EAAEA,MAAM;IACdtL,IAAI,EAAEA,IAAI;IACV/B,OAAO,EAAEA;EACX,CAAC,CAAC;EACF,OAAO8P,SAAS;AAClB,CAAE;AAEF,IAAIswB,SAAS,GAAG;EACdlhB,OAAO,EAAE;AACX,CAAC;AACD,IAAImhB,OAAO,GAAG;EACZnhB,OAAO,EAAE;AACX,CAAC;AACD,IAAIohB,kBAAkB,GAAI,SAAtBA,kBAAkB,CAAc9lC,OAAO,EAAE;EAC3C,OAAOA,OAAO,CAAC0hB,wBAAwB,GAAGkkB,SAAS,GAAGC,OAAO;AAC/D,CAAE;AAEF,SAASE,kBAAkB,CAACC,OAAO,EAAE;EACnC,IAAI7hC,MAAM,GAAGhI,UAAU,CAAC6pC,OAAO,CAAC;EAChC,CAAC7hC,MAAM,GAAGpG,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,GAAG4C,SAAS,CAAC,KAAK,EAAE,iCAAiC,CAAC,GAAGA,SAAS,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC;EACjI,OAAOsD,MAAM;AACf;AAEA,IAAI8hC,KAAK,GAAG,CAAC;AACb,SAASC,WAAW,CAACzlC,MAAM,EAAE;EAC3B,IAAI0lC,QAAQ,GAAGlqC,MAAM,CAACgqC,KAAK,EAAE,CAAC;EAC9B,OAAOxlC,MAAM,GAAG,IAAI,GAAG0lC,QAAQ,CAAC/9B,OAAO;AACzC;AAEA,IAAIg+B,4BAA4B,GAAG,SAASA,4BAA4B,CAACtkB,QAAQ,EAAE;EACjF,OAAOA,QAAQ,IAAIA,QAAQ,CAAC9jB,GAAG,CAAConC,iBAAiB,IAAI,IAAI;AAC3D,CAAC;AAED,SAASiB,qBAAqB,CAAChlC,IAAI,EAAE;EACnC,IAAIilC,gBAAgB,GAAGrqC,MAAM,CAAC,IAAI,CAAC;EACnC,IAAIwnC,UAAU,GAAGsC,kBAAkB,CAACtO,UAAU,CAAC;EAC/C,IAAItB,QAAQ,GAAG+P,WAAW,CAAC,WAAW,CAAC;EACvC,IAAIlc,QAAQ,GAAGyZ,UAAU,CAACzZ,QAAQ;IAC9B3I,OAAO,GAAGoiB,UAAU,CAACpiB,OAAO;EAChC,IAAI6d,WAAW,GAAG5F,WAAW,CAACj4B,IAAI,CAAC;EACnC,IAAI6H,UAAU,GAAG9M,OAAO,CAAC,YAAY;IACnC,OAAO;MACLsH,EAAE,EAAErC,IAAI,CAACiC,WAAW;MACpBzE,IAAI,EAAEwC,IAAI,CAACxC,IAAI;MACfoW,IAAI,EAAE5T,IAAI,CAAC4T;IACb,CAAC;EACH,CAAC,EAAE,CAAC5T,IAAI,CAACiC,WAAW,EAAEjC,IAAI,CAAC4T,IAAI,EAAE5T,IAAI,CAACxC,IAAI,CAAC,CAAC;EAC5C,IAAI0nC,sBAAsB,GAAGtqC,MAAM,CAACiN,UAAU,CAAC;EAC/C,IAAIs9B,oBAAoB,GAAGpqC,OAAO,CAAC,YAAY;IAC7C,OAAOkB,UAAU,CAAC,UAAUiH,CAAC,EAAEC,CAAC,EAAE;MAChC,CAAC8hC,gBAAgB,CAACl+B,OAAO,GAAGrK,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,GAAG4C,SAAS,CAAC,KAAK,EAAE,sCAAsC,CAAC,GAAGA,SAAS,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC;MACxJ,IAAI6F,MAAM,GAAG;QACXnC,CAAC,EAAEA,CAAC;QACJC,CAAC,EAAEA;MACL,CAAC;MACD6c,OAAO,CAACvB,qBAAqB,CAAC5W,UAAU,CAACxF,EAAE,EAAEgD,MAAM,CAAC;IACtD,CAAC,CAAC;EACJ,CAAC,EAAE,CAACwC,UAAU,CAACxF,EAAE,EAAE2d,OAAO,CAAC,CAAC;EAC5B,IAAIolB,gBAAgB,GAAGpqC,WAAW,CAAC,YAAY;IAC7C,IAAIylB,QAAQ,GAAGwkB,gBAAgB,CAACl+B,OAAO;IAEvC,IAAI,CAAC0Z,QAAQ,IAAI,CAACA,QAAQ,CAAC9jB,GAAG,CAAConC,iBAAiB,EAAE;MAChD,OAAO9gC,MAAM;IACf;IAEA,OAAOygC,WAAW,CAACjjB,QAAQ,CAAC9jB,GAAG,CAAConC,iBAAiB,CAAC;EACpD,CAAC,EAAE,EAAE,CAAC;EACN,IAAIrgB,YAAY,GAAG1oB,WAAW,CAAC,YAAY;IACzC,IAAIqK,MAAM,GAAG+/B,gBAAgB,EAAE;IAC/BD,oBAAoB,CAAC9/B,MAAM,CAACnC,CAAC,EAAEmC,MAAM,CAAClC,CAAC,CAAC;EAC1C,CAAC,EAAE,CAACiiC,gBAAgB,EAAED,oBAAoB,CAAC,CAAC;EAC5C,IAAIE,oBAAoB,GAAGtqC,OAAO,CAAC,YAAY;IAC7C,OAAOqB,OAAO,CAACsnB,YAAY,CAAC;EAC9B,CAAC,EAAE,CAACA,YAAY,CAAC,CAAC;EAClB,IAAI4hB,eAAe,GAAGtqC,WAAW,CAAC,YAAY;IAC5C,IAAIylB,QAAQ,GAAGwkB,gBAAgB,CAACl+B,OAAO;IACvC,IAAI5C,OAAO,GAAG4gC,4BAA4B,CAACtkB,QAAQ,CAAC;IACpD,EAAEA,QAAQ,IAAItc,OAAO,CAAC,GAAGzH,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,GAAG4C,SAAS,CAAC,KAAK,EAAE,+CAA+C,CAAC,GAAGA,SAAS,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC;IAC9J,IAAIb,OAAO,GAAG8hB,QAAQ,CAACL,aAAa;IAEpC,IAAIzhB,OAAO,CAAC0hB,wBAAwB,EAAE;MACpCqD,YAAY,EAAE;MACd;IACF;IAEA2hB,oBAAoB,EAAE;EACxB,CAAC,EAAE,CAACA,oBAAoB,EAAE3hB,YAAY,CAAC,CAAC;EACxC,IAAIuG,0BAA0B,GAAGjvB,WAAW,CAAC,UAAU+uB,YAAY,EAAEprB,OAAO,EAAE;IAC5E,CAAC,CAACsmC,gBAAgB,CAACl+B,OAAO,GAAGrK,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,GAAG4C,SAAS,CAAC,KAAK,EAAE,sDAAsD,CAAC,GAAGA,SAAS,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC;IACzK,IAAIoI,QAAQ,GAAGi2B,WAAW,CAAC92B,OAAO;IAClC,IAAI8rB,GAAG,GAAGjrB,QAAQ,CAAC29B,eAAe,EAAE;IACpC,CAAC1S,GAAG,GAAGn2B,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,GAAG4C,SAAS,CAAC,KAAK,EAAE,wCAAwC,CAAC,GAAGA,SAAS,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC;IACrI,IAAI7C,GAAG,GAAGmnC,MAAM,CAACjR,GAAG,CAAC;IACrB,IAAIpS,QAAQ,GAAG;MACboS,GAAG,EAAEA,GAAG;MACRhrB,UAAU,EAAEA,UAAU;MACtBlL,GAAG,EAAEA,GAAG;MACRyjB,aAAa,EAAEzhB;IACjB,CAAC;IACDsmC,gBAAgB,CAACl+B,OAAO,GAAG0Z,QAAQ;IACnC,IAAIxM,SAAS,GAAG+U,YAAY,CAAC;MAC3B6J,GAAG,EAAEA,GAAG;MACRhrB,UAAU,EAAEA,UAAU;MACtBlL,GAAG,EAAEA,GAAG;MACRotB,YAAY,EAAEA,YAAY;MAC1B1e,SAAS,EAAEzD,QAAQ,CAACyD,SAAS;MAC7Bi5B,cAAc,EAAE18B,QAAQ,CAAC08B,cAAc;MACvCn7B,gBAAgB,EAAEvB,QAAQ,CAACuB,gBAAgB;MAC3CpD,iBAAiB,EAAE,CAAC6B,QAAQ,CAAC49B;IAC/B,CAAC,CAAC;IACF,IAAI7+B,UAAU,GAAGhK,GAAG,CAAConC,iBAAiB;IAEtC,IAAIp9B,UAAU,EAAE;MACdA,UAAU,CAACyrB,YAAY,CAAC7B,eAAe,CAACD,SAAS,EAAE8R,UAAU,CAAC9R,SAAS,CAAC;MACxE3pB,UAAU,CAAC/H,gBAAgB,CAAC,QAAQ,EAAE0mC,eAAe,EAAEb,kBAAkB,CAAChkB,QAAQ,CAACL,aAAa,CAAC,CAAC;MAElG,IAAI1jB,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,EAAE;QACzC4mC,8BAA8B,CAAC78B,UAAU,CAAC;MAC5C;IACF;IAEA,OAAOsN,SAAS;EAClB,CAAC,EAAE,CAACmuB,UAAU,CAAC9R,SAAS,EAAEzoB,UAAU,EAAEy9B,eAAe,EAAEzH,WAAW,CAAC,CAAC;EACpE,IAAI5U,sBAAsB,GAAGjuB,WAAW,CAAC,YAAY;IACnD,IAAIylB,QAAQ,GAAGwkB,gBAAgB,CAACl+B,OAAO;IACvC,IAAI5C,OAAO,GAAG4gC,4BAA4B,CAACtkB,QAAQ,CAAC;IACpD,EAAEA,QAAQ,IAAItc,OAAO,CAAC,GAAGzH,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,GAAG4C,SAAS,CAAC,KAAK,EAAE,iFAAiF,CAAC,GAAGA,SAAS,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC;IAChM,OAAOkkC,WAAW,CAACv/B,OAAO,CAAC;EAC7B,CAAC,EAAE,EAAE,CAAC;EACN,IAAIomB,WAAW,GAAGvvB,WAAW,CAAC,YAAY;IACxC,IAAIylB,QAAQ,GAAGwkB,gBAAgB,CAACl+B,OAAO;IACvC,CAAC0Z,QAAQ,GAAG/jB,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,GAAG4C,SAAS,CAAC,KAAK,EAAE,sCAAsC,CAAC,GAAGA,SAAS,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC;IACxI,IAAI2E,OAAO,GAAG4gC,4BAA4B,CAACtkB,QAAQ,CAAC;IACpDwkB,gBAAgB,CAACl+B,OAAO,GAAG,IAAI;IAE/B,IAAI,CAAC5C,OAAO,EAAE;MACZ;IACF;IAEAkhC,oBAAoB,CAACvhB,MAAM,EAAE;IAC7B3f,OAAO,CAACshC,eAAe,CAAClV,eAAe,CAACD,SAAS,CAAC;IAClDnsB,OAAO,CAACnF,mBAAmB,CAAC,QAAQ,EAAEsmC,eAAe,EAAEb,kBAAkB,CAAChkB,QAAQ,CAACL,aAAa,CAAC,CAAC;EACpG,CAAC,EAAE,CAACklB,eAAe,EAAED,oBAAoB,CAAC,CAAC;EAC3C,IAAIhgC,MAAM,GAAGrK,WAAW,CAAC,UAAUsvB,MAAM,EAAE;IACzC,IAAI7J,QAAQ,GAAGwkB,gBAAgB,CAACl+B,OAAO;IACvC,CAAC0Z,QAAQ,GAAG/jB,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,GAAG4C,SAAS,CAAC,KAAK,EAAE,qCAAqC,CAAC,GAAGA,SAAS,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC;IACvI,IAAI2E,OAAO,GAAG4gC,4BAA4B,CAACtkB,QAAQ,CAAC;IACpD,CAACtc,OAAO,GAAGzH,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,GAAG4C,SAAS,CAAC,KAAK,EAAE,sDAAsD,CAAC,GAAGA,SAAS,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC;IACvJ2E,OAAO,CAACy/B,SAAS,IAAItZ,MAAM,CAACnnB,CAAC;IAC7BgB,OAAO,CAACw/B,UAAU,IAAIrZ,MAAM,CAACpnB,CAAC;EAChC,CAAC,EAAE,EAAE,CAAC;EACN,IAAI7C,SAAS,GAAGtF,OAAO,CAAC,YAAY;IAClC,OAAO;MACLkvB,0BAA0B,EAAEA,0BAA0B;MACtDhB,sBAAsB,EAAEA,sBAAsB;MAC9CsB,WAAW,EAAEA,WAAW;MACxBllB,MAAM,EAAEA;IACV,CAAC;EACH,CAAC,EAAE,CAACklB,WAAW,EAAEN,0BAA0B,EAAEhB,sBAAsB,EAAE5jB,MAAM,CAAC,CAAC;EAC7E,IAAI2f,KAAK,GAAGjqB,OAAO,CAAC,YAAY;IAC9B,OAAO;MACL+5B,QAAQ,EAAEA,QAAQ;MAClBjtB,UAAU,EAAEA,UAAU;MACtBxH,SAAS,EAAEA;IACb,CAAC;EACH,CAAC,EAAE,CAACA,SAAS,EAAEwH,UAAU,EAAEitB,QAAQ,CAAC,CAAC;EACrCjD,yBAAyB,CAAC,YAAY;IACpCqT,sBAAsB,CAACn+B,OAAO,GAAGie,KAAK,CAACnd,UAAU;IACjD8gB,QAAQ,CAACliB,SAAS,CAACqtB,QAAQ,CAAC9O,KAAK,CAAC;IAClC,OAAO,YAAY;MACjB,IAAIigB,gBAAgB,CAACl+B,OAAO,EAAE;QAC5BrK,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,GAAGiB,OAAO,CAAC,4EAA4E,CAAC,GAAG,KAAK,CAAC;QACtI0sB,WAAW,EAAE;MACf;MAEA5B,QAAQ,CAACliB,SAAS,CAACstB,UAAU,CAAC/O,KAAK,CAAC;IACtC,CAAC;EACH,CAAC,EAAE,CAAC3kB,SAAS,EAAEwH,UAAU,EAAE0iB,WAAW,EAAEvF,KAAK,EAAEhF,OAAO,EAAE2I,QAAQ,CAACliB,SAAS,CAAC,CAAC;EAC5EorB,yBAAyB,CAAC,YAAY;IACpC,IAAI,CAACoT,gBAAgB,CAACl+B,OAAO,EAAE;MAC7B;IACF;IAEAiZ,OAAO,CAACtB,wBAAwB,CAACwmB,sBAAsB,CAACn+B,OAAO,CAAC1E,EAAE,EAAE,CAACrC,IAAI,CAACskC,cAAc,CAAC;EAC3F,CAAC,EAAE,CAACtkC,IAAI,CAACskC,cAAc,EAAEtkB,OAAO,CAAC,CAAC;EAClC6R,yBAAyB,CAAC,YAAY;IACpC,IAAI,CAACoT,gBAAgB,CAACl+B,OAAO,EAAE;MAC7B;IACF;IAEAiZ,OAAO,CAACrB,+BAA+B,CAACumB,sBAAsB,CAACn+B,OAAO,CAAC1E,EAAE,EAAErC,IAAI,CAACmJ,gBAAgB,CAAC;EACnG,CAAC,EAAE,CAACnJ,IAAI,CAACmJ,gBAAgB,EAAE6W,OAAO,CAAC,CAAC;AACtC;AAEA,SAAS0lB,MAAM,GAAG,CAAC;AAEnB,IAAIC,KAAK,GAAG;EACV5gC,KAAK,EAAE,CAAC;EACRC,MAAM,EAAE,CAAC;EACTqK,MAAM,EAAEjK;AACV,CAAC;AAED,IAAIwgC,OAAO,GAAG,SAASA,OAAO,CAAC9hC,IAAI,EAAE;EACnC,IAAI+hC,sBAAsB,GAAG/hC,IAAI,CAAC+hC,sBAAsB;IACpDnrB,WAAW,GAAG5W,IAAI,CAAC4W,WAAW;IAC9BorB,OAAO,GAAGhiC,IAAI,CAACgiC,OAAO;EAE1B,IAAID,sBAAsB,EAAE;IAC1B,OAAOF,KAAK;EACd;EAEA,IAAIG,OAAO,KAAK,OAAO,EAAE;IACvB,OAAOH,KAAK;EACd;EAEA,OAAO;IACL3gC,MAAM,EAAE0V,WAAW,CAAClJ,MAAM,CAACvC,SAAS,CAACjK,MAAM;IAC3CD,KAAK,EAAE2V,WAAW,CAAClJ,MAAM,CAACvC,SAAS,CAAClK,KAAK;IACzCsK,MAAM,EAAEqL,WAAW,CAAClJ,MAAM,CAACnC;EAC7B,CAAC;AACH,CAAC;AAED,IAAI02B,QAAQ,GAAG,SAASA,QAAQ,CAACx4B,KAAK,EAAE;EACtC,IAAIs4B,sBAAsB,GAAGt4B,KAAK,CAACs4B,sBAAsB;IACrDnrB,WAAW,GAAGnN,KAAK,CAACmN,WAAW;IAC/BorB,OAAO,GAAGv4B,KAAK,CAACu4B,OAAO;EAC3B,IAAIv6B,IAAI,GAAGq6B,OAAO,CAAC;IACjBC,sBAAsB,EAAEA,sBAAsB;IAC9CnrB,WAAW,EAAEA,WAAW;IACxBorB,OAAO,EAAEA;EACX,CAAC,CAAC;EACF,OAAO;IACL3P,OAAO,EAAEzb,WAAW,CAACyb,OAAO;IAC5B6P,SAAS,EAAE,YAAY;IACvBjhC,KAAK,EAAEwG,IAAI,CAACxG,KAAK;IACjBC,MAAM,EAAEuG,IAAI,CAACvG,MAAM;IACnBihC,SAAS,EAAE16B,IAAI,CAAC8D,MAAM,CAAC3K,GAAG;IAC1BwhC,WAAW,EAAE36B,IAAI,CAAC8D,MAAM,CAACzK,KAAK;IAC9BuhC,YAAY,EAAE56B,IAAI,CAAC8D,MAAM,CAACxK,MAAM;IAChCuhC,UAAU,EAAE76B,IAAI,CAAC8D,MAAM,CAACvK,IAAI;IAC5BuhC,UAAU,EAAE,GAAG;IACfC,QAAQ,EAAE,GAAG;IACbC,aAAa,EAAE,MAAM;IACrB9U,UAAU,EAAEqU,OAAO,KAAK,MAAM,GAAGzkB,WAAW,CAAC3G,WAAW,GAAG;EAC7D,CAAC;AACH,CAAC;AAED,SAAS8rB,WAAW,CAACnlC,KAAK,EAAE;EAC1B,IAAIolC,mBAAmB,GAAG7rC,MAAM,CAAC,IAAI,CAAC;EACtC,IAAI8rC,wBAAwB,GAAG1rC,WAAW,CAAC,YAAY;IACrD,IAAI,CAACyrC,mBAAmB,CAAC1/B,OAAO,EAAE;MAChC;IACF;IAEA0d,YAAY,CAACgiB,mBAAmB,CAAC1/B,OAAO,CAAC;IACzC0/B,mBAAmB,CAAC1/B,OAAO,GAAG,IAAI;EACpC,CAAC,EAAE,EAAE,CAAC;EACN,IAAI++B,OAAO,GAAGzkC,KAAK,CAACykC,OAAO;IACvBa,eAAe,GAAGtlC,KAAK,CAACslC,eAAe;IACvCC,OAAO,GAAGvlC,KAAK,CAACulC,OAAO;IACvBtW,SAAS,GAAGjvB,KAAK,CAACivB,SAAS;EAE/B,IAAIuW,SAAS,GAAGhsC,QAAQ,CAACwG,KAAK,CAACykC,OAAO,KAAK,MAAM,CAAC;IAC9CD,sBAAsB,GAAGgB,SAAS,CAAC,CAAC,CAAC;IACrCC,yBAAyB,GAAGD,SAAS,CAAC,CAAC,CAAC;EAE5ClsC,SAAS,CAAC,YAAY;IACpB,IAAI,CAACkrC,sBAAsB,EAAE;MAC3B,OAAOH,MAAM;IACf;IAEA,IAAII,OAAO,KAAK,MAAM,EAAE;MACtBY,wBAAwB,EAAE;MAC1BI,yBAAyB,CAAC,KAAK,CAAC;MAChC,OAAOpB,MAAM;IACf;IAEA,IAAIe,mBAAmB,CAAC1/B,OAAO,EAAE;MAC/B,OAAO2+B,MAAM;IACf;IAEAe,mBAAmB,CAAC1/B,OAAO,GAAGyd,UAAU,CAAC,YAAY;MACnDiiB,mBAAmB,CAAC1/B,OAAO,GAAG,IAAI;MAClC+/B,yBAAyB,CAAC,KAAK,CAAC;IAClC,CAAC,CAAC;IACF,OAAOJ,wBAAwB;EACjC,CAAC,EAAE,CAACZ,OAAO,EAAED,sBAAsB,EAAEa,wBAAwB,CAAC,CAAC;EAC/D,IAAIK,eAAe,GAAG/rC,WAAW,CAAC,UAAUuF,KAAK,EAAE;IACjD,IAAIA,KAAK,CAACymC,YAAY,KAAK,QAAQ,EAAE;MACnC;IACF;IAEAL,eAAe,EAAE;IAEjB,IAAIb,OAAO,KAAK,OAAO,EAAE;MACvBc,OAAO,EAAE;IACX;EACF,CAAC,EAAE,CAACd,OAAO,EAAEc,OAAO,EAAED,eAAe,CAAC,CAAC;EACvC,IAAIxsB,KAAK,GAAG4rB,QAAQ,CAAC;IACnBF,sBAAsB,EAAEA,sBAAsB;IAC9CC,OAAO,EAAEzkC,KAAK,CAACykC,OAAO;IACtBprB,WAAW,EAAErZ,KAAK,CAACqZ;EACrB,CAAC,CAAC;EACF,OAAOjgB,KAAK,CAACq3B,aAAa,CAACzwB,KAAK,CAACqZ,WAAW,CAAC+jB,OAAO,EAAE;IACpDtkB,KAAK,EAAEA,KAAK;IACZ,iCAAiC,EAAEmW,SAAS;IAC5CqW,eAAe,EAAEI,eAAe;IAChClU,GAAG,EAAExxB,KAAK,CAAC4lC;EACb,CAAC,CAAC;AACJ;AAEA,IAAIC,aAAa,GAAGzsC,KAAK,CAAC0sC,IAAI,CAACX,WAAW,CAAC;AAE3C,IAAIY,gBAAgB,GAAG3sC,KAAK,CAAC66B,aAAa,CAAC,IAAI,CAAC;AAEhD,SAAS+R,oBAAoB,CAAChpC,EAAE,EAAE;EAChC,EAAEA,EAAE,IAAI60B,aAAa,CAAC70B,EAAE,CAAC,CAAC,GAAG3B,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,GAAG4C,SAAS,CAAC,KAAK,EAAE,iPAAiP,CAAC,GAAGA,SAAS,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC;AACtW;AAEA,SAAS8nC,SAAS,CAACtqC,KAAK,EAAE;EACxB,OAAO,OAAOA,KAAK,KAAK,SAAS;AACnC;AAEA,SAASuqC,SAAS,CAACvnC,IAAI,EAAEwnC,MAAM,EAAE;EAC/BA,MAAM,CAACtoC,OAAO,CAAC,UAAUuoC,KAAK,EAAE;IAC9B,OAAOA,KAAK,CAACznC,IAAI,CAAC;EACpB,CAAC,CAAC;AACJ;AAEA,IAAI9B,MAAM,GAAG,CAAC,SAASyvB,QAAQ,CAAC7pB,IAAI,EAAE;EACpC,IAAIzC,KAAK,GAAGyC,IAAI,CAACzC,KAAK;EACtB,CAACA,KAAK,CAACY,WAAW,GAAGvF,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,GAAG4C,SAAS,CAAC,KAAK,EAAE,yCAAyC,CAAC,GAAGA,SAAS,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC;EACpJ,EAAE,OAAO6B,KAAK,CAACY,WAAW,KAAK,QAAQ,CAAC,GAAGvF,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,GAAG4C,SAAS,CAAC,KAAK,EAAE,0DAA0D,GAAG,OAAO6B,KAAK,CAACY,WAAW,GAAG,GAAG,CAAC,GAAGzC,SAAS,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC;AAC9N,CAAC,EAAE,SAASkoC,QAAQ,CAACn6B,KAAK,EAAE;EAC1B,IAAIlM,KAAK,GAAGkM,KAAK,CAAClM,KAAK;EACvB,CAACimC,SAAS,CAACjmC,KAAK,CAACijC,cAAc,CAAC,GAAG5nC,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,GAAG4C,SAAS,CAAC,KAAK,EAAE,kCAAkC,CAAC,GAAGA,SAAS,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC;EAC3J,CAAC8nC,SAAS,CAACjmC,KAAK,CAAC8H,gBAAgB,CAAC,GAAGzM,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,GAAG4C,SAAS,CAAC,KAAK,EAAE,oCAAoC,CAAC,GAAGA,SAAS,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC;EAC/J,CAAC8nC,SAAS,CAACjmC,KAAK,CAACmkC,uBAAuB,CAAC,GAAG9oC,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,GAAG4C,SAAS,CAAC,KAAK,EAAE,2CAA2C,CAAC,GAAGA,SAAS,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC;AAC/K,CAAC,EAAE,SAASqzB,GAAG,CAAChjB,KAAK,EAAE;EACrB,IAAI01B,eAAe,GAAG11B,KAAK,CAAC01B,eAAe;EAC3C8B,oBAAoB,CAAC9B,eAAe,EAAE,CAAC;AACzC,CAAC,CAAC;AACF,IAAIoC,QAAQ,GAAG,CAAC,SAASjtB,WAAW,CAACmmB,KAAK,EAAE;EAC1C,IAAIx/B,KAAK,GAAGw/B,KAAK,CAACx/B,KAAK;IACnBumC,iBAAiB,GAAG/G,KAAK,CAAC+G,iBAAiB;EAE/C,IAAI,CAACvmC,KAAK,CAACqZ,WAAW,EAAE;IACtB;EACF;EAEA,IAAImY,GAAG,GAAG+U,iBAAiB,EAAE;EAE7B,IAAI/U,GAAG,EAAE;IACP;EACF;EAEAn2B,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,GAAGiB,OAAO,CAAC,gDAAgD,GAAGwD,KAAK,CAACY,WAAW,GAAG,sRAAsR,CAAC,GAAG,KAAK,CAAC;AACzZ,CAAC,CAAC;AACF,IAAI4lC,OAAO,GAAG,CAAC,SAASC,QAAQ,CAACC,KAAK,EAAE;EACtC,IAAI1mC,KAAK,GAAG0mC,KAAK,CAAC1mC,KAAK;EACvB,CAACA,KAAK,CAAC2mC,WAAW,GAAGtrC,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,GAAG4C,SAAS,CAAC,KAAK,EAAE,sEAAsE,CAAC,GAAGA,SAAS,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC;AACnL,CAAC,EAAE,SAASyoC,gBAAgB,CAACC,KAAK,EAAE;EAClC,IAAIN,iBAAiB,GAAGM,KAAK,CAACN,iBAAiB;EAC/C,CAAC,CAACA,iBAAiB,EAAE,GAAGlrC,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,GAAG4C,SAAS,CAAC,KAAK,EAAE,iDAAiD,CAAC,GAAGA,SAAS,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC;AACjK,CAAC,CAAC;AACF,SAAS2oC,aAAa,CAACnoC,IAAI,EAAE;EAC3B43B,kBAAkB,CAAC,YAAY;IAC7B2P,SAAS,CAACvnC,IAAI,EAAE9B,MAAM,CAAC;IAEvB,IAAI8B,IAAI,CAACqB,KAAK,CAACuS,IAAI,KAAK,UAAU,EAAE;MAClC2zB,SAAS,CAACvnC,IAAI,EAAE2nC,QAAQ,CAAC;IAC3B;IAEA,IAAI3nC,IAAI,CAACqB,KAAK,CAACuS,IAAI,KAAK,SAAS,EAAE;MACjC2zB,SAAS,CAACvnC,IAAI,EAAE6nC,OAAO,CAAC;IAC1B;EACF,CAAC,CAAC;AACJ;AAEA,IAAIO,YAAY,GAAG,UAAUC,oBAAoB,EAAE;EACjDptC,cAAc,CAACmtC,YAAY,EAAEC,oBAAoB,CAAC;EAElD,SAASD,YAAY,GAAG;IACtB,IAAIxoC,KAAK;IAET,KAAK,IAAIC,IAAI,GAAGC,SAAS,CAACC,MAAM,EAAEC,IAAI,GAAG,IAAIC,KAAK,CAACJ,IAAI,CAAC,EAAEK,IAAI,GAAG,CAAC,EAAEA,IAAI,GAAGL,IAAI,EAAEK,IAAI,EAAE,EAAE;MACvFF,IAAI,CAACE,IAAI,CAAC,GAAGJ,SAAS,CAACI,IAAI,CAAC;IAC9B;IAEAN,KAAK,GAAGyoC,oBAAoB,CAACloC,IAAI,CAACvC,KAAK,CAACyqC,oBAAoB,EAAE,CAAC,IAAI,CAAC,CAACjoC,MAAM,CAACJ,IAAI,CAAC,CAAC,IAAI,IAAI;IAC1FJ,KAAK,CAAC6V,KAAK,GAAG;MACZvJ,SAAS,EAAE6B,OAAO,CAACnO,KAAK,CAACyB,KAAK,CAACinC,EAAE,CAAC;MAClC3iB,IAAI,EAAE/lB,KAAK,CAACyB,KAAK,CAACinC,EAAE;MACpBxC,OAAO,EAAElmC,KAAK,CAACyB,KAAK,CAACsL,aAAa,IAAI/M,KAAK,CAACyB,KAAK,CAACinC,EAAE,GAAG,MAAM,GAAG;IAClE,CAAC;IAED1oC,KAAK,CAACgnC,OAAO,GAAG,YAAY;MAC1B,IAAIhnC,KAAK,CAAC6V,KAAK,CAACqwB,OAAO,KAAK,OAAO,EAAE;QACnC;MACF;MAEAlmC,KAAK,CAACuB,QAAQ,CAAC;QACb+K,SAAS,EAAE;MACb,CAAC,CAAC;IACJ,CAAC;IAED,OAAOtM,KAAK;EACd;EAEAwoC,YAAY,CAACG,wBAAwB,GAAG,SAASA,wBAAwB,CAAClnC,KAAK,EAAEoU,KAAK,EAAE;IACtF,IAAI,CAACpU,KAAK,CAACsL,aAAa,EAAE;MACxB,OAAO;QACLT,SAAS,EAAE6B,OAAO,CAAC1M,KAAK,CAACinC,EAAE,CAAC;QAC5B3iB,IAAI,EAAEtkB,KAAK,CAACinC,EAAE;QACdxC,OAAO,EAAE;MACX,CAAC;IACH;IAEA,IAAIzkC,KAAK,CAACinC,EAAE,EAAE;MACZ,OAAO;QACLp8B,SAAS,EAAE,IAAI;QACfyZ,IAAI,EAAEtkB,KAAK,CAACinC,EAAE;QACdxC,OAAO,EAAE;MACX,CAAC;IACH;IAEA,IAAIrwB,KAAK,CAACvJ,SAAS,EAAE;MACnB,OAAO;QACLA,SAAS,EAAE,IAAI;QACfyZ,IAAI,EAAElQ,KAAK,CAACkQ,IAAI;QAChBmgB,OAAO,EAAE;MACX,CAAC;IACH;IAEA,OAAO;MACL55B,SAAS,EAAE,KAAK;MAChB45B,OAAO,EAAE,OAAO;MAChBngB,IAAI,EAAE;IACR,CAAC;EACH,CAAC;EAED,IAAI5kB,MAAM,GAAGqnC,YAAY,CAAC9oC,SAAS;EAEnCyB,MAAM,CAACK,MAAM,GAAG,SAASA,MAAM,GAAG;IAChC,IAAI,CAAC,IAAI,CAACqU,KAAK,CAACvJ,SAAS,EAAE;MACzB,OAAO,IAAI;IACb;IAEA,IAAI4Z,QAAQ,GAAG;MACb8gB,OAAO,EAAE,IAAI,CAACA,OAAO;MACrBjhB,IAAI,EAAE,IAAI,CAAClQ,KAAK,CAACkQ,IAAI;MACrBmgB,OAAO,EAAE,IAAI,CAACrwB,KAAK,CAACqwB;IACtB,CAAC;IACD,OAAO,IAAI,CAACzkC,KAAK,CAACC,QAAQ,CAACwkB,QAAQ,CAAC;EACtC,CAAC;EAED,OAAOsiB,YAAY;AACrB,CAAC,CAAC3tC,KAAK,CAAC+tC,aAAa,CAAC;AAEtB,IAAIC,aAAa,GAAG;EAClBhoB,QAAQ,EAAE,IAAI;EACd8Q,aAAa,EAAE;AACjB,CAAC;AAED,IAAImX,qBAAqB,GAAG,SAASA,qBAAqB,CAACC,yBAAyB,EAAEjoB,QAAQ,EAAE;EAC9F,IAAIA,QAAQ,EAAE;IACZ,OAAOW,WAAW,CAAC/B,IAAI,CAACoB,QAAQ,CAACc,QAAQ,CAAC;EAC5C;EAEA,IAAImnB,yBAAyB,EAAE;IAC7B,OAAOtnB,WAAW,CAACE,IAAI;EACzB;EAEA,OAAOF,WAAW,CAACC,KAAK;AAC1B,CAAC;AAED,IAAIsnB,kBAAkB,GAAG,SAASA,kBAAkB,CAAChnB,WAAW,EAAEinB,eAAe,EAAE;EACjF,IAAI,CAACjnB,WAAW,EAAE;IAChB,OAAO,IAAI;EACb;EAEA,OAAOinB,eAAe,GAAGvmC,OAAO,CAACwe,OAAO,CAACxB,IAAI,GAAGhd,OAAO,CAACwe,OAAO,CAACC,SAAS;AAC3E,CAAC;AAED,IAAI+nB,wBAAwB,GAAG,SAASA,wBAAwB,CAACroB,QAAQ,EAAE;EACzE,IAAIA,QAAQ,CAAC/T,kBAAkB,IAAI,IAAI,EAAE;IACvC,OAAO+T,QAAQ,CAAC/T,kBAAkB;EACpC;EAEA,OAAO+T,QAAQ,CAAC7M,IAAI,KAAK,MAAM;AACjC,CAAC;AAED,SAASm1B,gBAAgB,CAACtoB,QAAQ,EAAE;EAClC,IAAIxM,SAAS,GAAGwM,QAAQ,CAACxM,SAAS;EAClC,IAAI7E,GAAG,GAAG6E,SAAS,CAACzC,MAAM;EAC1B,IAAI5V,MAAM,GAAG6kB,QAAQ,CAAC7kB,MAAM;IACxBuS,WAAW,GAAGsS,QAAQ,CAACtS,WAAW;IAClCuS,QAAQ,GAAGD,QAAQ,CAACC,QAAQ;EAChC,IAAIkB,WAAW,GAAG7T,OAAO,CAACI,WAAW,CAAC;EACtC,IAAIxB,aAAa,GAAGm8B,wBAAwB,CAACroB,QAAQ,CAAC;EACtD,IAAIooB,eAAe,GAAG96B,OAAO,CAAC2S,QAAQ,CAAC;EACvC,IAAIsoB,SAAS,GAAGH,eAAe,GAAGlnB,UAAU,CAACrC,IAAI,CAAC1jB,MAAM,EAAEgmB,WAAW,CAAC,GAAGD,UAAU,CAACD,MAAM,CAAC9lB,MAAM,CAAC;EAClG,IAAIue,KAAK,GAAG;IACV1Y,QAAQ,EAAE,OAAO;IACjBiD,GAAG,EAAE0K,GAAG,CAAChJ,SAAS,CAAC1B,GAAG;IACtBI,IAAI,EAAEsK,GAAG,CAAChJ,SAAS,CAACtB,IAAI;IACxBkhC,SAAS,EAAE,YAAY;IACvBjhC,KAAK,EAAEqK,GAAG,CAACH,SAAS,CAAClK,KAAK;IAC1BC,MAAM,EAAEoK,GAAG,CAACH,SAAS,CAACjK,MAAM;IAC5BysB,UAAU,EAAEiX,qBAAqB,CAAC/7B,aAAa,EAAE+T,QAAQ,CAAC;IAC1DsoB,SAAS,EAAEA,SAAS;IACpBloB,OAAO,EAAE8nB,kBAAkB,CAAChnB,WAAW,EAAEinB,eAAe,CAAC;IACzDI,MAAM,EAAEJ,eAAe,GAAGJ,aAAa,CAAClX,aAAa,GAAGkX,aAAa,CAAChoB,QAAQ;IAC9E8lB,aAAa,EAAE;EACjB,CAAC;EACD,OAAOpsB,KAAK;AACd;AAEA,SAAS+uB,iBAAiB,CAACC,SAAS,EAAE;EACpC,OAAO;IACLH,SAAS,EAAErnB,UAAU,CAACD,MAAM,CAACynB,SAAS,CAACvtC,MAAM,CAAC;IAC9C61B,UAAU,EAAE0X,SAAS,CAACC,yBAAyB,GAAG,IAAI,GAAG;EAC3D,CAAC;AACH;AAEA,SAASC,UAAU,CAACC,MAAM,EAAE;EAC1B,OAAOA,MAAM,CAAC9rC,IAAI,KAAK,UAAU,GAAGurC,gBAAgB,CAACO,MAAM,CAAC,GAAGJ,iBAAiB,CAACI,MAAM,CAAC;AAC1F;AAEA,SAASC,cAAc,CAAC1hC,UAAU,EAAExJ,EAAE,EAAE0rB,YAAY,EAAE;EACpD,IAAIA,YAAY,KAAK,KAAK,CAAC,EAAE;IAC3BA,YAAY,GAAG9mB,MAAM;EACvB;EAEA,IAAIumC,cAAc,GAAG9rC,MAAM,CAACwlC,gBAAgB,CAAC7kC,EAAE,CAAC;EAChD,IAAI4Q,SAAS,GAAG5Q,EAAE,CAACwgC,qBAAqB,EAAE;EAC1C,IAAIrtB,MAAM,GAAGxV,YAAY,CAACiT,SAAS,EAAEu6B,cAAc,CAAC;EACpD,IAAItjC,IAAI,GAAGrK,UAAU,CAAC2V,MAAM,EAAEuY,YAAY,CAAC;EAC3C,IAAIrP,WAAW,GAAG;IAChBlJ,MAAM,EAAEA,MAAM;IACditB,OAAO,EAAEpgC,EAAE,CAACogC,OAAO,CAACjH,WAAW,EAAE;IACjCrB,OAAO,EAAEqT,cAAc,CAACrT;EAC1B,CAAC;EACD,IAAIjnB,UAAU,GAAG;IACfhM,CAAC,EAAEsO,MAAM,CAACpL,SAAS,CAACrB,KAAK;IACzB5B,CAAC,EAAEqO,MAAM,CAACpL,SAAS,CAACpB;EACtB,CAAC;EACD,IAAIiP,SAAS,GAAG;IACdpM,UAAU,EAAEA,UAAU;IACtB6S,WAAW,EAAEA,WAAW;IACxBxL,UAAU,EAAEA,UAAU;IACtBsC,MAAM,EAAEA,MAAM;IACdtL,IAAI,EAAEA;EACR,CAAC;EACD,OAAO+N,SAAS;AAClB;AAEA,SAASw1B,qBAAqB,CAACzpC,IAAI,EAAE;EACnC,IAAI80B,QAAQ,GAAG+P,WAAW,CAAC,WAAW,CAAC;EACvC,IAAIh9B,UAAU,GAAG7H,IAAI,CAAC6H,UAAU;IAC5B8gB,QAAQ,GAAG3oB,IAAI,CAAC2oB,QAAQ;IACxB+gB,eAAe,GAAG1pC,IAAI,CAAC0pC,eAAe;IACtC5J,0BAA0B,GAAG9/B,IAAI,CAAC8/B,0BAA0B;IAC5DrF,uBAAuB,GAAGz6B,IAAI,CAACy6B,uBAAuB;IACtDvoB,SAAS,GAAGlS,IAAI,CAACkS,SAAS;EAC9B,IAAIvT,OAAO,GAAG5D,OAAO,CAAC,YAAY;IAChC,OAAO;MACL+kC,0BAA0B,EAAEA,0BAA0B;MACtDrF,uBAAuB,EAAEA,uBAAuB;MAChDvoB,SAAS,EAAEA;IACb,CAAC;EACH,CAAC,EAAE,CAAC4tB,0BAA0B,EAAE5tB,SAAS,EAAEuoB,uBAAuB,CAAC,CAAC;EACpE,IAAIzR,YAAY,GAAGhuB,WAAW,CAAC,UAAU+uB,YAAY,EAAE;IACrD,IAAI1rB,EAAE,GAAGqrC,eAAe,EAAE;IAC1B,CAACrrC,EAAE,GAAG3B,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,GAAG4C,SAAS,CAAC,KAAK,EAAE,yCAAyC,CAAC,GAAGA,SAAS,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC;IACrI,OAAO+pC,cAAc,CAAC1hC,UAAU,EAAExJ,EAAE,EAAE0rB,YAAY,CAAC;EACrD,CAAC,EAAE,CAACliB,UAAU,EAAE6hC,eAAe,CAAC,CAAC;EACjC,IAAI1kB,KAAK,GAAGjqB,OAAO,CAAC,YAAY;IAC9B,OAAO;MACL+5B,QAAQ,EAAEA,QAAQ;MAClBjtB,UAAU,EAAEA,UAAU;MACtBlJ,OAAO,EAAEA,OAAO;MAChBqqB,YAAY,EAAEA;IAChB,CAAC;EACH,CAAC,EAAE,CAACnhB,UAAU,EAAEmhB,YAAY,EAAErqB,OAAO,EAAEm2B,QAAQ,CAAC,CAAC;EACjD,IAAI6U,YAAY,GAAG/uC,MAAM,CAACoqB,KAAK,CAAC;EAChC,IAAI4kB,iBAAiB,GAAGhvC,MAAM,CAAC,IAAI,CAAC;EACpCi3B,yBAAyB,CAAC,YAAY;IACpClJ,QAAQ,CAACvgB,SAAS,CAAC0rB,QAAQ,CAAC6V,YAAY,CAAC5iC,OAAO,CAAC;IACjD,OAAO,YAAY;MACjB,OAAO4hB,QAAQ,CAACvgB,SAAS,CAAC2rB,UAAU,CAAC4V,YAAY,CAAC5iC,OAAO,CAAC;IAC5D,CAAC;EACH,CAAC,EAAE,CAAC4hB,QAAQ,CAACvgB,SAAS,CAAC,CAAC;EACxBypB,yBAAyB,CAAC,YAAY;IACpC,IAAI+X,iBAAiB,CAAC7iC,OAAO,EAAE;MAC7B6iC,iBAAiB,CAAC7iC,OAAO,GAAG,KAAK;MACjC;IACF;IAEA,IAAI0C,IAAI,GAAGkgC,YAAY,CAAC5iC,OAAO;IAC/B4iC,YAAY,CAAC5iC,OAAO,GAAGie,KAAK;IAC5B2D,QAAQ,CAACvgB,SAAS,CAAC1F,MAAM,CAACsiB,KAAK,EAAEvb,IAAI,CAAC;EACxC,CAAC,EAAE,CAACub,KAAK,EAAE2D,QAAQ,CAACvgB,SAAS,CAAC,CAAC;AACjC;AAEA,SAASyhC,eAAe,CAACxoC,KAAK,EAAEivB,SAAS,EAAEwZ,MAAM,EAAE;EACjDlS,kBAAkB,CAAC,YAAY;IAC7B,SAASx4B,MAAM,CAACiD,EAAE,EAAE;MAClB,OAAO,gBAAgB,GAAGA,EAAE,GAAG,KAAK;IACtC;IAEA,IAAIA,EAAE,GAAGhB,KAAK,CAACmB,WAAW;IAC1B,CAACH,EAAE,GAAG3F,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,GAAG4C,SAAS,CAAC,KAAK,EAAE,kCAAkC,CAAC,GAAGA,SAAS,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC;IAC9H,EAAE,OAAO6C,EAAE,KAAK,QAAQ,CAAC,GAAG3F,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,GAAG4C,SAAS,CAAC,KAAK,EAAE,qEAAqE,GAAG,OAAO6C,EAAE,GAAG,YAAY,GAAGA,EAAE,GAAG,GAAG,CAAC,GAAG7C,SAAS,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC;IAC7N,CAAChD,iBAAiB,CAAC6E,KAAK,CAACK,KAAK,CAAC,GAAGhF,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,GAAG4C,SAAS,CAAC,KAAK,EAAEJ,MAAM,CAACiD,EAAE,CAAC,GAAG,iCAAiC,CAAC,GAAG7C,SAAS,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC;IAEtK,IAAI6B,KAAK,CAACioC,MAAM,CAAC9rC,IAAI,KAAK,UAAU,EAAE;MACpC;IACF;IAEA6pC,oBAAoB,CAACyC,MAAM,EAAE,CAAC;IAE9B,IAAIzoC,KAAK,CAAC6Q,SAAS,EAAE;MACnB,CAACkhB,cAAc,CAAC9C,SAAS,EAAEjuB,EAAE,CAAC,GAAG3F,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,GAAG4C,SAAS,CAAC,KAAK,EAAEJ,MAAM,CAACiD,EAAE,CAAC,GAAG,6BAA6B,CAAC,GAAG7C,SAAS,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC;IACnK;EACF,CAAC,CAAC;AACJ;AACA,SAASuqC,sBAAsB,CAACC,OAAO,EAAE;EACvCtS,MAAM,CAAC,YAAY;IACjB,IAAIuS,UAAU,GAAGrvC,MAAM,CAACovC,OAAO,CAAC;IAChCpS,kBAAkB,CAAC,YAAY;MAC7B,EAAEoS,OAAO,KAAKC,UAAU,CAACljC,OAAO,CAAC,GAAGrK,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,GAAG4C,SAAS,CAAC,KAAK,EAAE,4DAA4D,CAAC,GAAGA,SAAS,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC;IACxL,CAAC,EAAE,CAACwqC,OAAO,CAAC,CAAC;EACf,CAAC,CAAC;AACJ;AAEA,SAASE,eAAe,CAAC3pC,KAAK,EAAE;EAC9BA,KAAK,CAACK,cAAc,EAAE;AACxB;AAEA,SAASupC,SAAS,CAAC9oC,KAAK,EAAE;EACxB,IAAIwxB,GAAG,GAAGj4B,MAAM,CAAC,IAAI,CAAC;EACtB,IAAIwvC,MAAM,GAAGpvC,WAAW,CAAC,UAAUqD,EAAE,EAAE;IACrCw0B,GAAG,CAAC9rB,OAAO,GAAG1I,EAAE;EAClB,CAAC,EAAE,EAAE,CAAC;EACN,IAAIyrC,MAAM,GAAG9uC,WAAW,CAAC,YAAY;IACnC,OAAO63B,GAAG,CAAC9rB,OAAO;EACpB,CAAC,EAAE,EAAE,CAAC;EAEN,IAAIsjC,mBAAmB,GAAG3F,kBAAkB,CAACtO,UAAU,CAAC;IACpD9F,SAAS,GAAG+Z,mBAAmB,CAAC/Z,SAAS;IACzCuR,iBAAiB,GAAGwI,mBAAmB,CAACxI,iBAAiB;IACzDlZ,QAAQ,GAAG0hB,mBAAmB,CAAC1hB,QAAQ;EAE3C,IAAI2hB,oBAAoB,GAAG5F,kBAAkB,CAAC0C,gBAAgB,CAAC;IAC3D5pC,IAAI,GAAG8sC,oBAAoB,CAAC9sC,IAAI;IAChCyE,WAAW,GAAGqoC,oBAAoB,CAACroC,WAAW;EAElD,IAAI4F,UAAU,GAAG9M,OAAO,CAAC,YAAY;IACnC,OAAO;MACLsH,EAAE,EAAEhB,KAAK,CAACmB,WAAW;MACrBd,KAAK,EAAEL,KAAK,CAACK,KAAK;MAClBlE,IAAI,EAAEA,IAAI;MACVyE,WAAW,EAAEA;IACf,CAAC;EACH,CAAC,EAAE,CAACZ,KAAK,CAACmB,WAAW,EAAEnB,KAAK,CAACK,KAAK,EAAElE,IAAI,EAAEyE,WAAW,CAAC,CAAC;EACvD,IAAIX,QAAQ,GAAGD,KAAK,CAACC,QAAQ;IACzBkB,WAAW,GAAGnB,KAAK,CAACmB,WAAW;IAC/B0P,SAAS,GAAG7Q,KAAK,CAAC6Q,SAAS;IAC3BuoB,uBAAuB,GAAGp5B,KAAK,CAACo5B,uBAAuB;IACvDqF,0BAA0B,GAAGz+B,KAAK,CAACy+B,0BAA0B;IAC7DkK,OAAO,GAAG3oC,KAAK,CAAC2oC,OAAO;IACvBV,MAAM,GAAGjoC,KAAK,CAACioC,MAAM;IACrBiB,2BAA2B,GAAGlpC,KAAK,CAACke,qBAAqB;EAC7DsqB,eAAe,CAACxoC,KAAK,EAAEivB,SAAS,EAAEwZ,MAAM,CAAC;EACzCC,sBAAsB,CAACC,OAAO,CAAC;EAE/B,IAAI,CAACA,OAAO,EAAE;IACZ,IAAIQ,YAAY,GAAGzvC,OAAO,CAAC,YAAY;MACrC,OAAO;QACL8M,UAAU,EAAEA,UAAU;QACtB8gB,QAAQ,EAAEA,QAAQ;QAClB+gB,eAAe,EAAEI,MAAM;QACvBhK,0BAA0B,EAAEA,0BAA0B;QACtDrF,uBAAuB,EAAEA,uBAAuB;QAChDvoB,SAAS,EAAEA;MACb,CAAC;IACH,CAAC,EAAE,CAACrK,UAAU,EAAE8gB,QAAQ,EAAEmhB,MAAM,EAAEhK,0BAA0B,EAAErF,uBAAuB,EAAEvoB,SAAS,CAAC,CAAC;IAClGu3B,qBAAqB,CAACe,YAAY,CAAC;EACrC;EAEA,IAAIC,eAAe,GAAG1vC,OAAO,CAAC,YAAY;IACxC,OAAOmX,SAAS,GAAG;MACjBw4B,QAAQ,EAAE,CAAC;MACX,mCAAmC,EAAEloC,WAAW;MAChD,iCAAiC,EAAE8tB,SAAS;MAC5C,iBAAiB,EAAEuR,iBAAiB;MACpCz5B,SAAS,EAAE,KAAK;MAChBzG,WAAW,EAAEuoC;IACf,CAAC,GAAG,IAAI;EACV,CAAC,EAAE,CAAC5Z,SAAS,EAAE9tB,WAAW,EAAE0P,SAAS,EAAE2vB,iBAAiB,CAAC,CAAC;EAC1D,IAAI8I,SAAS,GAAG3vC,WAAW,CAAC,UAAUuF,KAAK,EAAE;IAC3C,IAAI+oC,MAAM,CAAC9rC,IAAI,KAAK,UAAU,EAAE;MAC9B;IACF;IAEA,IAAI,CAAC8rC,MAAM,CAAC5oB,QAAQ,EAAE;MACpB;IACF;IAEA,IAAIngB,KAAK,CAACymC,YAAY,KAAK,WAAW,EAAE;MACtC;IACF;IAEAuD,2BAA2B,EAAE;EAC/B,CAAC,EAAE,CAACA,2BAA2B,EAAEjB,MAAM,CAAC,CAAC;EACzC,IAAIxjB,QAAQ,GAAG/qB,OAAO,CAAC,YAAY;IACjC,IAAIof,KAAK,GAAGkvB,UAAU,CAACC,MAAM,CAAC;IAC9B,IAAI3C,eAAe,GAAG2C,MAAM,CAAC9rC,IAAI,KAAK,UAAU,IAAI8rC,MAAM,CAAC5oB,QAAQ,GAAGiqB,SAAS,GAAG,IAAI;IACtF,IAAI7nC,MAAM,GAAG;MACXmkC,QAAQ,EAAEmD,MAAM;MAChBQ,cAAc,EAAE;QACd,+BAA+B,EAAEta,SAAS;QAC1C,uBAAuB,EAAE9tB,WAAW;QACpC2X,KAAK,EAAEA,KAAK;QACZwsB,eAAe,EAAEA;MACnB,CAAC;MACD8D,eAAe,EAAEA;IACnB,CAAC;IACD,OAAO3nC,MAAM;EACf,CAAC,EAAE,CAACwtB,SAAS,EAAEma,eAAe,EAAEjoC,WAAW,EAAE8mC,MAAM,EAAEqB,SAAS,EAAEP,MAAM,CAAC,CAAC;EACxE,IAAIS,MAAM,GAAG9vC,OAAO,CAAC,YAAY;IAC/B,OAAO;MACLyH,WAAW,EAAEqF,UAAU,CAACxF,EAAE;MAC1B7E,IAAI,EAAEqK,UAAU,CAACrK,IAAI;MACrBqE,MAAM,EAAE;QACNH,KAAK,EAAEmG,UAAU,CAACnG,KAAK;QACvBO,WAAW,EAAE4F,UAAU,CAAC5F;MAC1B;IACF,CAAC;EACH,CAAC,EAAE,CAAC4F,UAAU,CAAC5F,WAAW,EAAE4F,UAAU,CAACxF,EAAE,EAAEwF,UAAU,CAACnG,KAAK,EAAEmG,UAAU,CAACrK,IAAI,CAAC,CAAC;EAC9E,OAAO8D,QAAQ,CAACwkB,QAAQ,EAAEwjB,MAAM,CAACwB,QAAQ,EAAED,MAAM,CAAC;AACpD;AAEA,IAAIE,aAAa,GAAI,SAAjBA,aAAa,CAAcziC,CAAC,EAAEC,CAAC,EAAE;EACnC,OAAOD,CAAC,KAAKC,CAAC;AAChB,CAAE;AAEF,IAAIyiC,2BAA2B,GAAI,SAA/BA,2BAA2B,CAAcloC,MAAM,EAAE;EACnD,IAAIR,OAAO,GAAGQ,MAAM,CAACR,OAAO;IACxBP,WAAW,GAAGe,MAAM,CAACf,WAAW;EAEpC,IAAIA,WAAW,EAAE;IACf,OAAOA,WAAW,CAACE,WAAW;EAChC;EAEA,IAAIK,OAAO,EAAE;IACX,OAAOA,OAAO,CAACL,WAAW;EAC5B;EAEA,OAAO,IAAI;AACb,CAAE;AAEF,IAAIgpC,wBAAwB,GAAG,SAASA,wBAAwB,CAACnoC,MAAM,EAAE;EACvE,OAAOA,MAAM,CAACR,OAAO,GAAGQ,MAAM,CAACR,OAAO,CAACE,WAAW,GAAG,IAAI;AAC3D,CAAC;AAED,IAAI0oC,wBAAwB,GAAG,SAASA,wBAAwB,CAACziC,MAAM,EAAE;EACvE,OAAOA,MAAM,CAACC,EAAE,IAAID,MAAM,CAACC,EAAE,CAAClL,IAAI,KAAK,SAAS,GAAGiL,MAAM,CAACC,EAAE,CAACpG,OAAO,CAACE,WAAW,GAAG,IAAI;AACzF,CAAC;AAED,SAAS2oC,oBAAoB,GAAG;EAC9B,IAAIC,cAAc,GAAGnvC,UAAU,CAAC,UAAUiH,CAAC,EAAEC,CAAC,EAAE;IAC9C,OAAO;MACLD,CAAC,EAAEA,CAAC;MACJC,CAAC,EAAEA;IACL,CAAC;EACH,CAAC,CAAC;EACF,IAAIkoC,mBAAmB,GAAGpvC,UAAU,CAAC,UAAU2X,IAAI,EAAEo2B,OAAO,EAAEsB,YAAY,EAAEn9B,WAAW,EAAEuS,QAAQ,EAAE;IACjG,OAAO;MACLjgB,UAAU,EAAE,IAAI;MAChBupC,OAAO,EAAEA,OAAO;MAChBnB,eAAe,EAAE96B,OAAO,CAAC2S,QAAQ,CAAC;MAClC6qB,aAAa,EAAE7qB,QAAQ;MACvB9M,IAAI,EAAEA,IAAI;MACV03B,YAAY,EAAEA,YAAY;MAC1Bn9B,WAAW,EAAEA,WAAW;MACxBq9B,gBAAgB,EAAE;IACpB,CAAC;EACH,CAAC,CAAC;EACF,IAAIC,gBAAgB,GAAGxvC,UAAU,CAAC,UAAUL,MAAM,EAAEgY,IAAI,EAAEK,SAAS,EAAE+1B,OAAO,EAAEsB,YAAY,EAAEn9B,WAAW,EAAEzB,kBAAkB,EAAE;IAC3H,OAAO;MACL48B,MAAM,EAAE;QACN9rC,IAAI,EAAE,UAAU;QAChBkjB,QAAQ,EAAE,IAAI;QACd4qB,YAAY,EAAEA,YAAY;QAC1Bn9B,WAAW,EAAEA,WAAW;QACxByF,IAAI,EAAEA,IAAI;QACVhY,MAAM,EAAEA,MAAM;QACdqY,SAAS,EAAEA,SAAS;QACpBvH,kBAAkB,EAAEA,kBAAkB;QACtCo+B,QAAQ,EAAEO,mBAAmB,CAACz3B,IAAI,EAAEo2B,OAAO,EAAEsB,YAAY,EAAEn9B,WAAW,EAAE,IAAI;MAC9E;IACF,CAAC;EACH,CAAC,CAAC;EAEF,IAAI6iB,QAAQ,GAAG,SAASA,QAAQ,CAACvb,KAAK,EAAEi2B,QAAQ,EAAE;IAChD,IAAIj2B,KAAK,CAAChV,UAAU,EAAE;MACpB,IAAIgV,KAAK,CAACK,QAAQ,CAAC1N,SAAS,CAAC/F,EAAE,KAAKqpC,QAAQ,CAAClpC,WAAW,EAAE;QACxD,OAAO,IAAI;MACb;MAEA,IAAI5G,MAAM,GAAG6Z,KAAK,CAAC1O,OAAO,CAACyK,MAAM,CAAC5V,MAAM;MACxC,IAAIqY,SAAS,GAAGwB,KAAK,CAACE,UAAU,CAAC5N,UAAU,CAAC2jC,QAAQ,CAAClpC,WAAW,CAAC;MACjE,IAAI8oC,YAAY,GAAGh2B,iBAAiB,CAACG,KAAK,CAAChN,MAAM,CAAC;MAClD,IAAI0F,WAAW,GAAG+8B,wBAAwB,CAACz1B,KAAK,CAAChN,MAAM,CAAC;MACxD,IAAIiE,kBAAkB,GAAG+I,KAAK,CAAC/I,kBAAkB;MACjD,OAAO++B,gBAAgB,CAACL,cAAc,CAACxvC,MAAM,CAACsH,CAAC,EAAEtH,MAAM,CAACuH,CAAC,CAAC,EAAEsS,KAAK,CAAC0D,YAAY,EAAElF,SAAS,EAAEy3B,QAAQ,CAAC1B,OAAO,EAAEsB,YAAY,EAAEn9B,WAAW,EAAEzB,kBAAkB,CAAC;IAC7J;IAEA,IAAI+I,KAAK,CAACW,KAAK,KAAK,gBAAgB,EAAE;MACpC,IAAImG,SAAS,GAAG9G,KAAK,CAAC8G,SAAS;MAE/B,IAAIA,SAAS,CAACzZ,MAAM,CAACN,WAAW,KAAKkpC,QAAQ,CAAClpC,WAAW,EAAE;QACzD,OAAO,IAAI;MACb;MAEA,IAAIwnC,OAAO,GAAG0B,QAAQ,CAAC1B,OAAO;MAC9B,IAAI9e,UAAU,GAAGzV,KAAK,CAACE,UAAU,CAAC5N,UAAU,CAAC2jC,QAAQ,CAAClpC,WAAW,CAAC;MAClE,IAAIM,MAAM,GAAGyZ,SAAS,CAACzZ,MAAM;MAC7B,IAAI8Q,IAAI,GAAG9Q,MAAM,CAAC8Q,IAAI;MAEtB,IAAI+3B,aAAa,GAAGX,2BAA2B,CAACloC,MAAM,CAAC;MAEvD,IAAI8oC,YAAY,GAAGX,wBAAwB,CAACnoC,MAAM,CAAC;MAEnD,IAAI0e,QAAQ,GAAG/L,KAAK,CAACuI,YAAY;MACjC,IAAI0C,QAAQ,GAAG;QACbc,QAAQ,EAAEA,QAAQ;QAClBqqB,KAAK,EAAEjrB,MAAM,CAACtB,IAAI;QAClBoC,MAAM,EAAEjM,KAAK,CAACwI,mBAAmB;QACjC6C,OAAO,EAAE8qB,YAAY,GAAGtpC,OAAO,CAACwe,OAAO,CAACxB,IAAI,GAAG,IAAI;QACnD0B,KAAK,EAAE4qB,YAAY,GAAGtpC,OAAO,CAAC0e,KAAK,CAAC1B,IAAI,GAAG;MAC7C,CAAC;MACD,OAAO;QACLgqB,MAAM,EAAE;UACN9rC,IAAI,EAAE,UAAU;UAChB5B,MAAM,EAAE6Z,KAAK,CAACwI,mBAAmB;UACjChK,SAAS,EAAEiX,UAAU;UACrBxK,QAAQ,EAAEA,QAAQ;UAClB4qB,YAAY,EAAEK,aAAa;UAC3Bx9B,WAAW,EAAEy9B,YAAY;UACzBh4B,IAAI,EAAEA,IAAI;UACVlH,kBAAkB,EAAE,IAAI;UACxBo+B,QAAQ,EAAEO,mBAAmB,CAACz3B,IAAI,EAAEo2B,OAAO,EAAE2B,aAAa,EAAEC,YAAY,EAAElrB,QAAQ;QACpF;MACF,CAAC;IACH;IAEA,OAAO,IAAI;EACb,CAAC;EAED,OAAOsQ,QAAQ;AACjB;AAEA,SAAS8a,oBAAoB,CAACN,gBAAgB,EAAE;EAC9C,OAAO;IACL/qC,UAAU,EAAE,KAAK;IACjBooC,eAAe,EAAE,KAAK;IACtBmB,OAAO,EAAE,KAAK;IACduB,aAAa,EAAE,IAAI;IACnB33B,IAAI,EAAE,IAAI;IACV03B,YAAY,EAAE,IAAI;IAClBE,gBAAgB,EAAEA,gBAAgB;IAClCr9B,WAAW,EAAE;EACf,CAAC;AACH;AAEA,IAAI49B,MAAM,GAAG;EACXzC,MAAM,EAAE;IACN9rC,IAAI,EAAE,WAAW;IACjB5B,MAAM,EAAEqH,MAAM;IACduoC,gBAAgB,EAAE,IAAI;IACtBpC,yBAAyB,EAAE,IAAI;IAC/B0B,QAAQ,EAAEgB,oBAAoB,CAAC,IAAI;EACrC;AACF,CAAC;AAED,SAASE,oBAAoB,GAAG;EAC9B,IAAIZ,cAAc,GAAGnvC,UAAU,CAAC,UAAUiH,CAAC,EAAEC,CAAC,EAAE;IAC9C,OAAO;MACLD,CAAC,EAAEA,CAAC;MACJC,CAAC,EAAEA;IACL,CAAC;EACH,CAAC,CAAC;EACF,IAAIkoC,mBAAmB,GAAGpvC,UAAU,CAAC6vC,oBAAoB,CAAC;EAC1D,IAAIL,gBAAgB,GAAGxvC,UAAU,CAAC,UAAUL,MAAM,EAAE4vC,gBAAgB,EAAEpC,yBAAyB,EAAE;IAC/F,IAAIoC,gBAAgB,KAAK,KAAK,CAAC,EAAE;MAC/BA,gBAAgB,GAAG,IAAI;IACzB;IAEA,OAAO;MACLlC,MAAM,EAAE;QACN9rC,IAAI,EAAE,WAAW;QACjB5B,MAAM,EAAEA,MAAM;QACd4vC,gBAAgB,EAAEA,gBAAgB;QAClCpC,yBAAyB,EAAEA,yBAAyB;QACpD0B,QAAQ,EAAEO,mBAAmB,CAACG,gBAAgB;MAChD;IACF,CAAC;EACH,CAAC,CAAC;EAEF,IAAIS,WAAW,GAAG,SAASA,WAAW,CAACT,gBAAgB,EAAE;IACvD,OAAOA,gBAAgB,GAAGC,gBAAgB,CAACxoC,MAAM,EAAEuoC,gBAAgB,EAAE,IAAI,CAAC,GAAG,IAAI;EACnF,CAAC;EAED,IAAIU,QAAQ,GAAG,SAASA,QAAQ,CAACC,KAAK,EAAEC,UAAU,EAAE3jC,MAAM,EAAEqF,aAAa,EAAE;IACzE,IAAIu+B,kBAAkB,GAAG5jC,MAAM,CAACa,SAAS,CAACY,OAAO,CAACiiC,KAAK,CAAC;IACxD,IAAIG,4BAA4B,GAAGv+B,OAAO,CAACD,aAAa,CAAC2L,aAAa,IAAI3L,aAAa,CAACE,QAAQ,CAACm+B,KAAK,CAAC,CAAC;IACxG,IAAI7pC,OAAO,GAAGqG,aAAa,CAACF,MAAM,CAAC;IACnC,IAAI+iC,gBAAgB,GAAGlpC,OAAO,IAAIA,OAAO,CAACE,WAAW,KAAK2pC,KAAK,GAAGC,UAAU,GAAG,IAAI;IAEnF,IAAI,CAACC,kBAAkB,EAAE;MACvB,IAAI,CAACC,4BAA4B,EAAE;QACjC,OAAOL,WAAW,CAACT,gBAAgB,CAAC;MACtC;MAEA,IAAI/iC,MAAM,CAACa,SAAS,CAACW,SAAS,CAACkiC,KAAK,CAAC,EAAE;QACrC,OAAO,IAAI;MACb;MAEA,IAAI7hB,MAAM,GAAG7mB,MAAM,CAACqK,aAAa,CAAC1D,WAAW,CAAC1G,KAAK,CAAC;MAEpD,IAAI6oC,OAAO,GAAGnB,cAAc,CAAC9gB,MAAM,CAACpnB,CAAC,EAAEonB,MAAM,CAACnnB,CAAC,CAAC;MAEhD,OAAOsoC,gBAAgB,CAACc,OAAO,EAAEf,gBAAgB,EAAE,IAAI,CAAC;IAC1D;IAEA,IAAIc,4BAA4B,EAAE;MAChC,OAAOL,WAAW,CAACT,gBAAgB,CAAC;IACtC;IAEA,IAAIt8B,UAAU,GAAGzG,MAAM,CAAC2B,WAAW,CAAC1G,KAAK;IACzC,IAAI9H,MAAM,GAAGwvC,cAAc,CAACl8B,UAAU,CAAChM,CAAC,EAAEgM,UAAU,CAAC/L,CAAC,CAAC;IACvD,OAAOsoC,gBAAgB,CAAC7vC,MAAM,EAAE4vC,gBAAgB,EAAEa,kBAAkB,CAAC1/B,aAAa,CAAC;EACrF,CAAC;EAED,IAAIqkB,QAAQ,GAAG,SAASA,QAAQ,CAACvb,KAAK,EAAEi2B,QAAQ,EAAE;IAChD,IAAIj2B,KAAK,CAAChV,UAAU,EAAE;MACpB,IAAIgV,KAAK,CAACK,QAAQ,CAAC1N,SAAS,CAAC/F,EAAE,KAAKqpC,QAAQ,CAAClpC,WAAW,EAAE;QACxD,OAAO,IAAI;MACb;MAEA,OAAO0pC,QAAQ,CAACR,QAAQ,CAAClpC,WAAW,EAAEiT,KAAK,CAACK,QAAQ,CAAC1N,SAAS,CAAC/F,EAAE,EAAEoT,KAAK,CAAChN,MAAM,EAAEgN,KAAK,CAAC3H,aAAa,CAAC;IACvG;IAEA,IAAI2H,KAAK,CAACW,KAAK,KAAK,gBAAgB,EAAE;MACpC,IAAImG,SAAS,GAAG9G,KAAK,CAAC8G,SAAS;MAE/B,IAAIA,SAAS,CAACzZ,MAAM,CAACN,WAAW,KAAKkpC,QAAQ,CAAClpC,WAAW,EAAE;QACzD,OAAO,IAAI;MACb;MAEA,OAAO0pC,QAAQ,CAACR,QAAQ,CAAClpC,WAAW,EAAE+Z,SAAS,CAACzZ,MAAM,CAACN,WAAW,EAAE+Z,SAAS,CAAC9T,MAAM,EAAE8T,SAAS,CAACzO,aAAa,CAAC;IAChH;IAEA,OAAO,IAAI;EACb,CAAC;EAED,OAAOkjB,QAAQ;AACjB;AAEA,IAAIwb,mBAAmB,GAAG,SAASA,mBAAmB,GAAG;EACvD,IAAIC,gBAAgB,GAAGtB,oBAAoB,EAAE;EAC7C,IAAIuB,iBAAiB,GAAGV,oBAAoB,EAAE;EAE9C,IAAIhb,QAAQ,GAAG,SAASA,QAAQ,CAACvb,KAAK,EAAEi2B,QAAQ,EAAE;IAChD,OAAOe,gBAAgB,CAACh3B,KAAK,EAAEi2B,QAAQ,CAAC,IAAIgB,iBAAiB,CAACj3B,KAAK,EAAEi2B,QAAQ,CAAC,IAAIK,MAAM;EAC1F,CAAC;EAED,OAAO/a,QAAQ;AACjB,CAAC;AACD,IAAI2b,kBAAkB,GAAG;EACvBptB,qBAAqB,EAAEA;AACzB,CAAC;AACD,IAAIqtB,kBAAkB,GAAGnxC,OAAO,CAAC+wC,mBAAmB,EAAEG,kBAAkB,EAAE,IAAI,EAAE;EAC9Elc,OAAO,EAAE4E,YAAY;EACrBwX,IAAI,EAAE,IAAI;EACVC,kBAAkB,EAAE/B;AACtB,CAAC,CAAC,CAACZ,SAAS,CAAC;AAEb,SAAS4C,gBAAgB,CAAC1rC,KAAK,EAAE;EAC/B,IAAI2rC,gBAAgB,GAAGtI,kBAAkB,CAAC0C,gBAAgB,CAAC;EAC3D,IAAI6F,eAAe,GAAGD,gBAAgB,CAACC,eAAe;EAEtD,IAAIA,eAAe,KAAK5rC,KAAK,CAACmB,WAAW,IAAI,CAACnB,KAAK,CAAC2oC,OAAO,EAAE;IAC3D,OAAO,IAAI;EACb;EAEA,OAAOvvC,KAAK,CAACq3B,aAAa,CAAC8a,kBAAkB,EAAEvrC,KAAK,CAAC;AACvD;AACA,SAAS6rC,eAAe,CAAC7rC,KAAK,EAAE;EAC9B,IAAI6Q,SAAS,GAAG,OAAO7Q,KAAK,CAAC8rC,cAAc,KAAK,SAAS,GAAG,CAAC9rC,KAAK,CAAC8rC,cAAc,GAAG,IAAI;EACxF,IAAIrN,0BAA0B,GAAG/xB,OAAO,CAAC1M,KAAK,CAAC+rC,iCAAiC,CAAC;EACjF,IAAI3S,uBAAuB,GAAG1sB,OAAO,CAAC1M,KAAK,CAACo5B,uBAAuB,CAAC;EACpE,OAAOhgC,KAAK,CAACq3B,aAAa,CAACib,gBAAgB,EAAE7xC,QAAQ,CAAC,CAAC,CAAC,EAAEmG,KAAK,EAAE;IAC/D2oC,OAAO,EAAE,KAAK;IACd93B,SAAS,EAAEA,SAAS;IACpB4tB,0BAA0B,EAAEA,0BAA0B;IACtDrF,uBAAuB,EAAEA;EAC3B,CAAC,CAAC,CAAC;AACL;AAEA,SAAS4S,SAAS,CAAChsC,KAAK,EAAE;EACxB,IAAI+gC,UAAU,GAAGtnC,UAAU,CAACs7B,UAAU,CAAC;EACvC,CAACgM,UAAU,GAAG1lC,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,GAAG4C,SAAS,CAAC,KAAK,EAAE,4BAA4B,CAAC,GAAGA,SAAS,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC;EAChI,IAAI8wB,SAAS,GAAG8R,UAAU,CAAC9R,SAAS;IAChCna,iBAAiB,GAAGisB,UAAU,CAACjsB,iBAAiB;EACpD,IAAIm3B,YAAY,GAAG1yC,MAAM,CAAC,IAAI,CAAC;EAC/B,IAAI2yC,cAAc,GAAG3yC,MAAM,CAAC,IAAI,CAAC;EACjC,IAAI0G,QAAQ,GAAGD,KAAK,CAACC,QAAQ;IACzBW,WAAW,GAAGZ,KAAK,CAACY,WAAW;IAC/BzE,IAAI,GAAG6D,KAAK,CAAC7D,IAAI;IACjBoW,IAAI,GAAGvS,KAAK,CAACuS,IAAI;IACjBvI,SAAS,GAAGhK,KAAK,CAACgK,SAAS;IAC3Bm6B,uBAAuB,GAAGnkC,KAAK,CAACmkC,uBAAuB;IACvDlB,cAAc,GAAGjjC,KAAK,CAACijC,cAAc;IACrCn7B,gBAAgB,GAAG9H,KAAK,CAAC8H,gBAAgB;IACzC2hC,QAAQ,GAAGzpC,KAAK,CAACypC,QAAQ;IACzB0C,QAAQ,GAAGnsC,KAAK,CAACmsC,QAAQ;IACzB1uB,uBAAuB,GAAGzd,KAAK,CAACyd,uBAAuB;IACvD2uB,oBAAoB,GAAGpsC,KAAK,CAACosC,oBAAoB;EACrD,IAAIlI,eAAe,GAAGvqC,WAAW,CAAC,YAAY;IAC5C,OAAOsyC,YAAY,CAACvmC,OAAO;EAC7B,CAAC,EAAE,EAAE,CAAC;EACN,IAAI2mC,eAAe,GAAG1yC,WAAW,CAAC,UAAUgC,KAAK,EAAE;IACjDswC,YAAY,CAACvmC,OAAO,GAAG/J,KAAK;EAC9B,CAAC,EAAE,EAAE,CAAC;EACN,IAAI4qC,iBAAiB,GAAG5sC,WAAW,CAAC,YAAY;IAC9C,OAAOuyC,cAAc,CAACxmC,OAAO;EAC/B,CAAC,EAAE,EAAE,CAAC;EACN,IAAI4mC,iBAAiB,GAAG3yC,WAAW,CAAC,UAAUgC,KAAK,EAAE;IACnDuwC,cAAc,CAACxmC,OAAO,GAAG/J,KAAK;EAChC,CAAC,EAAE,EAAE,CAAC;EACNmrC,aAAa,CAAC;IACZ9mC,KAAK,EAAEA,KAAK;IACZkkC,eAAe,EAAEA,eAAe;IAChCqC,iBAAiB,EAAEA;EACrB,CAAC,CAAC;EACF,IAAIgG,0BAA0B,GAAG5yC,WAAW,CAAC,YAAY;IACvD,IAAImb,iBAAiB,EAAE,EAAE;MACvB2I,uBAAuB,CAAC;QACtBpK,SAAS,EAAEgV,kBAAkB;MAC/B,CAAC,CAAC;IACJ;EACF,CAAC,EAAE,CAACvT,iBAAiB,EAAE2I,uBAAuB,CAAC,CAAC;EAChDkmB,qBAAqB,CAAC;IACpB/iC,WAAW,EAAEA,WAAW;IACxBzE,IAAI,EAAEA,IAAI;IACVoW,IAAI,EAAEA,IAAI;IACVvI,SAAS,EAAEA,SAAS;IACpBi5B,cAAc,EAAEA,cAAc;IAC9Bn7B,gBAAgB,EAAEA,gBAAgB;IAClCq8B,uBAAuB,EAAEA,uBAAuB;IAChDD,eAAe,EAAEA;EACnB,CAAC,CAAC;EACF,IAAI7qB,WAAW,GAAGjgB,KAAK,CAACq3B,aAAa,CAACsW,YAAY,EAAE;IAClDE,EAAE,EAAEjnC,KAAK,CAACqZ,WAAW;IACrB/N,aAAa,EAAEtL,KAAK,CAACwsC;EACvB,CAAC,EAAE,UAAU/pC,IAAI,EAAE;IACjB,IAAI8iC,OAAO,GAAG9iC,IAAI,CAAC8iC,OAAO;MACtBjhB,IAAI,GAAG7hB,IAAI,CAAC6hB,IAAI;MAChBmgB,OAAO,GAAGhiC,IAAI,CAACgiC,OAAO;IAC1B,OAAOrrC,KAAK,CAACq3B,aAAa,CAACoV,aAAa,EAAE;MACxCxsB,WAAW,EAAEiL,IAAI;MACjBihB,OAAO,EAAEA,OAAO;MAChBK,QAAQ,EAAE0G,iBAAiB;MAC3B7H,OAAO,EAAEA,OAAO;MAChBxV,SAAS,EAAEA,SAAS;MACpBqW,eAAe,EAAEiH;IACnB,CAAC,CAAC;EACJ,CAAC,CAAC;EACF,IAAI9nB,QAAQ,GAAG/qB,OAAO,CAAC,YAAY;IACjC,OAAO;MACLksC,QAAQ,EAAEyG,eAAe;MACzBhzB,WAAW,EAAEA,WAAW;MACxBozB,cAAc,EAAE;QACd,uBAAuB,EAAE7rC,WAAW;QACpC,+BAA+B,EAAEquB;MACnC;IACF,CAAC;EACH,CAAC,EAAE,CAACA,SAAS,EAAEruB,WAAW,EAAEyY,WAAW,EAAEgzB,eAAe,CAAC,CAAC;EAC1D,IAAIT,eAAe,GAAGO,QAAQ,GAAGA,QAAQ,CAAC/sB,QAAQ,CAACje,WAAW,GAAG,IAAI;EACrE,IAAIwqC,gBAAgB,GAAGjyC,OAAO,CAAC,YAAY;IACzC,OAAO;MACLkH,WAAW,EAAEA,WAAW;MACxBzE,IAAI,EAAEA,IAAI;MACVyvC,eAAe,EAAEA;IACnB,CAAC;EACH,CAAC,EAAE,CAAChrC,WAAW,EAAEgrC,eAAe,EAAEzvC,IAAI,CAAC,CAAC;EAExC,SAASuwC,QAAQ,GAAG;IAClB,IAAI,CAACP,QAAQ,EAAE;MACb,OAAO,IAAI;IACb;IAEA,IAAI/sB,QAAQ,GAAG+sB,QAAQ,CAAC/sB,QAAQ;MAC5Brf,MAAM,GAAGosC,QAAQ,CAACpsC,MAAM;IAC5B,IAAI4sC,IAAI,GAAGvzC,KAAK,CAACq3B,aAAa,CAACib,gBAAgB,EAAE;MAC/CvqC,WAAW,EAAEie,QAAQ,CAACje,WAAW;MACjCd,KAAK,EAAE+e,QAAQ,CAAC5e,MAAM,CAACH,KAAK;MAC5BsoC,OAAO,EAAE,IAAI;MACb93B,SAAS,EAAE,IAAI;MACfuoB,uBAAuB,EAAE,KAAK;MAC9BqF,0BAA0B,EAAE;IAC9B,CAAC,EAAE,UAAUmO,iBAAiB,EAAEC,iBAAiB,EAAE;MACjD,OAAO9sC,MAAM,CAAC6sC,iBAAiB,EAAEC,iBAAiB,EAAEztB,QAAQ,CAAC;IAC/D,CAAC,CAAC;IACF,OAAOlkB,QAAQ,CAAC4xC,YAAY,CAACH,IAAI,EAAEP,oBAAoB,EAAE,CAAC;EAC5D;EAEA,OAAOhzC,KAAK,CAACq3B,aAAa,CAACsV,gBAAgB,CAAC5rC,QAAQ,EAAE;IACpDwB,KAAK,EAAEgwC;EACT,CAAC,EAAE1rC,QAAQ,CAACwkB,QAAQ,EAAEglB,QAAQ,CAAC,EAAEiD,QAAQ,EAAE,CAAC;AAC9C;AAEA,IAAIK,cAAc,GAAG,SAASA,cAAc,CAAC5wC,IAAI,EAAEsY,QAAQ,EAAE;EAC3D,OAAOtY,IAAI,KAAKsY,QAAQ,CAACrP,SAAS,CAACjJ,IAAI;AACzC,CAAC;AAED,IAAI6wC,YAAY,GAAG,SAASA,YAAY,CAACv4B,QAAQ,EAAEH,UAAU,EAAE;EAC7D,OAAOA,UAAU,CAAC5N,UAAU,CAAC+N,QAAQ,CAAC1N,SAAS,CAAC/F,EAAE,CAAC;AACrD,CAAC;AAED,IAAIisC,qBAAqB,GAAG,SAAS9B,mBAAmB,GAAG;EACzD,IAAI+B,iBAAiB,GAAG;IACtB7zB,WAAW,EAAE,IAAI;IACjBmzB,wBAAwB,EAAE,IAAI;IAC9B/C,QAAQ,EAAE;MACR0D,cAAc,EAAE,KAAK;MACrBC,gBAAgB,EAAE,IAAI;MACtBC,oBAAoB,EAAE,IAAI;MAC1BC,kBAAkB,EAAE;IACtB,CAAC;IACDnB,QAAQ,EAAE;EACZ,CAAC;EAED,IAAIoB,oBAAoB,GAAG1zC,QAAQ,CAAC,CAAC,CAAC,EAAEqzC,iBAAiB,EAAE;IACzDV,wBAAwB,EAAE;EAC5B,CAAC,CAAC;EAEF,IAAIgB,kBAAkB,GAAG5yC,UAAU,CAAC,UAAU4L,UAAU,EAAE;IACxD,OAAO;MACLrF,WAAW,EAAEqF,UAAU,CAACxF,EAAE;MAC1B7E,IAAI,EAAEqK,UAAU,CAACrK,IAAI;MACrBqE,MAAM,EAAE;QACNH,KAAK,EAAEmG,UAAU,CAACnG,KAAK;QACvBO,WAAW,EAAE4F,UAAU,CAAC5F;MAC1B;IACF,CAAC;EACH,CAAC,CAAC;EACF,IAAI6sC,WAAW,GAAG7yC,UAAU,CAAC,UAAUoG,EAAE,EAAE6P,SAAS,EAAE68B,yBAAyB,EAAEC,uBAAuB,EAAEvuB,QAAQ,EAAEunB,WAAW,EAAE;IAC/H,IAAIxlC,WAAW,GAAGie,QAAQ,CAAC5Y,UAAU,CAACxF,EAAE;IACxC,IAAI4sC,MAAM,GAAGxuB,QAAQ,CAAC5Y,UAAU,CAAC5F,WAAW,KAAKI,EAAE;IAEnD,IAAI4sC,MAAM,EAAE;MACV,IAAIzB,QAAQ,GAAGxF,WAAW,GAAG;QAC3B5mC,MAAM,EAAE4mC,WAAW;QACnBvnB,QAAQ,EAAEouB,kBAAkB,CAACpuB,QAAQ,CAAC5Y,UAAU;MAClD,CAAC,GAAG,IAAI;MACR,IAAIqnC,SAAS,GAAG;QACdV,cAAc,EAAEO,yBAAyB;QACzCN,gBAAgB,EAAEM,yBAAyB,GAAGvsC,WAAW,GAAG,IAAI;QAChEksC,oBAAoB,EAAElsC,WAAW;QACjCmsC,kBAAkB,EAAE;MACtB,CAAC;MACD,OAAO;QACLj0B,WAAW,EAAE+F,QAAQ,CAAC/F,WAAW;QACjCmzB,wBAAwB,EAAE,KAAK;QAC/B/C,QAAQ,EAAEoE,SAAS;QACnB1B,QAAQ,EAAEA;MACZ,CAAC;IACH;IAEA,IAAI,CAACt7B,SAAS,EAAE;MACd,OAAO08B,oBAAoB;IAC7B;IAEA,IAAI,CAACI,uBAAuB,EAAE;MAC5B,OAAOT,iBAAiB;IAC1B;IAEA,IAAIzD,QAAQ,GAAG;MACb0D,cAAc,EAAEO,yBAAyB;MACzCN,gBAAgB,EAAEjsC,WAAW;MAC7BksC,oBAAoB,EAAE,IAAI;MAC1BC,kBAAkB,EAAE;IACtB,CAAC;IACD,OAAO;MACLj0B,WAAW,EAAE+F,QAAQ,CAAC/F,WAAW;MACjCmzB,wBAAwB,EAAE,IAAI;MAC9B/C,QAAQ,EAAEA,QAAQ;MAClB0C,QAAQ,EAAE;IACZ,CAAC;EACH,CAAC,CAAC;EAEF,IAAIxc,QAAQ,GAAG,SAASA,QAAQ,CAACvb,KAAK,EAAEi2B,QAAQ,EAAE;IAChD,IAAIrpC,EAAE,GAAGqpC,QAAQ,CAACzpC,WAAW;IAC7B,IAAIzE,IAAI,GAAGkuC,QAAQ,CAACluC,IAAI;IACxB,IAAI0U,SAAS,GAAG,CAACw5B,QAAQ,CAACpH,cAAc;IACxC,IAAI0D,WAAW,GAAG0D,QAAQ,CAAC1D,WAAW;IAEtC,IAAIvyB,KAAK,CAAChV,UAAU,EAAE;MACpB,IAAIqV,QAAQ,GAAGL,KAAK,CAACK,QAAQ;MAE7B,IAAI,CAACs4B,cAAc,CAAC5wC,IAAI,EAAEsY,QAAQ,CAAC,EAAE;QACnC,OAAO84B,oBAAoB;MAC7B;MAEA,IAAInuB,QAAQ,GAAG4tB,YAAY,CAACv4B,QAAQ,EAAEL,KAAK,CAACE,UAAU,CAAC;MACvD,IAAI64B,cAAc,GAAGl5B,iBAAiB,CAACG,KAAK,CAAChN,MAAM,CAAC,KAAKpG,EAAE;MAC3D,OAAOysC,WAAW,CAACzsC,EAAE,EAAE6P,SAAS,EAAEs8B,cAAc,EAAEA,cAAc,EAAE/tB,QAAQ,EAAEunB,WAAW,CAAC;IAC1F;IAEA,IAAIvyB,KAAK,CAACW,KAAK,KAAK,gBAAgB,EAAE;MACpC,IAAImG,SAAS,GAAG9G,KAAK,CAAC8G,SAAS;MAE/B,IAAI,CAAC6xB,cAAc,CAAC5wC,IAAI,EAAE+e,SAAS,CAACzG,QAAQ,CAAC,EAAE;QAC7C,OAAO84B,oBAAoB;MAC7B;MAEA,IAAI3f,SAAS,GAAGof,YAAY,CAAC9xB,SAAS,CAACzG,QAAQ,EAAEL,KAAK,CAACE,UAAU,CAAC;MAElE,OAAOm5B,WAAW,CAACzsC,EAAE,EAAE6P,SAAS,EAAE84B,2BAA2B,CAACzuB,SAAS,CAACzZ,MAAM,CAAC,KAAKT,EAAE,EAAEiT,iBAAiB,CAACiH,SAAS,CAAC9T,MAAM,CAAC,KAAKpG,EAAE,EAAE4sB,SAAS,EAAE+Y,WAAW,CAAC;IAC7J;IAEA,IAAIvyB,KAAK,CAACW,KAAK,KAAK,MAAM,IAAIX,KAAK,CAAC8G,SAAS,IAAI,CAAC9G,KAAK,CAAC+G,WAAW,EAAE;MACnE,IAAI2B,UAAU,GAAG1I,KAAK,CAAC8G,SAAS;MAEhC,IAAI,CAAC6xB,cAAc,CAAC5wC,IAAI,EAAE2gB,UAAU,CAACrI,QAAQ,CAAC,EAAE;QAC9C,OAAO84B,oBAAoB;MAC7B;MAEA,IAAIhzB,OAAO,GAAGtG,iBAAiB,CAAC6I,UAAU,CAAC1V,MAAM,CAAC,KAAKpG,EAAE;MACzD,IAAI8sC,YAAY,GAAGphC,OAAO,CAACoQ,UAAU,CAAC1V,MAAM,CAACC,EAAE,IAAIyV,UAAU,CAAC1V,MAAM,CAACC,EAAE,CAAClL,IAAI,KAAK,SAAS,CAAC;MAC3F,IAAIyxC,MAAM,GAAG9wB,UAAU,CAACrI,QAAQ,CAACrP,SAAS,CAACpE,EAAE,KAAKA,EAAE;MAEpD,IAAIuZ,OAAO,EAAE;QACX,OAAOuzB,YAAY,GAAGZ,iBAAiB,GAAGK,oBAAoB;MAChE;MAEA,IAAIK,MAAM,EAAE;QACV,OAAOV,iBAAiB;MAC1B;MAEA,OAAOK,oBAAoB;IAC7B;IAEA,OAAOA,oBAAoB;EAC7B,CAAC;EAED,OAAO5d,QAAQ;AACjB,CAAC;AACD,IAAIoe,oBAAoB,GAAG;EACzBtwB,uBAAuB,EAAEA;AAC3B,CAAC;AAED,SAASuwB,OAAO,GAAG;EACjB,CAAC9rB,QAAQ,CAACqO,IAAI,GAAGl1B,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,GAAG4C,SAAS,CAAC,KAAK,EAAE,4BAA4B,CAAC,GAAGA,SAAS,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC;EACnI,OAAO+jB,QAAQ,CAACqO,IAAI;AACtB;AAEA,IAAI0d,YAAY,GAAG;EACjB17B,IAAI,EAAE,UAAU;EAChBpW,IAAI,EAAE,SAAS;EACf6N,SAAS,EAAE,UAAU;EACrBi5B,cAAc,EAAE,KAAK;EACrBn7B,gBAAgB,EAAE,KAAK;EACvBq8B,uBAAuB,EAAE,KAAK;EAC9BwC,WAAW,EAAE,IAAI;EACjByF,oBAAoB,EAAE4B;AACxB,CAAC;AACD,IAAIE,kBAAkB,GAAG9zC,OAAO,CAAC6yC,qBAAqB,EAAEc,oBAAoB,EAAE,IAAI,EAAE;EAClF3e,OAAO,EAAE4E,YAAY;EACrBwX,IAAI,EAAE,IAAI;EACVC,kBAAkB,EAAE/B;AACtB,CAAC,CAAC,CAACsC,SAAS,CAAC;AACbkC,kBAAkB,CAACD,YAAY,GAAGA,YAAY;AAE9C,SAAS9M,eAAe,EAAE0K,eAAe,IAAI/C,SAAS,EAAEoF,kBAAkB,IAAIlC,SAAS,EAAE9K,kBAAkB"},"metadata":{},"sourceType":"module","externalDependencies":[]}